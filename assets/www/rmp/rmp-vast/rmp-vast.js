/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 7078:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7481);

module.exports = parent;


/***/ }),

/***/ 1718:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2437);

module.exports = parent;


/***/ }),

/***/ 4023:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(3306);

module.exports = parent;


/***/ }),

/***/ 8081:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2956);

module.exports = parent;


/***/ }),

/***/ 8977:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4360);

module.exports = parent;


/***/ }),

/***/ 3310:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9771);

module.exports = parent;


/***/ }),

/***/ 6726:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7521);

module.exports = parent;


/***/ }),

/***/ 8650:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8485);

module.exports = parent;


/***/ }),

/***/ 1550:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4519);

module.exports = parent;


/***/ }),

/***/ 4615:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6368);

module.exports = parent;


/***/ }),

/***/ 137:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1288);

module.exports = parent;


/***/ }),

/***/ 1829:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8084);

module.exports = parent;


/***/ }),

/***/ 3752:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9253);

module.exports = parent;


/***/ }),

/***/ 5485:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2408);

module.exports = parent;


/***/ }),

/***/ 1431:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1208);

__webpack_require__(639);

module.exports = parent;


/***/ }),

/***/ 5665:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4404);

module.exports = parent;


/***/ }),

/***/ 2890:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5879);

module.exports = parent;


/***/ }),

/***/ 7888:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(7632);
__webpack_require__(6206);
var path = __webpack_require__(7675);

module.exports = path.Array.from;


/***/ }),

/***/ 7864:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(5425);
var path = __webpack_require__(7675);

module.exports = path.Array.isArray;


/***/ }),

/***/ 540:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9958);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').concat;


/***/ }),

/***/ 7274:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(1284);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').filter;


/***/ }),

/***/ 9307:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(7765);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').find;


/***/ }),

/***/ 9756:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9177);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').forEach;


/***/ }),

/***/ 5213:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(7019);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').includes;


/***/ }),

/***/ 6682:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(7640);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').indexOf;


/***/ }),

/***/ 4652:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6396);
__webpack_require__(5991);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').keys;


/***/ }),

/***/ 2575:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(5973);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').lastIndexOf;


/***/ }),

/***/ 1700:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(1306);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').map;


/***/ }),

/***/ 3232:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(4966);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').push;


/***/ }),

/***/ 6914:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(8132);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').reduce;


/***/ }),

/***/ 1392:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(4126);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').reverse;


/***/ }),

/***/ 7452:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9778);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').slice;


/***/ }),

/***/ 700:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(2714);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').sort;


/***/ }),

/***/ 7500:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(8969);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Array').splice;


/***/ }),

/***/ 134:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(990);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('Function').bind;


/***/ }),

/***/ 9225:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6396);
__webpack_require__(7632);
var getIteratorMethod = __webpack_require__(6399);

module.exports = getIteratorMethod;


/***/ }),

/***/ 1275:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(134);

var FunctionPrototype = Function.prototype;

module.exports = function (it) {
  var own = it.bind;
  return it === FunctionPrototype || (isPrototypeOf(FunctionPrototype, it) && own === FunctionPrototype.bind) ? method : own;
};


/***/ }),

/***/ 7584:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(540);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.concat;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.concat) ? method : own;
};


/***/ }),

/***/ 7654:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(7274);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.filter;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.filter) ? method : own;
};


/***/ }),

/***/ 5775:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(9307);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.find;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.find) ? method : own;
};


/***/ }),

/***/ 2737:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var arrayMethod = __webpack_require__(5213);
var stringMethod = __webpack_require__(9315);

var ArrayPrototype = Array.prototype;
var StringPrototype = String.prototype;

module.exports = function (it) {
  var own = it.includes;
  if (it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.includes)) return arrayMethod;
  if (typeof it == 'string' || it === StringPrototype || (isPrototypeOf(StringPrototype, it) && own === StringPrototype.includes)) {
    return stringMethod;
  } return own;
};


/***/ }),

/***/ 2342:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(6682);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.indexOf;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.indexOf) ? method : own;
};


/***/ }),

/***/ 1691:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(2575);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.lastIndexOf;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.lastIndexOf) ? method : own;
};


/***/ }),

/***/ 16:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(1700);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.map;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.map) ? method : own;
};


/***/ }),

/***/ 5794:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(5036);

var StringPrototype = String.prototype;

module.exports = function (it) {
  var own = it.padStart;
  return typeof it == 'string' || it === StringPrototype
    || (isPrototypeOf(StringPrototype, it) && own === StringPrototype.padStart) ? method : own;
};


/***/ }),

/***/ 4516:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(3232);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.push;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.push) ? method : own;
};


/***/ }),

/***/ 7806:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(6914);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.reduce;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.reduce) ? method : own;
};


/***/ }),

/***/ 8260:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(1392);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.reverse;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.reverse) ? method : own;
};


/***/ }),

/***/ 1328:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(7452);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.slice;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.slice) ? method : own;
};


/***/ }),

/***/ 4824:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(700);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.sort;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.sort) ? method : own;
};


/***/ }),

/***/ 5992:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(7500);

var ArrayPrototype = Array.prototype;

module.exports = function (it) {
  var own = it.splice;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.splice) ? method : own;
};


/***/ }),

/***/ 8174:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(8160);

var StringPrototype = String.prototype;

module.exports = function (it) {
  var own = it.startsWith;
  return typeof it == 'string' || it === StringPrototype
    || (isPrototypeOf(StringPrototype, it) && own === StringPrototype.startsWith) ? method : own;
};


/***/ }),

/***/ 744:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(4170);

var StringPrototype = String.prototype;

module.exports = function (it) {
  var own = it.trim;
  return typeof it == 'string' || it === StringPrototype
    || (isPrototypeOf(StringPrototype, it) && own === StringPrototype.trim) ? method : own;
};


/***/ }),

/***/ 4090:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(1522);
var path = __webpack_require__(7675);
var apply = __webpack_require__(1981);

// eslint-disable-next-line es/no-json -- safe
if (!path.JSON) path.JSON = { stringify: JSON.stringify };

// eslint-disable-next-line no-unused-vars -- required for `.length`
module.exports = function stringify(it, replacer, space) {
  return apply(path.JSON.stringify, null, arguments);
};


/***/ }),

/***/ 8789:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6396);
__webpack_require__(9445);
__webpack_require__(5991);
__webpack_require__(7632);
var path = __webpack_require__(7675);

module.exports = path.Map;


/***/ }),

/***/ 5933:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6889);
var path = __webpack_require__(7675);

module.exports = path.Object.assign;


/***/ }),

/***/ 2096:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9252);
var path = __webpack_require__(7675);

var Object = path.Object;

module.exports = function create(P, D) {
  return Object.create(P, D);
};


/***/ }),

/***/ 8825:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(8805);
var path = __webpack_require__(7675);

var Object = path.Object;

var defineProperty = module.exports = function defineProperty(it, key, desc) {
  return Object.defineProperty(it, key, desc);
};

if (Object.defineProperty.sham) defineProperty.sham = true;


/***/ }),

/***/ 6696:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(28);
var path = __webpack_require__(7675);

var Object = path.Object;

module.exports = function getOwnPropertyNames(it) {
  return Object.getOwnPropertyNames(it);
};


/***/ }),

/***/ 6859:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(4999);
var path = __webpack_require__(7675);

module.exports = path.Object.getPrototypeOf;


/***/ }),

/***/ 9768:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9676);
var path = __webpack_require__(7675);

module.exports = path.Object.keys;


/***/ }),

/***/ 3119:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(2947);
var path = __webpack_require__(7675);

module.exports = path.Object.setPrototypeOf;


/***/ }),

/***/ 5746:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(3582);
var path = __webpack_require__(7675);

module.exports = path.Object.values;


/***/ }),

/***/ 3584:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6839);
var path = __webpack_require__(7675);

module.exports = path.parseFloat;


/***/ }),

/***/ 9388:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(1416);
var path = __webpack_require__(7675);

module.exports = path.parseInt;


/***/ }),

/***/ 2650:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(1095);
__webpack_require__(6396);
__webpack_require__(5991);
__webpack_require__(9766);
__webpack_require__(6331);
__webpack_require__(3474);
__webpack_require__(4235);
__webpack_require__(7632);
var path = __webpack_require__(7675);

module.exports = path.Promise;


/***/ }),

/***/ 1251:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6765);
var path = __webpack_require__(7675);

module.exports = path.Reflect.construct;


/***/ }),

/***/ 9315:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(3991);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('String').includes;


/***/ }),

/***/ 5036:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(448);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('String').padStart;


/***/ }),

/***/ 8160:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(2780);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('String').startsWith;


/***/ }),

/***/ 4170:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(614);
var entryVirtual = __webpack_require__(5296);

module.exports = entryVirtual('String').trim;


/***/ }),

/***/ 6309:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(9958);
__webpack_require__(5991);
__webpack_require__(7375);
__webpack_require__(3128);
__webpack_require__(1555);
__webpack_require__(101);
__webpack_require__(7100);
__webpack_require__(3391);
__webpack_require__(2712);
__webpack_require__(3714);
__webpack_require__(1713);
__webpack_require__(9357);
__webpack_require__(47);
__webpack_require__(7253);
__webpack_require__(2136);
__webpack_require__(7193);
__webpack_require__(4850);
__webpack_require__(6111);
__webpack_require__(2259);
__webpack_require__(308);
var path = __webpack_require__(7675);

module.exports = path.Symbol;


/***/ }),

/***/ 6075:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6396);
__webpack_require__(5991);
__webpack_require__(7632);
__webpack_require__(3391);
var WrappedWellKnownSymbolModule = __webpack_require__(1635);

module.exports = WrappedWellKnownSymbolModule.f('iterator');


/***/ }),

/***/ 9148:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(5704);
__webpack_require__(2136);
var WrappedWellKnownSymbolModule = __webpack_require__(1635);

module.exports = WrappedWellKnownSymbolModule.f('toPrimitive');


/***/ }),

/***/ 8327:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7078);

module.exports = parent;


/***/ }),

/***/ 4411:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1718);

module.exports = parent;


/***/ }),

/***/ 8376:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4023);

module.exports = parent;


/***/ }),

/***/ 2698:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8081);

module.exports = parent;


/***/ }),

/***/ 3222:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8977);

module.exports = parent;


/***/ }),

/***/ 1997:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(3310);

module.exports = parent;


/***/ }),

/***/ 8027:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6726);

module.exports = parent;


/***/ }),

/***/ 4831:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8650);

module.exports = parent;


/***/ }),

/***/ 3461:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1550);

module.exports = parent;


/***/ }),

/***/ 1350:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4615);

module.exports = parent;


/***/ }),

/***/ 1758:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(137);

module.exports = parent;


/***/ }),

/***/ 6890:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1829);

module.exports = parent;


/***/ }),

/***/ 6691:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(3752);
__webpack_require__(4506);
// TODO: Remove from `core-js@4`
__webpack_require__(4478);
__webpack_require__(3240);
__webpack_require__(6531);

module.exports = parent;


/***/ }),

/***/ 594:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5485);

module.exports = parent;


/***/ }),

/***/ 6258:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1431);
__webpack_require__(4182);
__webpack_require__(9125);
__webpack_require__(6423);
__webpack_require__(3692);
__webpack_require__(2643);
__webpack_require__(7269);
// TODO: Remove from `core-js@4`
__webpack_require__(1693);
__webpack_require__(3807);
__webpack_require__(220);

module.exports = parent;


/***/ }),

/***/ 4770:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5665);

module.exports = parent;


/***/ }),

/***/ 1677:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2890);

module.exports = parent;


/***/ }),

/***/ 182:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isCallable = __webpack_require__(2073);
var tryToString = __webpack_require__(4003);

var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a function');
};


/***/ }),

/***/ 5040:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isConstructor = __webpack_require__(6553);
var tryToString = __webpack_require__(4003);

var $TypeError = TypeError;

// `Assert: IsConstructor(argument) is true`
module.exports = function (argument) {
  if (isConstructor(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a constructor');
};


/***/ }),

/***/ 8934:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isCallable = __webpack_require__(2073);

var $String = String;
var $TypeError = TypeError;

module.exports = function (argument) {
  if (typeof argument == 'object' || isCallable(argument)) return argument;
  throw $TypeError("Can't set " + $String(argument) + ' as a prototype');
};


/***/ }),

/***/ 6065:
/***/ (function(module) {

module.exports = function () { /* empty */ };


/***/ }),

/***/ 675:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(3381);

var $TypeError = TypeError;

module.exports = function (it, Prototype) {
  if (isPrototypeOf(Prototype, it)) return it;
  throw $TypeError('Incorrect invocation');
};


/***/ }),

/***/ 8347:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isObject = __webpack_require__(5774);

var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw $TypeError($String(argument) + ' is not an object');
};


/***/ }),

/***/ 6784:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

// FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it
var fails = __webpack_require__(7131);

module.exports = fails(function () {
  if (typeof ArrayBuffer == 'function') {
    var buffer = new ArrayBuffer(8);
    // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe
    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', { value: 8 });
  }
});


/***/ }),

/***/ 1591:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $forEach = (__webpack_require__(2217).forEach);
var arrayMethodIsStrict = __webpack_require__(538);

var STRICT_METHOD = arrayMethodIsStrict('forEach');

// `Array.prototype.forEach` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.foreach
module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
} : [].forEach;


/***/ }),

/***/ 6864:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(2116);
var call = __webpack_require__(3057);
var toObject = __webpack_require__(5809);
var callWithSafeIterationClosing = __webpack_require__(2843);
var isArrayIteratorMethod = __webpack_require__(5669);
var isConstructor = __webpack_require__(6553);
var lengthOfArrayLike = __webpack_require__(954);
var createProperty = __webpack_require__(8724);
var getIterator = __webpack_require__(7013);
var getIteratorMethod = __webpack_require__(6399);

var $Array = Array;

// `Array.from` method implementation
// https://tc39.es/ecma262/#sec-array.from
module.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
  var O = toObject(arrayLike);
  var IS_CONSTRUCTOR = isConstructor(this);
  var argumentsLength = arguments.length;
  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
  var mapping = mapfn !== undefined;
  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
  var iteratorMethod = getIteratorMethod(O);
  var index = 0;
  var length, result, step, iterator, next, value;
  // if the target is not iterable or it's an array with the default iterator - use a simple case
  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {
    iterator = getIterator(O, iteratorMethod);
    next = iterator.next;
    result = IS_CONSTRUCTOR ? new this() : [];
    for (;!(step = call(next, iterator)).done; index++) {
      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
      createProperty(result, index, value);
    }
  } else {
    length = lengthOfArrayLike(O);
    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);
    for (;length > index; index++) {
      value = mapping ? mapfn(O[index], index) : O[index];
      createProperty(result, index, value);
    }
  }
  result.length = index;
  return result;
};


/***/ }),

/***/ 4581:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toIndexedObject = __webpack_require__(9441);
var toAbsoluteIndex = __webpack_require__(8630);
var lengthOfArrayLike = __webpack_require__(954);

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};


/***/ }),

/***/ 2217:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var bind = __webpack_require__(2116);
var uncurryThis = __webpack_require__(9036);
var IndexedObject = __webpack_require__(6731);
var toObject = __webpack_require__(5809);
var lengthOfArrayLike = __webpack_require__(954);
var arraySpeciesCreate = __webpack_require__(6601);

var push = uncurryThis([].push);

// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
var createMethod = function (TYPE) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var IS_FILTER_REJECT = TYPE == 7;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  return function ($this, callbackfn, that, specificCreate) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var boundFunction = bind(callbackfn, that);
    var length = lengthOfArrayLike(self);
    var index = 0;
    var create = specificCreate || arraySpeciesCreate;
    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
    var value, result;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (TYPE) {
        if (IS_MAP) target[index] = result; // map
        else if (result) switch (TYPE) {
          case 3: return true;              // some
          case 5: return value;             // find
          case 6: return index;             // findIndex
          case 2: push(target, value);      // filter
        } else switch (TYPE) {
          case 4: return false;             // every
          case 7: push(target, value);      // filterReject
        }
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
  };
};

module.exports = {
  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  forEach: createMethod(0),
  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  map: createMethod(1),
  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  filter: createMethod(2),
  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  some: createMethod(3),
  // `Array.prototype.every` method
  // https://tc39.es/ecma262/#sec-array.prototype.every
  every: createMethod(4),
  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  find: createMethod(5),
  // `Array.prototype.findIndex` method
  // https://tc39.es/ecma262/#sec-array.prototype.findIndex
  findIndex: createMethod(6),
  // `Array.prototype.filterReject` method
  // https://github.com/tc39/proposal-array-filtering
  filterReject: createMethod(7)
};


/***/ }),

/***/ 4071:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-array-prototype-lastindexof -- safe */
var apply = __webpack_require__(1981);
var toIndexedObject = __webpack_require__(9441);
var toIntegerOrInfinity = __webpack_require__(6759);
var lengthOfArrayLike = __webpack_require__(954);
var arrayMethodIsStrict = __webpack_require__(538);

var min = Math.min;
var $lastIndexOf = [].lastIndexOf;
var NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;
var STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');
var FORCED = NEGATIVE_ZERO || !STRICT_METHOD;

// `Array.prototype.lastIndexOf` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.lastindexof
module.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
  // convert -0 to +0
  if (NEGATIVE_ZERO) return apply($lastIndexOf, this, arguments) || 0;
  var O = toIndexedObject(this);
  var length = lengthOfArrayLike(O);
  var index = length - 1;
  if (arguments.length > 1) index = min(index, toIntegerOrInfinity(arguments[1]));
  if (index < 0) index = length + index;
  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;
  return -1;
} : $lastIndexOf;


/***/ }),

/***/ 1225:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);
var wellKnownSymbol = __webpack_require__(6615);
var V8_VERSION = __webpack_require__(6312);

var SPECIES = wellKnownSymbol('species');

module.exports = function (METHOD_NAME) {
  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/677
  return V8_VERSION >= 51 || !fails(function () {
    var array = [];
    var constructor = array.constructor = {};
    constructor[SPECIES] = function () {
      return { foo: 1 };
    };
    return array[METHOD_NAME](Boolean).foo !== 1;
  });
};


/***/ }),

/***/ 538:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(7131);

module.exports = function (METHOD_NAME, argument) {
  var method = [][METHOD_NAME];
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call -- required for testing
    method.call(null, argument || function () { return 1; }, 1);
  });
};


/***/ }),

/***/ 266:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var aCallable = __webpack_require__(182);
var toObject = __webpack_require__(5809);
var IndexedObject = __webpack_require__(6731);
var lengthOfArrayLike = __webpack_require__(954);

var $TypeError = TypeError;

// `Array.prototype.{ reduce, reduceRight }` methods implementation
var createMethod = function (IS_RIGHT) {
  return function (that, callbackfn, argumentsLength, memo) {
    aCallable(callbackfn);
    var O = toObject(that);
    var self = IndexedObject(O);
    var length = lengthOfArrayLike(O);
    var index = IS_RIGHT ? length - 1 : 0;
    var i = IS_RIGHT ? -1 : 1;
    if (argumentsLength < 2) while (true) {
      if (index in self) {
        memo = self[index];
        index += i;
        break;
      }
      index += i;
      if (IS_RIGHT ? index < 0 : length <= index) {
        throw $TypeError('Reduce of empty array with no initial value');
      }
    }
    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {
      memo = callbackfn(memo, self[index], index, O);
    }
    return memo;
  };
};

module.exports = {
  // `Array.prototype.reduce` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduce
  left: createMethod(false),
  // `Array.prototype.reduceRight` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduceright
  right: createMethod(true)
};


/***/ }),

/***/ 6219:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(5560);
var isArray = __webpack_require__(1972);

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Safari < 13 does not throw an error in this case
var SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {
  // makes no sense without proper strict mode support
  if (this !== undefined) return true;
  try {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty([], 'length', { writable: false }).length = 1;
  } catch (error) {
    return error instanceof TypeError;
  }
}();

module.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {
  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {
    throw $TypeError('Cannot set read only .length');
  } return O.length = length;
} : function (O, length) {
  return O.length = length;
};


/***/ }),

/***/ 8067:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toAbsoluteIndex = __webpack_require__(8630);
var lengthOfArrayLike = __webpack_require__(954);
var createProperty = __webpack_require__(8724);

var $Array = Array;
var max = Math.max;

module.exports = function (O, start, end) {
  var length = lengthOfArrayLike(O);
  var k = toAbsoluteIndex(start, length);
  var fin = toAbsoluteIndex(end === undefined ? length : end, length);
  var result = $Array(max(fin - k, 0));
  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);
  result.length = n;
  return result;
};


/***/ }),

/***/ 820:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);

module.exports = uncurryThis([].slice);


/***/ }),

/***/ 2916:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arraySlice = __webpack_require__(8067);

var floor = Math.floor;

var mergeSort = function (array, comparefn) {
  var length = array.length;
  var middle = floor(length / 2);
  return length < 8 ? insertionSort(array, comparefn) : merge(
    array,
    mergeSort(arraySlice(array, 0, middle), comparefn),
    mergeSort(arraySlice(array, middle), comparefn),
    comparefn
  );
};

var insertionSort = function (array, comparefn) {
  var length = array.length;
  var i = 1;
  var element, j;

  while (i < length) {
    j = i;
    element = array[i];
    while (j && comparefn(array[j - 1], element) > 0) {
      array[j] = array[--j];
    }
    if (j !== i++) array[j] = element;
  } return array;
};

var merge = function (array, left, right, comparefn) {
  var llength = left.length;
  var rlength = right.length;
  var lindex = 0;
  var rindex = 0;

  while (lindex < llength || rindex < rlength) {
    array[lindex + rindex] = (lindex < llength && rindex < rlength)
      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]
      : lindex < llength ? left[lindex++] : right[rindex++];
  } return array;
};

module.exports = mergeSort;


/***/ }),

/***/ 9077:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isArray = __webpack_require__(1972);
var isConstructor = __webpack_require__(6553);
var isObject = __webpack_require__(5774);
var wellKnownSymbol = __webpack_require__(6615);

var SPECIES = wellKnownSymbol('species');
var $Array = Array;

// a part of `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? $Array : C;
};


/***/ }),

/***/ 6601:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arraySpeciesConstructor = __webpack_require__(9077);

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
};


/***/ }),

/***/ 2843:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var anObject = __webpack_require__(8347);
var iteratorClose = __webpack_require__(7959);

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
  }
};


/***/ }),

/***/ 8224:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(6615);

var ITERATOR = wellKnownSymbol('iterator');
var SAFE_CLOSING = false;

try {
  var called = 0;
  var iteratorWithReturn = {
    next: function () {
      return { done: !!called++ };
    },
    'return': function () {
      SAFE_CLOSING = true;
    }
  };
  iteratorWithReturn[ITERATOR] = function () {
    return this;
  };
  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
  Array.from(iteratorWithReturn, function () { throw 2; });
} catch (error) { /* empty */ }

module.exports = function (exec, SKIP_CLOSING) {
  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
  var ITERATION_SUPPORT = false;
  try {
    var object = {};
    object[ITERATOR] = function () {
      return {
        next: function () {
          return { done: ITERATION_SUPPORT = true };
        }
      };
    };
    exec(object);
  } catch (error) { /* empty */ }
  return ITERATION_SUPPORT;
};


/***/ }),

/***/ 244:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);

var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);

module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};


/***/ }),

/***/ 5663:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var TO_STRING_TAG_SUPPORT = __webpack_require__(7104);
var isCallable = __webpack_require__(2073);
var classofRaw = __webpack_require__(244);
var wellKnownSymbol = __webpack_require__(6615);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (error) { /* empty */ }
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
    // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O)
    // ES3 arguments fallback
    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};


/***/ }),

/***/ 4502:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var create = __webpack_require__(3628);
var defineBuiltInAccessor = __webpack_require__(3614);
var defineBuiltIns = __webpack_require__(1011);
var bind = __webpack_require__(2116);
var anInstance = __webpack_require__(675);
var isNullOrUndefined = __webpack_require__(6153);
var iterate = __webpack_require__(9384);
var defineIterator = __webpack_require__(6188);
var createIterResultObject = __webpack_require__(789);
var setSpecies = __webpack_require__(9413);
var DESCRIPTORS = __webpack_require__(5560);
var fastKey = (__webpack_require__(4191).fastKey);
var InternalStateModule = __webpack_require__(9257);

var setInternalState = InternalStateModule.set;
var internalStateGetterFor = InternalStateModule.getterFor;

module.exports = {
  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
    var Constructor = wrapper(function (that, iterable) {
      anInstance(that, Prototype);
      setInternalState(that, {
        type: CONSTRUCTOR_NAME,
        index: create(null),
        first: undefined,
        last: undefined,
        size: 0
      });
      if (!DESCRIPTORS) that.size = 0;
      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
    });

    var Prototype = Constructor.prototype;

    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

    var define = function (that, key, value) {
      var state = getInternalState(that);
      var entry = getEntry(that, key);
      var previous, index;
      // change existing entry
      if (entry) {
        entry.value = value;
      // create new entry
      } else {
        state.last = entry = {
          index: index = fastKey(key, true),
          key: key,
          value: value,
          previous: previous = state.last,
          next: undefined,
          removed: false
        };
        if (!state.first) state.first = entry;
        if (previous) previous.next = entry;
        if (DESCRIPTORS) state.size++;
        else that.size++;
        // add to index
        if (index !== 'F') state.index[index] = entry;
      } return that;
    };

    var getEntry = function (that, key) {
      var state = getInternalState(that);
      // fast case
      var index = fastKey(key);
      var entry;
      if (index !== 'F') return state.index[index];
      // frozen object case
      for (entry = state.first; entry; entry = entry.next) {
        if (entry.key == key) return entry;
      }
    };

    defineBuiltIns(Prototype, {
      // `{ Map, Set }.prototype.clear()` methods
      // https://tc39.es/ecma262/#sec-map.prototype.clear
      // https://tc39.es/ecma262/#sec-set.prototype.clear
      clear: function clear() {
        var that = this;
        var state = getInternalState(that);
        var data = state.index;
        var entry = state.first;
        while (entry) {
          entry.removed = true;
          if (entry.previous) entry.previous = entry.previous.next = undefined;
          delete data[entry.index];
          entry = entry.next;
        }
        state.first = state.last = undefined;
        if (DESCRIPTORS) state.size = 0;
        else that.size = 0;
      },
      // `{ Map, Set }.prototype.delete(key)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.delete
      // https://tc39.es/ecma262/#sec-set.prototype.delete
      'delete': function (key) {
        var that = this;
        var state = getInternalState(that);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.next;
          var prev = entry.previous;
          delete state.index[entry.index];
          entry.removed = true;
          if (prev) prev.next = next;
          if (next) next.previous = prev;
          if (state.first == entry) state.first = next;
          if (state.last == entry) state.last = prev;
          if (DESCRIPTORS) state.size--;
          else that.size--;
        } return !!entry;
      },
      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.foreach
      // https://tc39.es/ecma262/#sec-set.prototype.foreach
      forEach: function forEach(callbackfn /* , that = undefined */) {
        var state = getInternalState(this);
        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);
        var entry;
        while (entry = entry ? entry.next : state.first) {
          boundFunction(entry.value, entry.key, this);
          // revert to the last existing entry
          while (entry && entry.removed) entry = entry.previous;
        }
      },
      // `{ Map, Set}.prototype.has(key)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.has
      // https://tc39.es/ecma262/#sec-set.prototype.has
      has: function has(key) {
        return !!getEntry(this, key);
      }
    });

    defineBuiltIns(Prototype, IS_MAP ? {
      // `Map.prototype.get(key)` method
      // https://tc39.es/ecma262/#sec-map.prototype.get
      get: function get(key) {
        var entry = getEntry(this, key);
        return entry && entry.value;
      },
      // `Map.prototype.set(key, value)` method
      // https://tc39.es/ecma262/#sec-map.prototype.set
      set: function set(key, value) {
        return define(this, key === 0 ? 0 : key, value);
      }
    } : {
      // `Set.prototype.add(value)` method
      // https://tc39.es/ecma262/#sec-set.prototype.add
      add: function add(value) {
        return define(this, value = value === 0 ? 0 : value, value);
      }
    });
    if (DESCRIPTORS) defineBuiltInAccessor(Prototype, 'size', {
      configurable: true,
      get: function () {
        return getInternalState(this).size;
      }
    });
    return Constructor;
  },
  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {
    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';
    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);
    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods
    // https://tc39.es/ecma262/#sec-map.prototype.entries
    // https://tc39.es/ecma262/#sec-map.prototype.keys
    // https://tc39.es/ecma262/#sec-map.prototype.values
    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator
    // https://tc39.es/ecma262/#sec-set.prototype.entries
    // https://tc39.es/ecma262/#sec-set.prototype.keys
    // https://tc39.es/ecma262/#sec-set.prototype.values
    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator
    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {
      setInternalState(this, {
        type: ITERATOR_NAME,
        target: iterated,
        state: getInternalCollectionState(iterated),
        kind: kind,
        last: undefined
      });
    }, function () {
      var state = getInternalIteratorState(this);
      var kind = state.kind;
      var entry = state.last;
      // revert to the last existing entry
      while (entry && entry.removed) entry = entry.previous;
      // get next entry
      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
        // or finish the iteration
        state.target = undefined;
        return createIterResultObject(undefined, true);
      }
      // return step by kind
      if (kind == 'keys') return createIterResultObject(entry.key, false);
      if (kind == 'values') return createIterResultObject(entry.value, false);
      return createIterResultObject([entry.key, entry.value], false);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // `{ Map, Set }.prototype[@@species]` accessors
    // https://tc39.es/ecma262/#sec-get-map-@@species
    // https://tc39.es/ecma262/#sec-get-set-@@species
    setSpecies(CONSTRUCTOR_NAME);
  }
};


/***/ }),

/***/ 8816:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var global = __webpack_require__(5391);
var InternalMetadataModule = __webpack_require__(4191);
var fails = __webpack_require__(7131);
var createNonEnumerableProperty = __webpack_require__(8471);
var iterate = __webpack_require__(9384);
var anInstance = __webpack_require__(675);
var isCallable = __webpack_require__(2073);
var isObject = __webpack_require__(5774);
var setToStringTag = __webpack_require__(5051);
var defineProperty = (__webpack_require__(6381).f);
var forEach = (__webpack_require__(2217).forEach);
var DESCRIPTORS = __webpack_require__(5560);
var InternalStateModule = __webpack_require__(9257);

var setInternalState = InternalStateModule.set;
var internalStateGetterFor = InternalStateModule.getterFor;

module.exports = function (CONSTRUCTOR_NAME, wrapper, common) {
  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
  var ADDER = IS_MAP ? 'set' : 'add';
  var NativeConstructor = global[CONSTRUCTOR_NAME];
  var NativePrototype = NativeConstructor && NativeConstructor.prototype;
  var exported = {};
  var Constructor;

  if (!DESCRIPTORS || !isCallable(NativeConstructor)
    || !(IS_WEAK || NativePrototype.forEach && !fails(function () { new NativeConstructor().entries().next(); }))
  ) {
    // create collection constructor
    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
    InternalMetadataModule.enable();
  } else {
    Constructor = wrapper(function (target, iterable) {
      setInternalState(anInstance(target, Prototype), {
        type: CONSTRUCTOR_NAME,
        collection: new NativeConstructor()
      });
      if (iterable != undefined) iterate(iterable, target[ADDER], { that: target, AS_ENTRIES: IS_MAP });
    });

    var Prototype = Constructor.prototype;

    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

    forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {
      var IS_ADDER = KEY == 'add' || KEY == 'set';
      if (KEY in NativePrototype && !(IS_WEAK && KEY == 'clear')) {
        createNonEnumerableProperty(Prototype, KEY, function (a, b) {
          var collection = getInternalState(this).collection;
          if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;
          var result = collection[KEY](a === 0 ? 0 : a, b);
          return IS_ADDER ? this : result;
        });
      }
    });

    IS_WEAK || defineProperty(Prototype, 'size', {
      configurable: true,
      get: function () {
        return getInternalState(this).collection.size;
      }
    });
  }

  setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);

  exported[CONSTRUCTOR_NAME] = Constructor;
  $({ global: true, forced: true }, exported);

  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);

  return Constructor;
};


/***/ }),

/***/ 2144:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var hasOwn = __webpack_require__(4373);
var ownKeys = __webpack_require__(8195);
var getOwnPropertyDescriptorModule = __webpack_require__(5687);
var definePropertyModule = __webpack_require__(6381);

module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};


/***/ }),

/***/ 7288:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(6615);

var MATCH = wellKnownSymbol('match');

module.exports = function (METHOD_NAME) {
  var regexp = /./;
  try {
    '/./'[METHOD_NAME](regexp);
  } catch (error1) {
    try {
      regexp[MATCH] = false;
      return '/./'[METHOD_NAME](regexp);
    } catch (error2) { /* empty */ }
  } return false;
};


/***/ }),

/***/ 7007:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);

module.exports = !fails(function () {
  function F() { /* empty */ }
  F.prototype.constructor = null;
  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
  return Object.getPrototypeOf(new F()) !== F.prototype;
});


/***/ }),

/***/ 789:
/***/ (function(module) {

// `CreateIterResultObject` abstract operation
// https://tc39.es/ecma262/#sec-createiterresultobject
module.exports = function (value, done) {
  return { value: value, done: done };
};


/***/ }),

/***/ 8471:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var definePropertyModule = __webpack_require__(6381);
var createPropertyDescriptor = __webpack_require__(3768);

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ 3768:
/***/ (function(module) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ 8724:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toPropertyKey = __webpack_require__(5141);
var definePropertyModule = __webpack_require__(6381);
var createPropertyDescriptor = __webpack_require__(3768);

module.exports = function (object, key, value) {
  var propertyKey = toPropertyKey(key);
  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
  else object[propertyKey] = value;
};


/***/ }),

/***/ 3614:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var defineProperty = __webpack_require__(6381);

module.exports = function (target, name, descriptor) {
  return defineProperty.f(target, name, descriptor);
};


/***/ }),

/***/ 492:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var createNonEnumerableProperty = __webpack_require__(8471);

module.exports = function (target, key, value, options) {
  if (options && options.enumerable) target[key] = value;
  else createNonEnumerableProperty(target, key, value);
  return target;
};


/***/ }),

/***/ 1011:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var defineBuiltIn = __webpack_require__(492);

module.exports = function (target, src, options) {
  for (var key in src) {
    if (options && options.unsafe && target[key]) target[key] = src[key];
    else defineBuiltIn(target, key, src[key], options);
  } return target;
};


/***/ }),

/***/ 909:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);

// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

module.exports = function (key, value) {
  try {
    defineProperty(global, key, { value: value, configurable: true, writable: true });
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),

/***/ 2850:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var tryToString = __webpack_require__(4003);

var $TypeError = TypeError;

module.exports = function (O, P) {
  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));
};


/***/ }),

/***/ 5560:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
});


/***/ }),

/***/ 7023:
/***/ (function(module) {

var documentAll = typeof document == 'object' && document.all;

// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
var IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;

module.exports = {
  all: documentAll,
  IS_HTMLDDA: IS_HTMLDDA
};


/***/ }),

/***/ 6171:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var isObject = __webpack_require__(5774);

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),

/***/ 6929:
/***/ (function(module) {

var $TypeError = TypeError;
var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

module.exports = function (it) {
  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
  return it;
};


/***/ }),

/***/ 4740:
/***/ (function(module) {

// iterable DOM collections
// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
module.exports = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
};


/***/ }),

/***/ 166:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var userAgent = __webpack_require__(4084);

var firefox = userAgent.match(/firefox\/(\d+)/i);

module.exports = !!firefox && +firefox[1];


/***/ }),

/***/ 3846:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var IS_DENO = __webpack_require__(9360);
var IS_NODE = __webpack_require__(7244);

module.exports = !IS_DENO && !IS_NODE
  && typeof window == 'object'
  && typeof document == 'object';


/***/ }),

/***/ 9360:
/***/ (function(module) {

/* global Deno -- Deno case */
module.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';


/***/ }),

/***/ 1054:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var UA = __webpack_require__(4084);

module.exports = /MSIE|Trident/.test(UA);


/***/ }),

/***/ 6304:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var userAgent = __webpack_require__(4084);

module.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';


/***/ }),

/***/ 7603:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var userAgent = __webpack_require__(4084);

// eslint-disable-next-line redos/no-vulnerable -- safe
module.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);


/***/ }),

/***/ 7244:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classof = __webpack_require__(244);

module.exports = typeof process != 'undefined' && classof(process) == 'process';


/***/ }),

/***/ 8689:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var userAgent = __webpack_require__(4084);

module.exports = /web0s(?!.*chrome)/i.test(userAgent);


/***/ }),

/***/ 4084:
/***/ (function(module) {

module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';


/***/ }),

/***/ 6312:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var userAgent = __webpack_require__(4084);

var process = global.process;
var Deno = global.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}

module.exports = version;


/***/ }),

/***/ 6532:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var userAgent = __webpack_require__(4084);

var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);

module.exports = !!webkit && +webkit[1];


/***/ }),

/***/ 5296:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var path = __webpack_require__(7675);

module.exports = function (CONSTRUCTOR) {
  return path[CONSTRUCTOR + 'Prototype'];
};


/***/ }),

/***/ 347:
/***/ (function(module) {

// IE8- don't enum bug keys
module.exports = [
  'constructor',
  'hasOwnProperty',
  'isPrototypeOf',
  'propertyIsEnumerable',
  'toLocaleString',
  'toString',
  'valueOf'
];


/***/ }),

/***/ 7205:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);

var $Error = Error;
var replace = uncurryThis(''.replace);

var TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');
// eslint-disable-next-line redos/no-vulnerable -- safe
var V8_OR_CHAKRA_STACK_ENTRY = /\n\s*at [^:]*:[^\n]*/;
var IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);

module.exports = function (stack, dropEntries) {
  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {
    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');
  } return stack;
};


/***/ }),

/***/ 927:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var createNonEnumerableProperty = __webpack_require__(8471);
var clearErrorStack = __webpack_require__(7205);
var ERROR_STACK_INSTALLABLE = __webpack_require__(1527);

// non-standard V8
var captureStackTrace = Error.captureStackTrace;

module.exports = function (error, C, stack, dropEntries) {
  if (ERROR_STACK_INSTALLABLE) {
    if (captureStackTrace) captureStackTrace(error, C);
    else createNonEnumerableProperty(error, 'stack', clearErrorStack(stack, dropEntries));
  }
};


/***/ }),

/***/ 1527:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);
var createPropertyDescriptor = __webpack_require__(3768);

module.exports = !fails(function () {
  var error = Error('a');
  if (!('stack' in error)) return true;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));
  return error.stack !== 7;
});


/***/ }),

/***/ 1938:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(5391);
var apply = __webpack_require__(1981);
var uncurryThis = __webpack_require__(9000);
var isCallable = __webpack_require__(2073);
var getOwnPropertyDescriptor = (__webpack_require__(5687).f);
var isForced = __webpack_require__(3488);
var path = __webpack_require__(7675);
var bind = __webpack_require__(2116);
var createNonEnumerableProperty = __webpack_require__(8471);
var hasOwn = __webpack_require__(4373);

var wrapConstructor = function (NativeConstructor) {
  var Wrapper = function (a, b, c) {
    if (this instanceof Wrapper) {
      switch (arguments.length) {
        case 0: return new NativeConstructor();
        case 1: return new NativeConstructor(a);
        case 2: return new NativeConstructor(a, b);
      } return new NativeConstructor(a, b, c);
    } return apply(NativeConstructor, this, arguments);
  };
  Wrapper.prototype = NativeConstructor.prototype;
  return Wrapper;
};

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var PROTO = options.proto;

  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;

  var target = GLOBAL ? path : path[TARGET] || createNonEnumerableProperty(path, TARGET, {})[TARGET];
  var targetPrototype = target.prototype;

  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;
  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;

  for (key in source) {
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contains in native
    USE_NATIVE = !FORCED && nativeSource && hasOwn(nativeSource, key);

    targetProperty = target[key];

    if (USE_NATIVE) if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(nativeSource, key);
      nativeProperty = descriptor && descriptor.value;
    } else nativeProperty = nativeSource[key];

    // export native or implementation
    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];

    if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue;

    // bind methods to global for calling from export context
    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);
    // wrap global constructors for prevent changes in this version
    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);
    // make static versions for prototype methods
    else if (PROTO && isCallable(sourceProperty)) resultProperty = uncurryThis(sourceProperty);
    // default case
    else resultProperty = sourceProperty;

    // add a flag to not completely full polyfills
    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(resultProperty, 'sham', true);
    }

    createNonEnumerableProperty(target, key, resultProperty);

    if (PROTO) {
      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';
      if (!hasOwn(path, VIRTUAL_PROTOTYPE)) {
        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});
      }
      // export virtual prototype methods
      createNonEnumerableProperty(path[VIRTUAL_PROTOTYPE], key, sourceProperty);
      // export real prototype methods
      if (options.real && targetPrototype && (FORCED || !targetPrototype[key])) {
        createNonEnumerableProperty(targetPrototype, key, sourceProperty);
      }
    }
  }
};


/***/ }),

/***/ 7131:
/***/ (function(module) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),

/***/ 3764:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing
  return Object.isExtensible(Object.preventExtensions({}));
});


/***/ }),

/***/ 1981:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(5164);

var FunctionPrototype = Function.prototype;
var apply = FunctionPrototype.apply;
var call = FunctionPrototype.call;

// eslint-disable-next-line es/no-reflect -- safe
module.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {
  return call.apply(apply, arguments);
});


/***/ }),

/***/ 2116:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9000);
var aCallable = __webpack_require__(182);
var NATIVE_BIND = __webpack_require__(5164);

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ 5164:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-function-prototype-bind -- safe
  var test = (function () { /* empty */ }).bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});


/***/ }),

/***/ 2026:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(9036);
var aCallable = __webpack_require__(182);
var isObject = __webpack_require__(5774);
var hasOwn = __webpack_require__(4373);
var arraySlice = __webpack_require__(820);
var NATIVE_BIND = __webpack_require__(5164);

var $Function = Function;
var concat = uncurryThis([].concat);
var join = uncurryThis([].join);
var factories = {};

var construct = function (C, argsLength, args) {
  if (!hasOwn(factories, argsLength)) {
    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';
    factories[argsLength] = $Function('C,a', 'return new C(' + join(list, ',') + ')');
  } return factories[argsLength](C, args);
};

// `Function.prototype.bind` method implementation
// https://tc39.es/ecma262/#sec-function.prototype.bind
// eslint-disable-next-line es/no-function-prototype-bind -- detection
module.exports = NATIVE_BIND ? $Function.bind : function bind(that /* , ...args */) {
  var F = aCallable(this);
  var Prototype = F.prototype;
  var partArgs = arraySlice(arguments, 1);
  var boundFunction = function bound(/* args... */) {
    var args = concat(partArgs, arraySlice(arguments));
    return this instanceof boundFunction ? construct(F, args.length, args) : F.apply(that, args);
  };
  if (isObject(Prototype)) boundFunction.prototype = Prototype;
  return boundFunction;
};


/***/ }),

/***/ 3057:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(5164);

var call = Function.prototype.call;

module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};


/***/ }),

/***/ 4970:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var hasOwn = __webpack_require__(4373);

var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;

var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));

module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};


/***/ }),

/***/ 7006:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var aCallable = __webpack_require__(182);

module.exports = function (object, key, method) {
  try {
    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ 9000:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classofRaw = __webpack_require__(244);
var uncurryThis = __webpack_require__(9036);

module.exports = function (fn) {
  // Nashorn bug:
  //   https://github.com/zloirock/core-js/issues/1128
  //   https://github.com/zloirock/core-js/issues/1130
  if (classofRaw(fn) === 'Function') return uncurryThis(fn);
};


/***/ }),

/***/ 9036:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(5164);

var FunctionPrototype = Function.prototype;
var call = FunctionPrototype.call;
var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);

module.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {
  return function () {
    return call.apply(fn, arguments);
  };
};


/***/ }),

/***/ 7827:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var path = __webpack_require__(7675);
var global = __webpack_require__(5391);
var isCallable = __webpack_require__(2073);

var aFunction = function (variable) {
  return isCallable(variable) ? variable : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])
    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];
};


/***/ }),

/***/ 6399:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classof = __webpack_require__(5663);
var getMethod = __webpack_require__(3514);
var isNullOrUndefined = __webpack_require__(6153);
var Iterators = __webpack_require__(1113);
var wellKnownSymbol = __webpack_require__(6615);

var ITERATOR = wellKnownSymbol('iterator');

module.exports = function (it) {
  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)
    || getMethod(it, '@@iterator')
    || Iterators[classof(it)];
};


/***/ }),

/***/ 7013:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var call = __webpack_require__(3057);
var aCallable = __webpack_require__(182);
var anObject = __webpack_require__(8347);
var tryToString = __webpack_require__(4003);
var getIteratorMethod = __webpack_require__(6399);

var $TypeError = TypeError;

module.exports = function (argument, usingIterator) {
  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
  throw $TypeError(tryToString(argument) + ' is not iterable');
};


/***/ }),

/***/ 7873:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var isArray = __webpack_require__(1972);
var isCallable = __webpack_require__(2073);
var classof = __webpack_require__(244);
var toString = __webpack_require__(7803);

var push = uncurryThis([].push);

module.exports = function (replacer) {
  if (isCallable(replacer)) return replacer;
  if (!isArray(replacer)) return;
  var rawLength = replacer.length;
  var keys = [];
  for (var i = 0; i < rawLength; i++) {
    var element = replacer[i];
    if (typeof element == 'string') push(keys, element);
    else if (typeof element == 'number' || classof(element) == 'Number' || classof(element) == 'String') push(keys, toString(element));
  }
  var keysLength = keys.length;
  var root = true;
  return function (key, value) {
    if (root) {
      root = false;
      return value;
    }
    if (isArray(this)) return value;
    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;
  };
};


/***/ }),

/***/ 3514:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var aCallable = __webpack_require__(182);
var isNullOrUndefined = __webpack_require__(6153);

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return isNullOrUndefined(func) ? undefined : aCallable(func);
};


/***/ }),

/***/ 5391:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var check = function (it) {
  return it && it.Math == Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || this || Function('return this')();


/***/ }),

/***/ 4373:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var toObject = __webpack_require__(5809);

var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};


/***/ }),

/***/ 6145:
/***/ (function(module) {

module.exports = {};


/***/ }),

/***/ 2321:
/***/ (function(module) {

module.exports = function (a, b) {
  try {
    // eslint-disable-next-line no-console -- safe
    arguments.length == 1 ? console.error(a) : console.error(a, b);
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ 9417:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(7827);

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),

/***/ 2633:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var fails = __webpack_require__(7131);
var createElement = __webpack_require__(6171);

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a != 7;
});


/***/ }),

/***/ 6731:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var fails = __webpack_require__(7131);
var classof = __webpack_require__(244);

var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) == 'String' ? split(it, '') : $Object(it);
} : $Object;


/***/ }),

/***/ 6678:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var isCallable = __webpack_require__(2073);
var store = __webpack_require__(4993);

var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}

module.exports = store.inspectSource;


/***/ }),

/***/ 60:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isObject = __webpack_require__(5774);
var createNonEnumerableProperty = __webpack_require__(8471);

// `InstallErrorCause` abstract operation
// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause
module.exports = function (O, options) {
  if (isObject(options) && 'cause' in options) {
    createNonEnumerableProperty(O, 'cause', options.cause);
  }
};


/***/ }),

/***/ 4191:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9036);
var hiddenKeys = __webpack_require__(6145);
var isObject = __webpack_require__(5774);
var hasOwn = __webpack_require__(4373);
var defineProperty = (__webpack_require__(6381).f);
var getOwnPropertyNamesModule = __webpack_require__(2036);
var getOwnPropertyNamesExternalModule = __webpack_require__(3126);
var isExtensible = __webpack_require__(8280);
var uid = __webpack_require__(7980);
var FREEZING = __webpack_require__(3764);

var REQUIRED = false;
var METADATA = uid('meta');
var id = 0;

var setMetadata = function (it) {
  defineProperty(it, METADATA, { value: {
    objectID: 'O' + id++, // object ID
    weakData: {}          // weak collections IDs
  } });
};

var fastKey = function (it, create) {
  // return a primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!hasOwn(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMetadata(it);
  // return object ID
  } return it[METADATA].objectID;
};

var getWeakData = function (it, create) {
  if (!hasOwn(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMetadata(it);
  // return the store of weak collections IDs
  } return it[METADATA].weakData;
};

// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);
  return it;
};

var enable = function () {
  meta.enable = function () { /* empty */ };
  REQUIRED = true;
  var getOwnPropertyNames = getOwnPropertyNamesModule.f;
  var splice = uncurryThis([].splice);
  var test = {};
  test[METADATA] = 1;

  // prevent exposing of metadata key
  if (getOwnPropertyNames(test).length) {
    getOwnPropertyNamesModule.f = function (it) {
      var result = getOwnPropertyNames(it);
      for (var i = 0, length = result.length; i < length; i++) {
        if (result[i] === METADATA) {
          splice(result, i, 1);
          break;
        }
      } return result;
    };

    $({ target: 'Object', stat: true, forced: true }, {
      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
    });
  }
};

var meta = module.exports = {
  enable: enable,
  fastKey: fastKey,
  getWeakData: getWeakData,
  onFreeze: onFreeze
};

hiddenKeys[METADATA] = true;


/***/ }),

/***/ 9257:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NATIVE_WEAK_MAP = __webpack_require__(8698);
var global = __webpack_require__(5391);
var isObject = __webpack_require__(5774);
var createNonEnumerableProperty = __webpack_require__(8471);
var hasOwn = __webpack_require__(4373);
var shared = __webpack_require__(4993);
var sharedKey = __webpack_require__(651);
var hiddenKeys = __webpack_require__(6145);

var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = global.TypeError;
var WeakMap = global.WeakMap;
var set, get, has;

var enforce = function (it) {
  return has(it) ? get(it) : set(it, {});
};

var getterFor = function (TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw TypeError('Incompatible receiver, ' + TYPE + ' required');
    } return state;
  };
};

if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  /* eslint-disable no-self-assign -- prototype methods protection */
  store.get = store.get;
  store.has = store.has;
  store.set = store.set;
  /* eslint-enable no-self-assign -- prototype methods protection */
  set = function (it, metadata) {
    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    store.set(it, metadata);
    return metadata;
  };
  get = function (it) {
    return store.get(it) || {};
  };
  has = function (it) {
    return store.has(it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function (it, metadata) {
    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function (it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function (it) {
    return hasOwn(it, STATE);
  };
}

module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};


/***/ }),

/***/ 5669:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(6615);
var Iterators = __webpack_require__(1113);

var ITERATOR = wellKnownSymbol('iterator');
var ArrayPrototype = Array.prototype;

// check on default Array iterator
module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
};


/***/ }),

/***/ 1972:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classof = __webpack_require__(244);

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(argument) {
  return classof(argument) == 'Array';
};


/***/ }),

/***/ 2073:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var $documentAll = __webpack_require__(7023);

var documentAll = $documentAll.all;

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
module.exports = $documentAll.IS_HTMLDDA ? function (argument) {
  return typeof argument == 'function' || argument === documentAll;
} : function (argument) {
  return typeof argument == 'function';
};


/***/ }),

/***/ 6553:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var fails = __webpack_require__(7131);
var isCallable = __webpack_require__(2073);
var classof = __webpack_require__(5663);
var getBuiltIn = __webpack_require__(7827);
var inspectSource = __webpack_require__(6678);

var noop = function () { /* empty */ };
var empty = [];
var construct = getBuiltIn('Reflect', 'construct');
var constructorRegExp = /^\s*(?:class|function)\b/;
var exec = uncurryThis(constructorRegExp.exec);
var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);

var isConstructorModern = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  try {
    construct(noop, empty, argument);
    return true;
  } catch (error) {
    return false;
  }
};

var isConstructorLegacy = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  switch (classof(argument)) {
    case 'AsyncFunction':
    case 'GeneratorFunction':
    case 'AsyncGeneratorFunction': return false;
  }
  try {
    // we can't check .prototype since constructors produced by .bind haven't it
    // `Function#toString` throws on some built-it function in some legacy engines
    // (for example, `DOMQuad` and similar in FF41-)
    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
  } catch (error) {
    return true;
  }
};

isConstructorLegacy.sham = true;

// `IsConstructor` abstract operation
// https://tc39.es/ecma262/#sec-isconstructor
module.exports = !construct || fails(function () {
  var called;
  return isConstructorModern(isConstructorModern.call)
    || !isConstructorModern(Object)
    || !isConstructorModern(function () { called = true; })
    || called;
}) ? isConstructorLegacy : isConstructorModern;


/***/ }),

/***/ 3488:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);
var isCallable = __webpack_require__(2073);

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
    : isCallable(detection) ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),

/***/ 6153:
/***/ (function(module) {

// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
module.exports = function (it) {
  return it === null || it === undefined;
};


/***/ }),

/***/ 5774:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isCallable = __webpack_require__(2073);
var $documentAll = __webpack_require__(7023);

var documentAll = $documentAll.all;

module.exports = $documentAll.IS_HTMLDDA ? function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;
} : function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it);
};


/***/ }),

/***/ 3599:
/***/ (function(module) {

module.exports = true;


/***/ }),

/***/ 5856:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isObject = __webpack_require__(5774);
var classof = __webpack_require__(244);
var wellKnownSymbol = __webpack_require__(6615);

var MATCH = wellKnownSymbol('match');

// `IsRegExp` abstract operation
// https://tc39.es/ecma262/#sec-isregexp
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');
};


/***/ }),

/***/ 3969:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(7827);
var isCallable = __webpack_require__(2073);
var isPrototypeOf = __webpack_require__(3381);
var USE_SYMBOL_AS_UID = __webpack_require__(1004);

var $Object = Object;

module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};


/***/ }),

/***/ 9384:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var bind = __webpack_require__(2116);
var call = __webpack_require__(3057);
var anObject = __webpack_require__(8347);
var tryToString = __webpack_require__(4003);
var isArrayIteratorMethod = __webpack_require__(5669);
var lengthOfArrayLike = __webpack_require__(954);
var isPrototypeOf = __webpack_require__(3381);
var getIterator = __webpack_require__(7013);
var getIteratorMethod = __webpack_require__(6399);
var iteratorClose = __webpack_require__(7959);

var $TypeError = TypeError;

var Result = function (stopped, result) {
  this.stopped = stopped;
  this.result = result;
};

var ResultPrototype = Result.prototype;

module.exports = function (iterable, unboundFunction, options) {
  var that = options && options.that;
  var AS_ENTRIES = !!(options && options.AS_ENTRIES);
  var IS_RECORD = !!(options && options.IS_RECORD);
  var IS_ITERATOR = !!(options && options.IS_ITERATOR);
  var INTERRUPTED = !!(options && options.INTERRUPTED);
  var fn = bind(unboundFunction, that);
  var iterator, iterFn, index, length, result, next, step;

  var stop = function (condition) {
    if (iterator) iteratorClose(iterator, 'normal', condition);
    return new Result(true, condition);
  };

  var callFn = function (value) {
    if (AS_ENTRIES) {
      anObject(value);
      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
    } return INTERRUPTED ? fn(value, stop) : fn(value);
  };

  if (IS_RECORD) {
    iterator = iterable.iterator;
  } else if (IS_ITERATOR) {
    iterator = iterable;
  } else {
    iterFn = getIteratorMethod(iterable);
    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');
    // optimisation for array iterators
    if (isArrayIteratorMethod(iterFn)) {
      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
        result = callFn(iterable[index]);
        if (result && isPrototypeOf(ResultPrototype, result)) return result;
      } return new Result(false);
    }
    iterator = getIterator(iterable, iterFn);
  }

  next = IS_RECORD ? iterable.next : iterator.next;
  while (!(step = call(next, iterator)).done) {
    try {
      result = callFn(step.value);
    } catch (error) {
      iteratorClose(iterator, 'throw', error);
    }
    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;
  } return new Result(false);
};


/***/ }),

/***/ 7959:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var call = __webpack_require__(3057);
var anObject = __webpack_require__(8347);
var getMethod = __webpack_require__(3514);

module.exports = function (iterator, kind, value) {
  var innerResult, innerError;
  anObject(iterator);
  try {
    innerResult = getMethod(iterator, 'return');
    if (!innerResult) {
      if (kind === 'throw') throw value;
      return value;
    }
    innerResult = call(innerResult, iterator);
  } catch (error) {
    innerError = true;
    innerResult = error;
  }
  if (kind === 'throw') throw value;
  if (innerError) throw innerResult;
  anObject(innerResult);
  return value;
};


/***/ }),

/***/ 7102:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IteratorPrototype = (__webpack_require__(2373).IteratorPrototype);
var create = __webpack_require__(3628);
var createPropertyDescriptor = __webpack_require__(3768);
var setToStringTag = __webpack_require__(5051);
var Iterators = __webpack_require__(1113);

var returnThis = function () { return this; };

module.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
  var TO_STRING_TAG = NAME + ' Iterator';
  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });
  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
  Iterators[TO_STRING_TAG] = returnThis;
  return IteratorConstructor;
};


/***/ }),

/***/ 6188:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var IS_PURE = __webpack_require__(3599);
var FunctionName = __webpack_require__(4970);
var isCallable = __webpack_require__(2073);
var createIteratorConstructor = __webpack_require__(7102);
var getPrototypeOf = __webpack_require__(3439);
var setPrototypeOf = __webpack_require__(4619);
var setToStringTag = __webpack_require__(5051);
var createNonEnumerableProperty = __webpack_require__(8471);
var defineBuiltIn = __webpack_require__(492);
var wellKnownSymbol = __webpack_require__(6615);
var Iterators = __webpack_require__(1113);
var IteratorsCore = __webpack_require__(2373);

var PROPER_FUNCTION_NAME = FunctionName.PROPER;
var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
var IteratorPrototype = IteratorsCore.IteratorPrototype;
var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
var ITERATOR = wellKnownSymbol('iterator');
var KEYS = 'keys';
var VALUES = 'values';
var ENTRIES = 'entries';

var returnThis = function () { return this; };

module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
  createIteratorConstructor(IteratorConstructor, NAME, next);

  var getIterationMethod = function (KIND) {
    if (KIND === DEFAULT && defaultIterator) return defaultIterator;
    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];
    switch (KIND) {
      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };
      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };
      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };
    } return function () { return new IteratorConstructor(this); };
  };

  var TO_STRING_TAG = NAME + ' Iterator';
  var INCORRECT_VALUES_NAME = false;
  var IterablePrototype = Iterable.prototype;
  var nativeIterator = IterablePrototype[ITERATOR]
    || IterablePrototype['@@iterator']
    || DEFAULT && IterablePrototype[DEFAULT];
  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
  var CurrentIteratorPrototype, methods, KEY;

  // fix native
  if (anyNativeIterator) {
    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
        if (setPrototypeOf) {
          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {
          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);
        }
      }
      // Set @@toStringTag to native iterators
      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;
    }
  }

  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {
      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);
    } else {
      INCORRECT_VALUES_NAME = true;
      defaultIterator = function values() { return call(nativeIterator, this); };
    }
  }

  // export additional methods
  if (DEFAULT) {
    methods = {
      values: getIterationMethod(VALUES),
      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
      entries: getIterationMethod(ENTRIES)
    };
    if (FORCED) for (KEY in methods) {
      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);
      }
    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
  }

  // define iterator
  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });
  }
  Iterators[NAME] = defaultIterator;

  return methods;
};


/***/ }),

/***/ 2373:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(7131);
var isCallable = __webpack_require__(2073);
var isObject = __webpack_require__(5774);
var create = __webpack_require__(3628);
var getPrototypeOf = __webpack_require__(3439);
var defineBuiltIn = __webpack_require__(492);
var wellKnownSymbol = __webpack_require__(6615);
var IS_PURE = __webpack_require__(3599);

var ITERATOR = wellKnownSymbol('iterator');
var BUGGY_SAFARI_ITERATORS = false;

// `%IteratorPrototype%` object
// https://tc39.es/ecma262/#sec-%iteratorprototype%-object
var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;

/* eslint-disable es/no-array-prototype-keys -- safe */
if ([].keys) {
  arrayIterator = [].keys();
  // Safari 8 has buggy iterators w/o `next`
  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;
  else {
    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
  }
}

var NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {
  var test = {};
  // FF44- legacy iterators case
  return IteratorPrototype[ITERATOR].call(test) !== test;
});

if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};
else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);

// `%IteratorPrototype%[@@iterator]()` method
// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
if (!isCallable(IteratorPrototype[ITERATOR])) {
  defineBuiltIn(IteratorPrototype, ITERATOR, function () {
    return this;
  });
}

module.exports = {
  IteratorPrototype: IteratorPrototype,
  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
};


/***/ }),

/***/ 1113:
/***/ (function(module) {

module.exports = {};


/***/ }),

/***/ 954:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toLength = __webpack_require__(2954);

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};


/***/ }),

/***/ 1049:
/***/ (function(module) {

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};


/***/ }),

/***/ 5655:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var bind = __webpack_require__(2116);
var getOwnPropertyDescriptor = (__webpack_require__(5687).f);
var macrotask = (__webpack_require__(4677).set);
var Queue = __webpack_require__(6949);
var IS_IOS = __webpack_require__(7603);
var IS_IOS_PEBBLE = __webpack_require__(6304);
var IS_WEBOS_WEBKIT = __webpack_require__(8689);
var IS_NODE = __webpack_require__(7244);

var MutationObserver = global.MutationObserver || global.WebKitMutationObserver;
var document = global.document;
var process = global.process;
var Promise = global.Promise;
// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`
var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');
var microtask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
var notify, toggle, node, promise, then;

// modern engines have queueMicrotask method
if (!microtask) {
  var queue = new Queue();

  var flush = function () {
    var parent, fn;
    if (IS_NODE && (parent = process.domain)) parent.exit();
    while (fn = queue.get()) try {
      fn();
    } catch (error) {
      if (queue.head) notify();
      throw error;
    }
    if (parent) parent.enter();
  };

  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339
  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898
  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {
    toggle = true;
    node = document.createTextNode('');
    new MutationObserver(flush).observe(node, { characterData: true });
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    promise = Promise.resolve(undefined);
    // workaround of WebKit ~ iOS Safari 10.1 bug
    promise.constructor = Promise;
    then = bind(promise.then, promise);
    notify = function () {
      then(flush);
    };
  // Node.js without promises
  } else if (IS_NODE) {
    notify = function () {
      process.nextTick(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessage
  // - onreadystatechange
  // - setTimeout
  } else {
    // `webpack` dev server bug on IE global methods - use bind(fn, global)
    macrotask = bind(macrotask, global);
    notify = function () {
      macrotask(flush);
    };
  }

  microtask = function (fn) {
    if (!queue.head) notify();
    queue.add(fn);
  };
}

module.exports = microtask;


/***/ }),

/***/ 8959:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var aCallable = __webpack_require__(182);

var $TypeError = TypeError;

var PromiseCapability = function (C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw $TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aCallable(resolve);
  this.reject = aCallable(reject);
};

// `NewPromiseCapability` abstract operation
// https://tc39.es/ecma262/#sec-newpromisecapability
module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ 9383:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toString = __webpack_require__(7803);

module.exports = function (argument, $default) {
  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);
};


/***/ }),

/***/ 5923:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isRegExp = __webpack_require__(5856);

var $TypeError = TypeError;

module.exports = function (it) {
  if (isRegExp(it)) {
    throw $TypeError("The method doesn't accept regular expressions");
  } return it;
};


/***/ }),

/***/ 3180:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var fails = __webpack_require__(7131);
var uncurryThis = __webpack_require__(9036);
var toString = __webpack_require__(7803);
var trim = (__webpack_require__(966).trim);
var whitespaces = __webpack_require__(1192);

var charAt = uncurryThis(''.charAt);
var $parseFloat = global.parseFloat;
var Symbol = global.Symbol;
var ITERATOR = Symbol && Symbol.iterator;
var FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity
  // MS Edge 18- broken with boxed symbols
  || (ITERATOR && !fails(function () { $parseFloat(Object(ITERATOR)); }));

// `parseFloat` method
// https://tc39.es/ecma262/#sec-parsefloat-string
module.exports = FORCED ? function parseFloat(string) {
  var trimmedString = trim(toString(string));
  var result = $parseFloat(trimmedString);
  return result === 0 && charAt(trimmedString, 0) == '-' ? -0 : result;
} : $parseFloat;


/***/ }),

/***/ 5787:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var fails = __webpack_require__(7131);
var uncurryThis = __webpack_require__(9036);
var toString = __webpack_require__(7803);
var trim = (__webpack_require__(966).trim);
var whitespaces = __webpack_require__(1192);

var $parseInt = global.parseInt;
var Symbol = global.Symbol;
var ITERATOR = Symbol && Symbol.iterator;
var hex = /^[+-]?0x/i;
var exec = uncurryThis(hex.exec);
var FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22
  // MS Edge 18- broken with boxed symbols
  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));

// `parseInt` method
// https://tc39.es/ecma262/#sec-parseint-string-radix
module.exports = FORCED ? function parseInt(string, radix) {
  var S = trim(toString(string));
  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));
} : $parseInt;


/***/ }),

/***/ 8593:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(5560);
var uncurryThis = __webpack_require__(9036);
var call = __webpack_require__(3057);
var fails = __webpack_require__(7131);
var objectKeys = __webpack_require__(5556);
var getOwnPropertySymbolsModule = __webpack_require__(6841);
var propertyIsEnumerableModule = __webpack_require__(6337);
var toObject = __webpack_require__(5809);
var IndexedObject = __webpack_require__(6731);

// eslint-disable-next-line es/no-object-assign -- safe
var $assign = Object.assign;
// eslint-disable-next-line es/no-object-defineproperty -- required for testing
var defineProperty = Object.defineProperty;
var concat = uncurryThis([].concat);

// `Object.assign` method
// https://tc39.es/ecma262/#sec-object.assign
module.exports = !$assign || fails(function () {
  // should have correct order of operations (Edge bug)
  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {
    enumerable: true,
    get: function () {
      defineProperty(this, 'b', {
        value: 3,
        enumerable: false
      });
    }
  }), { b: 2 })).b !== 1) return true;
  // should work with symbols and should have deterministic property order (V8 bug)
  var A = {};
  var B = {};
  // eslint-disable-next-line es/no-symbol -- safe
  var symbol = Symbol();
  var alphabet = 'abcdefghijklmnopqrst';
  A[symbol] = 7;
  alphabet.split('').forEach(function (chr) { B[chr] = chr; });
  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
  var T = toObject(target);
  var argumentsLength = arguments.length;
  var index = 1;
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  var propertyIsEnumerable = propertyIsEnumerableModule.f;
  while (argumentsLength > index) {
    var S = IndexedObject(arguments[index++]);
    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) {
      key = keys[j++];
      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
    }
  } return T;
} : $assign;


/***/ }),

/***/ 3628:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(8347);
var definePropertiesModule = __webpack_require__(9157);
var enumBugKeys = __webpack_require__(347);
var hiddenKeys = __webpack_require__(6145);
var html = __webpack_require__(9417);
var documentCreateElement = __webpack_require__(6171);
var sharedKey = __webpack_require__(651);

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),

/***/ 9157:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(2506);
var definePropertyModule = __webpack_require__(6381);
var anObject = __webpack_require__(8347);
var toIndexedObject = __webpack_require__(9441);
var objectKeys = __webpack_require__(5556);

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),

/***/ 6381:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var IE8_DOM_DEFINE = __webpack_require__(2633);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(2506);
var anObject = __webpack_require__(8347);
var toPropertyKey = __webpack_require__(5141);

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  } return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ 5687:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var call = __webpack_require__(3057);
var propertyIsEnumerableModule = __webpack_require__(6337);
var createPropertyDescriptor = __webpack_require__(3768);
var toIndexedObject = __webpack_require__(9441);
var toPropertyKey = __webpack_require__(5141);
var hasOwn = __webpack_require__(4373);
var IE8_DOM_DEFINE = __webpack_require__(2633);

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};


/***/ }),

/***/ 3126:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* eslint-disable es/no-object-getownpropertynames -- safe */
var classof = __webpack_require__(244);
var toIndexedObject = __webpack_require__(9441);
var $getOwnPropertyNames = (__webpack_require__(2036).f);
var arraySlice = __webpack_require__(8067);

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return $getOwnPropertyNames(it);
  } catch (error) {
    return arraySlice(windowNames);
  }
};

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && classof(it) == 'Window'
    ? getWindowNames(it)
    : $getOwnPropertyNames(toIndexedObject(it));
};


/***/ }),

/***/ 2036:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var internalObjectKeys = __webpack_require__(4512);
var enumBugKeys = __webpack_require__(347);

var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};


/***/ }),

/***/ 6841:
/***/ (function(__unused_webpack_module, exports) {

// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ 3439:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var hasOwn = __webpack_require__(4373);
var isCallable = __webpack_require__(2073);
var toObject = __webpack_require__(5809);
var sharedKey = __webpack_require__(651);
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(7007);

var IE_PROTO = sharedKey('IE_PROTO');
var $Object = Object;
var ObjectPrototype = $Object.prototype;

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es/no-object-getprototypeof -- safe
module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {
  var object = toObject(O);
  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
  var constructor = object.constructor;
  if (isCallable(constructor) && object instanceof constructor) {
    return constructor.prototype;
  } return object instanceof $Object ? ObjectPrototype : null;
};


/***/ }),

/***/ 8280:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var fails = __webpack_require__(7131);
var isObject = __webpack_require__(5774);
var classof = __webpack_require__(244);
var ARRAY_BUFFER_NON_EXTENSIBLE = __webpack_require__(6784);

// eslint-disable-next-line es/no-object-isextensible -- safe
var $isExtensible = Object.isExtensible;
var FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });

// `Object.isExtensible` method
// https://tc39.es/ecma262/#sec-object.isextensible
module.exports = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {
  if (!isObject(it)) return false;
  if (ARRAY_BUFFER_NON_EXTENSIBLE && classof(it) == 'ArrayBuffer') return false;
  return $isExtensible ? $isExtensible(it) : true;
} : $isExtensible;


/***/ }),

/***/ 3381:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);

module.exports = uncurryThis({}.isPrototypeOf);


/***/ }),

/***/ 4512:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var hasOwn = __webpack_require__(4373);
var toIndexedObject = __webpack_require__(9441);
var indexOf = (__webpack_require__(4581).indexOf);
var hiddenKeys = __webpack_require__(6145);

var push = uncurryThis([].push);

module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};


/***/ }),

/***/ 5556:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var internalObjectKeys = __webpack_require__(4512);
var enumBugKeys = __webpack_require__(347);

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),

/***/ 6337:
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),

/***/ 4619:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* eslint-disable no-proto -- safe */
var uncurryThisAccessor = __webpack_require__(7006);
var anObject = __webpack_require__(8347);
var aPossiblePrototype = __webpack_require__(8934);

// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
// Works with __proto__ only. Old v8 can't work with null proto objects.
// eslint-disable-next-line es/no-object-setprototypeof -- safe
module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {
  var CORRECT_SETTER = false;
  var test = {};
  var setter;
  try {
    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');
    setter(test, []);
    CORRECT_SETTER = test instanceof Array;
  } catch (error) { /* empty */ }
  return function setPrototypeOf(O, proto) {
    anObject(O);
    aPossiblePrototype(proto);
    if (CORRECT_SETTER) setter(O, proto);
    else O.__proto__ = proto;
    return O;
  };
}() : undefined);


/***/ }),

/***/ 5657:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var uncurryThis = __webpack_require__(9036);
var objectKeys = __webpack_require__(5556);
var toIndexedObject = __webpack_require__(9441);
var $propertyIsEnumerable = (__webpack_require__(6337).f);

var propertyIsEnumerable = uncurryThis($propertyIsEnumerable);
var push = uncurryThis([].push);

// `Object.{ entries, values }` methods implementation
var createMethod = function (TO_ENTRIES) {
  return function (it) {
    var O = toIndexedObject(it);
    var keys = objectKeys(O);
    var length = keys.length;
    var i = 0;
    var result = [];
    var key;
    while (length > i) {
      key = keys[i++];
      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {
        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);
      }
    }
    return result;
  };
};

module.exports = {
  // `Object.entries` method
  // https://tc39.es/ecma262/#sec-object.entries
  entries: createMethod(true),
  // `Object.values` method
  // https://tc39.es/ecma262/#sec-object.values
  values: createMethod(false)
};


/***/ }),

/***/ 5759:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(7104);
var classof = __webpack_require__(5663);

// `Object.prototype.toString` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.tostring
module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
  return '[object ' + classof(this) + ']';
};


/***/ }),

/***/ 6034:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var call = __webpack_require__(3057);
var isCallable = __webpack_require__(2073);
var isObject = __webpack_require__(5774);

var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw $TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ 8195:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(7827);
var uncurryThis = __webpack_require__(9036);
var getOwnPropertyNamesModule = __webpack_require__(2036);
var getOwnPropertySymbolsModule = __webpack_require__(6841);
var anObject = __webpack_require__(8347);

var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};


/***/ }),

/***/ 7675:
/***/ (function(module) {

module.exports = {};


/***/ }),

/***/ 1851:
/***/ (function(module) {

module.exports = function (exec) {
  try {
    return { error: false, value: exec() };
  } catch (error) {
    return { error: true, value: error };
  }
};


/***/ }),

/***/ 5616:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var NativePromiseConstructor = __webpack_require__(1074);
var isCallable = __webpack_require__(2073);
var isForced = __webpack_require__(3488);
var inspectSource = __webpack_require__(6678);
var wellKnownSymbol = __webpack_require__(6615);
var IS_BROWSER = __webpack_require__(3846);
var IS_DENO = __webpack_require__(9360);
var IS_PURE = __webpack_require__(3599);
var V8_VERSION = __webpack_require__(6312);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var SPECIES = wellKnownSymbol('species');
var SUBCLASSING = false;
var NATIVE_PROMISE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);

var FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {
  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);
  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);
  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
  // We can't detect it synchronously, so just check versions
  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;
  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution
  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;
  // We can't use @@species feature detection in V8 since it causes
  // deoptimization and performance degradation
  // https://github.com/zloirock/core-js/issues/679
  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {
    // Detect correctness of subclassing with @@species support
    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });
    var FakePromise = function (exec) {
      exec(function () { /* empty */ }, function () { /* empty */ });
    };
    var constructor = promise.constructor = {};
    constructor[SPECIES] = FakePromise;
    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;
    if (!SUBCLASSING) return true;
  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
  } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT;
});

module.exports = {
  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,
  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,
  SUBCLASSING: SUBCLASSING
};


/***/ }),

/***/ 1074:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);

module.exports = global.Promise;


/***/ }),

/***/ 2130:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var anObject = __webpack_require__(8347);
var isObject = __webpack_require__(5774);
var newPromiseCapability = __webpack_require__(8959);

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ 1197:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NativePromiseConstructor = __webpack_require__(1074);
var checkCorrectnessOfIteration = __webpack_require__(8224);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(5616).CONSTRUCTOR);

module.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {
  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });
});


/***/ }),

/***/ 6949:
/***/ (function(module) {

var Queue = function () {
  this.head = null;
  this.tail = null;
};

Queue.prototype = {
  add: function (item) {
    var entry = { item: item, next: null };
    var tail = this.tail;
    if (tail) tail.next = entry;
    else this.head = entry;
    this.tail = entry;
  },
  get: function () {
    var entry = this.head;
    if (entry) {
      var next = this.head = entry.next;
      if (next === null) this.tail = null;
      return entry.item;
    }
  }
};

module.exports = Queue;


/***/ }),

/***/ 8890:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isNullOrUndefined = __webpack_require__(6153);

var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (isNullOrUndefined(it)) throw $TypeError("Can't call method on " + it);
  return it;
};


/***/ }),

/***/ 9413:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(7827);
var defineBuiltInAccessor = __webpack_require__(3614);
var wellKnownSymbol = __webpack_require__(6615);
var DESCRIPTORS = __webpack_require__(5560);

var SPECIES = wellKnownSymbol('species');

module.exports = function (CONSTRUCTOR_NAME) {
  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);

  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
    defineBuiltInAccessor(Constructor, SPECIES, {
      configurable: true,
      get: function () { return this; }
    });
  }
};


/***/ }),

/***/ 5051:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var TO_STRING_TAG_SUPPORT = __webpack_require__(7104);
var defineProperty = (__webpack_require__(6381).f);
var createNonEnumerableProperty = __webpack_require__(8471);
var hasOwn = __webpack_require__(4373);
var toString = __webpack_require__(5759);
var wellKnownSymbol = __webpack_require__(6615);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

module.exports = function (it, TAG, STATIC, SET_METHOD) {
  if (it) {
    var target = STATIC ? it : it.prototype;
    if (!hasOwn(target, TO_STRING_TAG)) {
      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });
    }
    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {
      createNonEnumerableProperty(target, 'toString', toString);
    }
  }
};


/***/ }),

/***/ 651:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var shared = __webpack_require__(3557);
var uid = __webpack_require__(7980);

var keys = shared('keys');

module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};


/***/ }),

/***/ 4993:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var defineGlobalProperty = __webpack_require__(909);

var SHARED = '__core-js_shared__';
var store = global[SHARED] || defineGlobalProperty(SHARED, {});

module.exports = store;


/***/ }),

/***/ 3557:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var IS_PURE = __webpack_require__(3599);
var store = __webpack_require__(4993);

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.30.2',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});


/***/ }),

/***/ 4745:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var anObject = __webpack_require__(8347);
var aConstructor = __webpack_require__(5040);
var isNullOrUndefined = __webpack_require__(6153);
var wellKnownSymbol = __webpack_require__(6615);

var SPECIES = wellKnownSymbol('species');

// `SpeciesConstructor` abstract operation
// https://tc39.es/ecma262/#sec-speciesconstructor
module.exports = function (O, defaultConstructor) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);
};


/***/ }),

/***/ 235:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var toIntegerOrInfinity = __webpack_require__(6759);
var toString = __webpack_require__(7803);
var requireObjectCoercible = __webpack_require__(8890);

var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var stringSlice = uncurryThis(''.slice);

var createMethod = function (CONVERT_TO_STRING) {
  return function ($this, pos) {
    var S = toString(requireObjectCoercible($this));
    var position = toIntegerOrInfinity(pos);
    var size = S.length;
    var first, second;
    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
    first = charCodeAt(S, position);
    return first < 0xD800 || first > 0xDBFF || position + 1 === size
      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
        ? CONVERT_TO_STRING
          ? charAt(S, position)
          : first
        : CONVERT_TO_STRING
          ? stringSlice(S, position, position + 2)
          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
  };
};

module.exports = {
  // `String.prototype.codePointAt` method
  // https://tc39.es/ecma262/#sec-string.prototype.codepointat
  codeAt: createMethod(false),
  // `String.prototype.at` method
  // https://github.com/mathiasbynens/String.prototype.at
  charAt: createMethod(true)
};


/***/ }),

/***/ 8915:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

// https://github.com/zloirock/core-js/issues/280
var userAgent = __webpack_require__(4084);

module.exports = /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent);


/***/ }),

/***/ 865:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

// https://github.com/tc39/proposal-string-pad-start-end
var uncurryThis = __webpack_require__(9036);
var toLength = __webpack_require__(2954);
var toString = __webpack_require__(7803);
var $repeat = __webpack_require__(6849);
var requireObjectCoercible = __webpack_require__(8890);

var repeat = uncurryThis($repeat);
var stringSlice = uncurryThis(''.slice);
var ceil = Math.ceil;

// `String.prototype.{ padStart, padEnd }` methods implementation
var createMethod = function (IS_END) {
  return function ($this, maxLength, fillString) {
    var S = toString(requireObjectCoercible($this));
    var intMaxLength = toLength(maxLength);
    var stringLength = S.length;
    var fillStr = fillString === undefined ? ' ' : toString(fillString);
    var fillLen, stringFiller;
    if (intMaxLength <= stringLength || fillStr == '') return S;
    fillLen = intMaxLength - stringLength;
    stringFiller = repeat(fillStr, ceil(fillLen / fillStr.length));
    if (stringFiller.length > fillLen) stringFiller = stringSlice(stringFiller, 0, fillLen);
    return IS_END ? S + stringFiller : stringFiller + S;
  };
};

module.exports = {
  // `String.prototype.padStart` method
  // https://tc39.es/ecma262/#sec-string.prototype.padstart
  start: createMethod(false),
  // `String.prototype.padEnd` method
  // https://tc39.es/ecma262/#sec-string.prototype.padend
  end: createMethod(true)
};


/***/ }),

/***/ 6849:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(6759);
var toString = __webpack_require__(7803);
var requireObjectCoercible = __webpack_require__(8890);

var $RangeError = RangeError;

// `String.prototype.repeat` method implementation
// https://tc39.es/ecma262/#sec-string.prototype.repeat
module.exports = function repeat(count) {
  var str = toString(requireObjectCoercible(this));
  var result = '';
  var n = toIntegerOrInfinity(count);
  if (n < 0 || n == Infinity) throw $RangeError('Wrong number of repetitions');
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;
  return result;
};


/***/ }),

/***/ 6014:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var PROPER_FUNCTION_NAME = (__webpack_require__(4970).PROPER);
var fails = __webpack_require__(7131);
var whitespaces = __webpack_require__(1192);

var non = '\u200B\u0085\u180E';

// check that a method works with the correct list
// of whitespaces and has a correct name
module.exports = function (METHOD_NAME) {
  return fails(function () {
    return !!whitespaces[METHOD_NAME]()
      || non[METHOD_NAME]() !== non
      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);
  });
};


/***/ }),

/***/ 966:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);
var requireObjectCoercible = __webpack_require__(8890);
var toString = __webpack_require__(7803);
var whitespaces = __webpack_require__(1192);

var replace = uncurryThis(''.replace);
var ltrim = RegExp('^[' + whitespaces + ']+');
var rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');

// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation
var createMethod = function (TYPE) {
  return function ($this) {
    var string = toString(requireObjectCoercible($this));
    if (TYPE & 1) string = replace(string, ltrim, '');
    if (TYPE & 2) string = replace(string, rtrim, '$1');
    return string;
  };
};

module.exports = {
  // `String.prototype.{ trimLeft, trimStart }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimstart
  start: createMethod(1),
  // `String.prototype.{ trimRight, trimEnd }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimend
  end: createMethod(2),
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: createMethod(3)
};


/***/ }),

/***/ 7235:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* eslint-disable es/no-symbol -- required for testing */
var V8_VERSION = __webpack_require__(6312);
var fails = __webpack_require__(7131);
var global = __webpack_require__(5391);

var $String = global.String;

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol();
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
  // of course, fail.
  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});


/***/ }),

/***/ 3966:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var call = __webpack_require__(3057);
var getBuiltIn = __webpack_require__(7827);
var wellKnownSymbol = __webpack_require__(6615);
var defineBuiltIn = __webpack_require__(492);

module.exports = function () {
  var Symbol = getBuiltIn('Symbol');
  var SymbolPrototype = Symbol && Symbol.prototype;
  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;
  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {
    // `Symbol.prototype[@@toPrimitive]` method
    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
    // eslint-disable-next-line no-unused-vars -- required for .length
    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {
      return call(valueOf, this);
    }, { arity: 1 });
  }
};


/***/ }),

/***/ 7700:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var NATIVE_SYMBOL = __webpack_require__(7235);

/* eslint-disable es/no-symbol -- safe */
module.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;


/***/ }),

/***/ 4677:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var apply = __webpack_require__(1981);
var bind = __webpack_require__(2116);
var isCallable = __webpack_require__(2073);
var hasOwn = __webpack_require__(4373);
var fails = __webpack_require__(7131);
var html = __webpack_require__(9417);
var arraySlice = __webpack_require__(820);
var createElement = __webpack_require__(6171);
var validateArgumentsLength = __webpack_require__(4952);
var IS_IOS = __webpack_require__(7603);
var IS_NODE = __webpack_require__(7244);

var set = global.setImmediate;
var clear = global.clearImmediate;
var process = global.process;
var Dispatch = global.Dispatch;
var Function = global.Function;
var MessageChannel = global.MessageChannel;
var String = global.String;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var $location, defer, channel, port;

fails(function () {
  // Deno throws a ReferenceError on `location` access without `--location` flag
  $location = global.location;
});

var run = function (id) {
  if (hasOwn(queue, id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};

var runner = function (id) {
  return function () {
    run(id);
  };
};

var eventListener = function (event) {
  run(event.data);
};

var globalPostMessageDefer = function (id) {
  // old engines have not location.origin
  global.postMessage(String(id), $location.protocol + '//' + $location.host);
};

// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!set || !clear) {
  set = function setImmediate(handler) {
    validateArgumentsLength(arguments.length, 1);
    var fn = isCallable(handler) ? handler : Function(handler);
    var args = arraySlice(arguments, 1);
    queue[++counter] = function () {
      apply(fn, undefined, args);
    };
    defer(counter);
    return counter;
  };
  clear = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (IS_NODE) {
    defer = function (id) {
      process.nextTick(runner(id));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(runner(id));
    };
  // Browsers with MessageChannel, includes WebWorkers
  // except iOS - https://github.com/zloirock/core-js/issues/624
  } else if (MessageChannel && !IS_IOS) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = eventListener;
    defer = bind(port.postMessage, port);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (
    global.addEventListener &&
    isCallable(global.postMessage) &&
    !global.importScripts &&
    $location && $location.protocol !== 'file:' &&
    !fails(globalPostMessageDefer)
  ) {
    defer = globalPostMessageDefer;
    global.addEventListener('message', eventListener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in createElement('script')) {
    defer = function (id) {
      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(runner(id), 0);
    };
  }
}

module.exports = {
  set: set,
  clear: clear
};


/***/ }),

/***/ 8630:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toIntegerOrInfinity = __webpack_require__(6759);

var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};


/***/ }),

/***/ 9441:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(6731);
var requireObjectCoercible = __webpack_require__(8890);

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),

/***/ 6759:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var trunc = __webpack_require__(1049);

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};


/***/ }),

/***/ 2954:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toIntegerOrInfinity = __webpack_require__(6759);

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),

/***/ 5809:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var requireObjectCoercible = __webpack_require__(8890);

var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};


/***/ }),

/***/ 5045:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var call = __webpack_require__(3057);
var isObject = __webpack_require__(5774);
var isSymbol = __webpack_require__(3969);
var getMethod = __webpack_require__(3514);
var ordinaryToPrimitive = __webpack_require__(6034);
var wellKnownSymbol = __webpack_require__(6615);

var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};


/***/ }),

/***/ 5141:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toPrimitive = __webpack_require__(5045);
var isSymbol = __webpack_require__(3969);

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};


/***/ }),

/***/ 7104:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(6615);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};

test[TO_STRING_TAG] = 'z';

module.exports = String(test) === '[object z]';


/***/ }),

/***/ 7803:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classof = __webpack_require__(5663);

var $String = String;

module.exports = function (argument) {
  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
  return $String(argument);
};


/***/ }),

/***/ 4003:
/***/ (function(module) {

var $String = String;

module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};


/***/ }),

/***/ 7980:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(9036);

var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.0.toString);

module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};


/***/ }),

/***/ 1004:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* eslint-disable es/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(7235);

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),

/***/ 2506:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(5560);
var fails = __webpack_require__(7131);

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () { /* empty */ }, 'prototype', {
    value: 42,
    writable: false
  }).prototype != 42;
});


/***/ }),

/***/ 4952:
/***/ (function(module) {

var $TypeError = TypeError;

module.exports = function (passed, required) {
  if (passed < required) throw $TypeError('Not enough arguments');
  return passed;
};


/***/ }),

/***/ 8698:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var isCallable = __webpack_require__(2073);

var WeakMap = global.WeakMap;

module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));


/***/ }),

/***/ 923:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var path = __webpack_require__(7675);
var hasOwn = __webpack_require__(4373);
var wrappedWellKnownSymbolModule = __webpack_require__(1635);
var defineProperty = (__webpack_require__(6381).f);

module.exports = function (NAME) {
  var Symbol = path.Symbol || (path.Symbol = {});
  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {
    value: wrappedWellKnownSymbolModule.f(NAME)
  });
};


/***/ }),

/***/ 1635:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(6615);

exports.f = wellKnownSymbol;


/***/ }),

/***/ 6615:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var shared = __webpack_require__(3557);
var hasOwn = __webpack_require__(4373);
var uid = __webpack_require__(7980);
var NATIVE_SYMBOL = __webpack_require__(7235);
var USE_SYMBOL_AS_UID = __webpack_require__(1004);

var Symbol = global.Symbol;
var WellKnownSymbolsStore = shared('wks');
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name)) {
    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)
      ? Symbol[name]
      : createWellKnownSymbol('Symbol.' + name);
  } return WellKnownSymbolsStore[name];
};


/***/ }),

/***/ 1192:
/***/ (function(module) {

// a string of all valid unicode whitespaces
module.exports = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' +
  '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ }),

/***/ 2949:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var isPrototypeOf = __webpack_require__(3381);
var getPrototypeOf = __webpack_require__(3439);
var setPrototypeOf = __webpack_require__(4619);
var copyConstructorProperties = __webpack_require__(2144);
var create = __webpack_require__(3628);
var createNonEnumerableProperty = __webpack_require__(8471);
var createPropertyDescriptor = __webpack_require__(3768);
var installErrorCause = __webpack_require__(60);
var installErrorStack = __webpack_require__(927);
var iterate = __webpack_require__(9384);
var normalizeStringArgument = __webpack_require__(9383);
var wellKnownSymbol = __webpack_require__(6615);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Error = Error;
var push = [].push;

var $AggregateError = function AggregateError(errors, message /* , options */) {
  var isInstance = isPrototypeOf(AggregateErrorPrototype, this);
  var that;
  if (setPrototypeOf) {
    that = setPrototypeOf($Error(), isInstance ? getPrototypeOf(this) : AggregateErrorPrototype);
  } else {
    that = isInstance ? this : create(AggregateErrorPrototype);
    createNonEnumerableProperty(that, TO_STRING_TAG, 'Error');
  }
  if (message !== undefined) createNonEnumerableProperty(that, 'message', normalizeStringArgument(message));
  installErrorStack(that, $AggregateError, that.stack, 1);
  if (arguments.length > 2) installErrorCause(that, arguments[2]);
  var errorsArray = [];
  iterate(errors, push, { that: errorsArray });
  createNonEnumerableProperty(that, 'errors', errorsArray);
  return that;
};

if (setPrototypeOf) setPrototypeOf($AggregateError, $Error);
else copyConstructorProperties($AggregateError, $Error, { name: true });

var AggregateErrorPrototype = $AggregateError.prototype = create($Error.prototype, {
  constructor: createPropertyDescriptor(1, $AggregateError),
  message: createPropertyDescriptor(1, ''),
  name: createPropertyDescriptor(1, 'AggregateError')
});

// `AggregateError` constructor
// https://tc39.es/ecma262/#sec-aggregate-error-constructor
$({ global: true, constructor: true, arity: 2 }, {
  AggregateError: $AggregateError
});


/***/ }),

/***/ 1095:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(2949);


/***/ }),

/***/ 9958:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var fails = __webpack_require__(7131);
var isArray = __webpack_require__(1972);
var isObject = __webpack_require__(5774);
var toObject = __webpack_require__(5809);
var lengthOfArrayLike = __webpack_require__(954);
var doesNotExceedSafeInteger = __webpack_require__(6929);
var createProperty = __webpack_require__(8724);
var arraySpeciesCreate = __webpack_require__(6601);
var arrayMethodHasSpeciesSupport = __webpack_require__(1225);
var wellKnownSymbol = __webpack_require__(6615);
var V8_VERSION = __webpack_require__(6312);

var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');

// We can't use this feature detection in V8 since it causes
// deoptimization and serious performance degradation
// https://github.com/zloirock/core-js/issues/679
var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {
  var array = [];
  array[IS_CONCAT_SPREADABLE] = false;
  return array.concat()[0] !== array;
});

var isConcatSpreadable = function (O) {
  if (!isObject(O)) return false;
  var spreadable = O[IS_CONCAT_SPREADABLE];
  return spreadable !== undefined ? !!spreadable : isArray(O);
};

var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');

// `Array.prototype.concat` method
// https://tc39.es/ecma262/#sec-array.prototype.concat
// with adding support of @@isConcatSpreadable and @@species
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  concat: function concat(arg) {
    var O = toObject(this);
    var A = arraySpeciesCreate(O, 0);
    var n = 0;
    var i, k, length, len, E;
    for (i = -1, length = arguments.length; i < length; i++) {
      E = i === -1 ? O : arguments[i];
      if (isConcatSpreadable(E)) {
        len = lengthOfArrayLike(E);
        doesNotExceedSafeInteger(n + len);
        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);
      } else {
        doesNotExceedSafeInteger(n + 1);
        createProperty(A, n++, E);
      }
    }
    A.length = n;
    return A;
  }
});


/***/ }),

/***/ 1284:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $filter = (__webpack_require__(2217).filter);
var arrayMethodHasSpeciesSupport = __webpack_require__(1225);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');

// `Array.prototype.filter` method
// https://tc39.es/ecma262/#sec-array.prototype.filter
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  filter: function filter(callbackfn /* , thisArg */) {
    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 7765:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $find = (__webpack_require__(2217).find);
var addToUnscopables = __webpack_require__(6065);

var FIND = 'find';
var SKIPS_HOLES = true;

// Shouldn't skip holes
// eslint-disable-next-line es/no-array-prototype-find -- testing
if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });

// `Array.prototype.find` method
// https://tc39.es/ecma262/#sec-array.prototype.find
$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables(FIND);


/***/ }),

/***/ 9177:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var forEach = __webpack_require__(1591);

// `Array.prototype.forEach` method
// https://tc39.es/ecma262/#sec-array.prototype.foreach
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {
  forEach: forEach
});


/***/ }),

/***/ 6206:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var from = __webpack_require__(6864);
var checkCorrectnessOfIteration = __webpack_require__(8224);

var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {
  // eslint-disable-next-line es/no-array-from -- required for testing
  Array.from(iterable);
});

// `Array.from` method
// https://tc39.es/ecma262/#sec-array.from
$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {
  from: from
});


/***/ }),

/***/ 7019:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $includes = (__webpack_require__(4581).includes);
var fails = __webpack_require__(7131);
var addToUnscopables = __webpack_require__(6065);

// FF99+ bug
var BROKEN_ON_SPARSE = fails(function () {
  // eslint-disable-next-line es/no-array-prototype-includes -- detection
  return !Array(1).includes();
});

// `Array.prototype.includes` method
// https://tc39.es/ecma262/#sec-array.prototype.includes
$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('includes');


/***/ }),

/***/ 7640:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-array-prototype-indexof -- required for testing */
var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9000);
var $indexOf = (__webpack_require__(4581).indexOf);
var arrayMethodIsStrict = __webpack_require__(538);

var nativeIndexOf = uncurryThis([].indexOf);

var NEGATIVE_ZERO = !!nativeIndexOf && 1 / nativeIndexOf([1], 1, -0) < 0;
var FORCED = NEGATIVE_ZERO || !arrayMethodIsStrict('indexOf');

// `Array.prototype.indexOf` method
// https://tc39.es/ecma262/#sec-array.prototype.indexof
$({ target: 'Array', proto: true, forced: FORCED }, {
  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {
    var fromIndex = arguments.length > 1 ? arguments[1] : undefined;
    return NEGATIVE_ZERO
      // convert -0 to +0
      ? nativeIndexOf(this, searchElement, fromIndex) || 0
      : $indexOf(this, searchElement, fromIndex);
  }
});


/***/ }),

/***/ 5425:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var isArray = __webpack_require__(1972);

// `Array.isArray` method
// https://tc39.es/ecma262/#sec-array.isarray
$({ target: 'Array', stat: true }, {
  isArray: isArray
});


/***/ }),

/***/ 6396:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIndexedObject = __webpack_require__(9441);
var addToUnscopables = __webpack_require__(6065);
var Iterators = __webpack_require__(1113);
var InternalStateModule = __webpack_require__(9257);
var defineProperty = (__webpack_require__(6381).f);
var defineIterator = __webpack_require__(6188);
var createIterResultObject = __webpack_require__(789);
var IS_PURE = __webpack_require__(3599);
var DESCRIPTORS = __webpack_require__(5560);

var ARRAY_ITERATOR = 'Array Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);

// `Array.prototype.entries` method
// https://tc39.es/ecma262/#sec-array.prototype.entries
// `Array.prototype.keys` method
// https://tc39.es/ecma262/#sec-array.prototype.keys
// `Array.prototype.values` method
// https://tc39.es/ecma262/#sec-array.prototype.values
// `Array.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-array.prototype-@@iterator
// `CreateArrayIterator` internal method
// https://tc39.es/ecma262/#sec-createarrayiterator
module.exports = defineIterator(Array, 'Array', function (iterated, kind) {
  setInternalState(this, {
    type: ARRAY_ITERATOR,
    target: toIndexedObject(iterated), // target
    index: 0,                          // next index
    kind: kind                         // kind
  });
// `%ArrayIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
}, function () {
  var state = getInternalState(this);
  var target = state.target;
  var kind = state.kind;
  var index = state.index++;
  if (!target || index >= target.length) {
    state.target = undefined;
    return createIterResultObject(undefined, true);
  }
  if (kind == 'keys') return createIterResultObject(index, false);
  if (kind == 'values') return createIterResultObject(target[index], false);
  return createIterResultObject([index, target[index]], false);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values%
// https://tc39.es/ecma262/#sec-createunmappedargumentsobject
// https://tc39.es/ecma262/#sec-createmappedargumentsobject
var values = Iterators.Arguments = Iterators.Array;

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

// V8 ~ Chrome 45- bug
if (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {
  defineProperty(values, 'name', { value: 'values' });
} catch (error) { /* empty */ }


/***/ }),

/***/ 5973:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var lastIndexOf = __webpack_require__(4071);

// `Array.prototype.lastIndexOf` method
// https://tc39.es/ecma262/#sec-array.prototype.lastindexof
// eslint-disable-next-line es/no-array-prototype-lastindexof -- required for testing
$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {
  lastIndexOf: lastIndexOf
});


/***/ }),

/***/ 1306:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $map = (__webpack_require__(2217).map);
var arrayMethodHasSpeciesSupport = __webpack_require__(1225);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');

// `Array.prototype.map` method
// https://tc39.es/ecma262/#sec-array.prototype.map
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  map: function map(callbackfn /* , thisArg */) {
    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 4966:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var toObject = __webpack_require__(5809);
var lengthOfArrayLike = __webpack_require__(954);
var setArrayLength = __webpack_require__(6219);
var doesNotExceedSafeInteger = __webpack_require__(6929);
var fails = __webpack_require__(7131);

var INCORRECT_TO_LENGTH = fails(function () {
  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;
});

// V8 and Safari <= 15.4, FF < 23 throws InternalError
// https://bugs.chromium.org/p/v8/issues/detail?id=12681
var properErrorOnNonWritableLength = function () {
  try {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty([], 'length', { writable: false }).push();
  } catch (error) {
    return error instanceof TypeError;
  }
};

var FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();

// `Array.prototype.push` method
// https://tc39.es/ecma262/#sec-array.prototype.push
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  push: function push(item) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var argCount = arguments.length;
    doesNotExceedSafeInteger(len + argCount);
    for (var i = 0; i < argCount; i++) {
      O[len] = arguments[i];
      len++;
    }
    setArrayLength(O, len);
    return len;
  }
});


/***/ }),

/***/ 8132:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $reduce = (__webpack_require__(266).left);
var arrayMethodIsStrict = __webpack_require__(538);
var CHROME_VERSION = __webpack_require__(6312);
var IS_NODE = __webpack_require__(7244);

// Chrome 80-82 has a critical bug
// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982
var CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;
var FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');

// `Array.prototype.reduce` method
// https://tc39.es/ecma262/#sec-array.prototype.reduce
$({ target: 'Array', proto: true, forced: FORCED }, {
  reduce: function reduce(callbackfn /* , initialValue */) {
    var length = arguments.length;
    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 4126:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9036);
var isArray = __webpack_require__(1972);

var nativeReverse = uncurryThis([].reverse);
var test = [1, 2];

// `Array.prototype.reverse` method
// https://tc39.es/ecma262/#sec-array.prototype.reverse
// fix for Safari 12.0 bug
// https://bugs.webkit.org/show_bug.cgi?id=188794
$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {
  reverse: function reverse() {
    // eslint-disable-next-line no-self-assign -- dirty hack
    if (isArray(this)) this.length = this.length;
    return nativeReverse(this);
  }
});


/***/ }),

/***/ 9778:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var isArray = __webpack_require__(1972);
var isConstructor = __webpack_require__(6553);
var isObject = __webpack_require__(5774);
var toAbsoluteIndex = __webpack_require__(8630);
var lengthOfArrayLike = __webpack_require__(954);
var toIndexedObject = __webpack_require__(9441);
var createProperty = __webpack_require__(8724);
var wellKnownSymbol = __webpack_require__(6615);
var arrayMethodHasSpeciesSupport = __webpack_require__(1225);
var nativeSlice = __webpack_require__(820);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');

var SPECIES = wellKnownSymbol('species');
var $Array = Array;
var max = Math.max;

// `Array.prototype.slice` method
// https://tc39.es/ecma262/#sec-array.prototype.slice
// fallback for not array-like ES3 strings and DOM objects
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  slice: function slice(start, end) {
    var O = toIndexedObject(this);
    var length = lengthOfArrayLike(O);
    var k = toAbsoluteIndex(start, length);
    var fin = toAbsoluteIndex(end === undefined ? length : end, length);
    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
    var Constructor, result, n;
    if (isArray(O)) {
      Constructor = O.constructor;
      // cross-realm fallback
      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {
        Constructor = undefined;
      } else if (isObject(Constructor)) {
        Constructor = Constructor[SPECIES];
        if (Constructor === null) Constructor = undefined;
      }
      if (Constructor === $Array || Constructor === undefined) {
        return nativeSlice(O, k, fin);
      }
    }
    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));
    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);
    result.length = n;
    return result;
  }
});


/***/ }),

/***/ 2714:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9036);
var aCallable = __webpack_require__(182);
var toObject = __webpack_require__(5809);
var lengthOfArrayLike = __webpack_require__(954);
var deletePropertyOrThrow = __webpack_require__(2850);
var toString = __webpack_require__(7803);
var fails = __webpack_require__(7131);
var internalSort = __webpack_require__(2916);
var arrayMethodIsStrict = __webpack_require__(538);
var FF = __webpack_require__(166);
var IE_OR_EDGE = __webpack_require__(1054);
var V8 = __webpack_require__(6312);
var WEBKIT = __webpack_require__(6532);

var test = [];
var nativeSort = uncurryThis(test.sort);
var push = uncurryThis(test.push);

// IE8-
var FAILS_ON_UNDEFINED = fails(function () {
  test.sort(undefined);
});
// V8 bug
var FAILS_ON_NULL = fails(function () {
  test.sort(null);
});
// Old WebKit
var STRICT_METHOD = arrayMethodIsStrict('sort');

var STABLE_SORT = !fails(function () {
  // feature detection can be too slow, so check engines versions
  if (V8) return V8 < 70;
  if (FF && FF > 3) return;
  if (IE_OR_EDGE) return true;
  if (WEBKIT) return WEBKIT < 603;

  var result = '';
  var code, chr, value, index;

  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)
  for (code = 65; code < 76; code++) {
    chr = String.fromCharCode(code);

    switch (code) {
      case 66: case 69: case 70: case 72: value = 3; break;
      case 68: case 71: value = 4; break;
      default: value = 2;
    }

    for (index = 0; index < 47; index++) {
      test.push({ k: chr + index, v: value });
    }
  }

  test.sort(function (a, b) { return b.v - a.v; });

  for (index = 0; index < test.length; index++) {
    chr = test[index].k.charAt(0);
    if (result.charAt(result.length - 1) !== chr) result += chr;
  }

  return result !== 'DGBEFHACIJK';
});

var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

var getSortCompare = function (comparefn) {
  return function (x, y) {
    if (y === undefined) return -1;
    if (x === undefined) return 1;
    if (comparefn !== undefined) return +comparefn(x, y) || 0;
    return toString(x) > toString(y) ? 1 : -1;
  };
};

// `Array.prototype.sort` method
// https://tc39.es/ecma262/#sec-array.prototype.sort
$({ target: 'Array', proto: true, forced: FORCED }, {
  sort: function sort(comparefn) {
    if (comparefn !== undefined) aCallable(comparefn);

    var array = toObject(this);

    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);

    var items = [];
    var arrayLength = lengthOfArrayLike(array);
    var itemsLength, index;

    for (index = 0; index < arrayLength; index++) {
      if (index in array) push(items, array[index]);
    }

    internalSort(items, getSortCompare(comparefn));

    itemsLength = lengthOfArrayLike(items);
    index = 0;

    while (index < itemsLength) array[index] = items[index++];
    while (index < arrayLength) deletePropertyOrThrow(array, index++);

    return array;
  }
});


/***/ }),

/***/ 8969:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var toObject = __webpack_require__(5809);
var toAbsoluteIndex = __webpack_require__(8630);
var toIntegerOrInfinity = __webpack_require__(6759);
var lengthOfArrayLike = __webpack_require__(954);
var setArrayLength = __webpack_require__(6219);
var doesNotExceedSafeInteger = __webpack_require__(6929);
var arraySpeciesCreate = __webpack_require__(6601);
var createProperty = __webpack_require__(8724);
var deletePropertyOrThrow = __webpack_require__(2850);
var arrayMethodHasSpeciesSupport = __webpack_require__(1225);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');

var max = Math.max;
var min = Math.min;

// `Array.prototype.splice` method
// https://tc39.es/ecma262/#sec-array.prototype.splice
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  splice: function splice(start, deleteCount /* , ...items */) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var actualStart = toAbsoluteIndex(start, len);
    var argumentsLength = arguments.length;
    var insertCount, actualDeleteCount, A, k, from, to;
    if (argumentsLength === 0) {
      insertCount = actualDeleteCount = 0;
    } else if (argumentsLength === 1) {
      insertCount = 0;
      actualDeleteCount = len - actualStart;
    } else {
      insertCount = argumentsLength - 2;
      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);
    }
    doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);
    A = arraySpeciesCreate(O, actualDeleteCount);
    for (k = 0; k < actualDeleteCount; k++) {
      from = actualStart + k;
      if (from in O) createProperty(A, k, O[from]);
    }
    A.length = actualDeleteCount;
    if (insertCount < actualDeleteCount) {
      for (k = actualStart; k < len - actualDeleteCount; k++) {
        from = k + actualDeleteCount;
        to = k + insertCount;
        if (from in O) O[to] = O[from];
        else deletePropertyOrThrow(O, to);
      }
      for (k = len; k > len - actualDeleteCount + insertCount; k--) deletePropertyOrThrow(O, k - 1);
    } else if (insertCount > actualDeleteCount) {
      for (k = len - actualDeleteCount; k > actualStart; k--) {
        from = k + actualDeleteCount - 1;
        to = k + insertCount - 1;
        if (from in O) O[to] = O[from];
        else deletePropertyOrThrow(O, to);
      }
    }
    for (k = 0; k < insertCount; k++) {
      O[k + actualStart] = arguments[k + 2];
    }
    setArrayLength(O, len - actualDeleteCount + insertCount);
    return A;
  }
});


/***/ }),

/***/ 5704:
/***/ (function() {

// empty


/***/ }),

/***/ 990:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
var $ = __webpack_require__(1938);
var bind = __webpack_require__(2026);

// `Function.prototype.bind` method
// https://tc39.es/ecma262/#sec-function.prototype.bind
// eslint-disable-next-line es/no-function-prototype-bind -- detection
$({ target: 'Function', proto: true, forced: Function.bind !== bind }, {
  bind: bind
});


/***/ }),

/***/ 1522:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var getBuiltIn = __webpack_require__(7827);
var apply = __webpack_require__(1981);
var call = __webpack_require__(3057);
var uncurryThis = __webpack_require__(9036);
var fails = __webpack_require__(7131);
var isCallable = __webpack_require__(2073);
var isSymbol = __webpack_require__(3969);
var arraySlice = __webpack_require__(820);
var getReplacerFunction = __webpack_require__(7873);
var NATIVE_SYMBOL = __webpack_require__(7235);

var $String = String;
var $stringify = getBuiltIn('JSON', 'stringify');
var exec = uncurryThis(/./.exec);
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var replace = uncurryThis(''.replace);
var numberToString = uncurryThis(1.0.toString);

var tester = /[\uD800-\uDFFF]/g;
var low = /^[\uD800-\uDBFF]$/;
var hi = /^[\uDC00-\uDFFF]$/;

var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {
  var symbol = getBuiltIn('Symbol')();
  // MS Edge converts symbol values to JSON as {}
  return $stringify([symbol]) != '[null]'
    // WebKit converts symbol values to JSON as null
    || $stringify({ a: symbol }) != '{}'
    // V8 throws on boxed symbols
    || $stringify(Object(symbol)) != '{}';
});

// https://github.com/tc39/proposal-well-formed-stringify
var ILL_FORMED_UNICODE = fails(function () {
  return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
    || $stringify('\uDEAD') !== '"\\udead"';
});

var stringifyWithSymbolsFix = function (it, replacer) {
  var args = arraySlice(arguments);
  var $replacer = getReplacerFunction(replacer);
  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined
  args[1] = function (key, value) {
    // some old implementations (like WebKit) could pass numbers as keys
    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);
    if (!isSymbol(value)) return value;
  };
  return apply($stringify, null, args);
};

var fixIllFormed = function (match, offset, string) {
  var prev = charAt(string, offset - 1);
  var next = charAt(string, offset + 1);
  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
    return '\\u' + numberToString(charCodeAt(match, 0), 16);
  } return match;
};

if ($stringify) {
  // `JSON.stringify` method
  // https://tc39.es/ecma262/#sec-json.stringify
  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    stringify: function stringify(it, replacer, space) {
      var args = arraySlice(arguments);
      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;
    }
  });
}


/***/ }),

/***/ 6111:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var global = __webpack_require__(5391);
var setToStringTag = __webpack_require__(5051);

// JSON[@@toStringTag] property
// https://tc39.es/ecma262/#sec-json-@@tostringtag
setToStringTag(global.JSON, 'JSON', true);


/***/ }),

/***/ 5719:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var collection = __webpack_require__(8816);
var collectionStrong = __webpack_require__(4502);

// `Map` constructor
// https://tc39.es/ecma262/#sec-map-objects
collection('Map', function (init) {
  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };
}, collectionStrong);


/***/ }),

/***/ 9445:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(5719);


/***/ }),

/***/ 2259:
/***/ (function() {

// empty


/***/ }),

/***/ 6889:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var assign = __webpack_require__(8593);

// `Object.assign` method
// https://tc39.es/ecma262/#sec-object.assign
// eslint-disable-next-line es/no-object-assign -- required for testing
$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {
  assign: assign
});


/***/ }),

/***/ 9252:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
var $ = __webpack_require__(1938);
var DESCRIPTORS = __webpack_require__(5560);
var create = __webpack_require__(3628);

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {
  create: create
});


/***/ }),

/***/ 8805:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var DESCRIPTORS = __webpack_require__(5560);
var defineProperty = (__webpack_require__(6381).f);

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
// eslint-disable-next-line es/no-object-defineproperty -- safe
$({ target: 'Object', stat: true, forced: Object.defineProperty !== defineProperty, sham: !DESCRIPTORS }, {
  defineProperty: defineProperty
});


/***/ }),

/***/ 28:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var fails = __webpack_require__(7131);
var getOwnPropertyNames = (__webpack_require__(3126).f);

// eslint-disable-next-line es/no-object-getownpropertynames -- required for testing
var FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {
  getOwnPropertyNames: getOwnPropertyNames
});


/***/ }),

/***/ 65:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var NATIVE_SYMBOL = __webpack_require__(7235);
var fails = __webpack_require__(7131);
var getOwnPropertySymbolsModule = __webpack_require__(6841);
var toObject = __webpack_require__(5809);

// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });

// `Object.getOwnPropertySymbols` method
// https://tc39.es/ecma262/#sec-object.getownpropertysymbols
$({ target: 'Object', stat: true, forced: FORCED }, {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];
  }
});


/***/ }),

/***/ 4999:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var fails = __webpack_require__(7131);
var toObject = __webpack_require__(5809);
var nativeGetPrototypeOf = __webpack_require__(3439);
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(7007);

var FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {
  getPrototypeOf: function getPrototypeOf(it) {
    return nativeGetPrototypeOf(toObject(it));
  }
});



/***/ }),

/***/ 9676:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var toObject = __webpack_require__(5809);
var nativeKeys = __webpack_require__(5556);
var fails = __webpack_require__(7131);

var FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {
  keys: function keys(it) {
    return nativeKeys(toObject(it));
  }
});


/***/ }),

/***/ 2947:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var setPrototypeOf = __webpack_require__(4619);

// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
$({ target: 'Object', stat: true }, {
  setPrototypeOf: setPrototypeOf
});


/***/ }),

/***/ 5991:
/***/ (function() {

// empty


/***/ }),

/***/ 3582:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var $values = (__webpack_require__(5657).values);

// `Object.values` method
// https://tc39.es/ecma262/#sec-object.values
$({ target: 'Object', stat: true }, {
  values: function values(O) {
    return $values(O);
  }
});


/***/ }),

/***/ 6839:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var $parseFloat = __webpack_require__(3180);

// `parseFloat` method
// https://tc39.es/ecma262/#sec-parsefloat-string
$({ global: true, forced: parseFloat != $parseFloat }, {
  parseFloat: $parseFloat
});


/***/ }),

/***/ 1416:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var $parseInt = __webpack_require__(5787);

// `parseInt` method
// https://tc39.es/ecma262/#sec-parseint-string-radix
$({ global: true, forced: parseInt != $parseInt }, {
  parseInt: $parseInt
});


/***/ }),

/***/ 6331:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var aCallable = __webpack_require__(182);
var newPromiseCapabilityModule = __webpack_require__(8959);
var perform = __webpack_require__(1851);
var iterate = __webpack_require__(9384);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(1197);

// `Promise.allSettled` method
// https://tc39.es/ecma262/#sec-promise.allsettled
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  allSettled: function allSettled(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var promiseResolve = aCallable(C.resolve);
      var values = [];
      var counter = 0;
      var remaining = 1;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyCalled = false;
        remaining++;
        call(promiseResolve, C, promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = { status: 'fulfilled', value: value };
          --remaining || resolve(values);
        }, function (error) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = { status: 'rejected', reason: error };
          --remaining || resolve(values);
        });
      });
      --remaining || resolve(values);
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 3423:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var aCallable = __webpack_require__(182);
var newPromiseCapabilityModule = __webpack_require__(8959);
var perform = __webpack_require__(1851);
var iterate = __webpack_require__(9384);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(1197);

// `Promise.all` method
// https://tc39.es/ecma262/#sec-promise.all
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      var values = [];
      var counter = 0;
      var remaining = 1;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyCalled = false;
        remaining++;
        call($promiseResolve, C, promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 3474:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var aCallable = __webpack_require__(182);
var getBuiltIn = __webpack_require__(7827);
var newPromiseCapabilityModule = __webpack_require__(8959);
var perform = __webpack_require__(1851);
var iterate = __webpack_require__(9384);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(1197);

var PROMISE_ANY_ERROR = 'No one promise resolved';

// `Promise.any` method
// https://tc39.es/ecma262/#sec-promise.any
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  any: function any(iterable) {
    var C = this;
    var AggregateError = getBuiltIn('AggregateError');
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var promiseResolve = aCallable(C.resolve);
      var errors = [];
      var counter = 0;
      var remaining = 1;
      var alreadyResolved = false;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyRejected = false;
        remaining++;
        call(promiseResolve, C, promise).then(function (value) {
          if (alreadyRejected || alreadyResolved) return;
          alreadyResolved = true;
          resolve(value);
        }, function (error) {
          if (alreadyRejected || alreadyResolved) return;
          alreadyRejected = true;
          errors[index] = error;
          --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));
        });
      });
      --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 9959:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var IS_PURE = __webpack_require__(3599);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(5616).CONSTRUCTOR);
var NativePromiseConstructor = __webpack_require__(1074);
var getBuiltIn = __webpack_require__(7827);
var isCallable = __webpack_require__(2073);
var defineBuiltIn = __webpack_require__(492);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// `Promise.prototype.catch` method
// https://tc39.es/ecma262/#sec-promise.prototype.catch
$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {
  'catch': function (onRejected) {
    return this.then(undefined, onRejected);
  }
});

// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['catch'];
  if (NativePromisePrototype['catch'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });
  }
}


/***/ }),

/***/ 832:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var IS_PURE = __webpack_require__(3599);
var IS_NODE = __webpack_require__(7244);
var global = __webpack_require__(5391);
var call = __webpack_require__(3057);
var defineBuiltIn = __webpack_require__(492);
var setPrototypeOf = __webpack_require__(4619);
var setToStringTag = __webpack_require__(5051);
var setSpecies = __webpack_require__(9413);
var aCallable = __webpack_require__(182);
var isCallable = __webpack_require__(2073);
var isObject = __webpack_require__(5774);
var anInstance = __webpack_require__(675);
var speciesConstructor = __webpack_require__(4745);
var task = (__webpack_require__(4677).set);
var microtask = __webpack_require__(5655);
var hostReportErrors = __webpack_require__(2321);
var perform = __webpack_require__(1851);
var Queue = __webpack_require__(6949);
var InternalStateModule = __webpack_require__(9257);
var NativePromiseConstructor = __webpack_require__(1074);
var PromiseConstructorDetection = __webpack_require__(5616);
var newPromiseCapabilityModule = __webpack_require__(8959);

var PROMISE = 'Promise';
var FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;
var NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;
var NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;
var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
var setInternalState = InternalStateModule.set;
var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var PromiseConstructor = NativePromiseConstructor;
var PromisePrototype = NativePromisePrototype;
var TypeError = global.TypeError;
var document = global.document;
var process = global.process;
var newPromiseCapability = newPromiseCapabilityModule.f;
var newGenericPromiseCapability = newPromiseCapability;

var DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);
var UNHANDLED_REJECTION = 'unhandledrejection';
var REJECTION_HANDLED = 'rejectionhandled';
var PENDING = 0;
var FULFILLED = 1;
var REJECTED = 2;
var HANDLED = 1;
var UNHANDLED = 2;

var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && isCallable(then = it.then) ? then : false;
};

var callReaction = function (reaction, state) {
  var value = state.value;
  var ok = state.state == FULFILLED;
  var handler = ok ? reaction.ok : reaction.fail;
  var resolve = reaction.resolve;
  var reject = reaction.reject;
  var domain = reaction.domain;
  var result, then, exited;
  try {
    if (handler) {
      if (!ok) {
        if (state.rejection === UNHANDLED) onHandleUnhandled(state);
        state.rejection = HANDLED;
      }
      if (handler === true) result = value;
      else {
        if (domain) domain.enter();
        result = handler(value); // can throw
        if (domain) {
          domain.exit();
          exited = true;
        }
      }
      if (result === reaction.promise) {
        reject(TypeError('Promise-chain cycle'));
      } else if (then = isThenable(result)) {
        call(then, result, resolve, reject);
      } else resolve(result);
    } else reject(value);
  } catch (error) {
    if (domain && !exited) domain.exit();
    reject(error);
  }
};

var notify = function (state, isReject) {
  if (state.notified) return;
  state.notified = true;
  microtask(function () {
    var reactions = state.reactions;
    var reaction;
    while (reaction = reactions.get()) {
      callReaction(reaction, state);
    }
    state.notified = false;
    if (isReject && !state.rejection) onUnhandled(state);
  });
};

var dispatchEvent = function (name, promise, reason) {
  var event, handler;
  if (DISPATCH_EVENT) {
    event = document.createEvent('Event');
    event.promise = promise;
    event.reason = reason;
    event.initEvent(name, false, true);
    global.dispatchEvent(event);
  } else event = { promise: promise, reason: reason };
  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);
  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);
};

var onUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    var value = state.value;
    var IS_UNHANDLED = isUnhandled(state);
    var result;
    if (IS_UNHANDLED) {
      result = perform(function () {
        if (IS_NODE) {
          process.emit('unhandledRejection', value, promise);
        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
      if (result.error) throw result.value;
    }
  });
};

var isUnhandled = function (state) {
  return state.rejection !== HANDLED && !state.parent;
};

var onHandleUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    if (IS_NODE) {
      process.emit('rejectionHandled', promise);
    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);
  });
};

var bind = function (fn, state, unwrap) {
  return function (value) {
    fn(state, value, unwrap);
  };
};

var internalReject = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  state.value = value;
  state.state = REJECTED;
  notify(state, true);
};

var internalResolve = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  try {
    if (state.facade === value) throw TypeError("Promise can't be resolved itself");
    var then = isThenable(value);
    if (then) {
      microtask(function () {
        var wrapper = { done: false };
        try {
          call(then, value,
            bind(internalResolve, wrapper, state),
            bind(internalReject, wrapper, state)
          );
        } catch (error) {
          internalReject(wrapper, error, state);
        }
      });
    } else {
      state.value = value;
      state.state = FULFILLED;
      notify(state, false);
    }
  } catch (error) {
    internalReject({ done: false }, error, state);
  }
};

// constructor polyfill
if (FORCED_PROMISE_CONSTRUCTOR) {
  // 25.4.3.1 Promise(executor)
  PromiseConstructor = function Promise(executor) {
    anInstance(this, PromisePrototype);
    aCallable(executor);
    call(Internal, this);
    var state = getInternalPromiseState(this);
    try {
      executor(bind(internalResolve, state), bind(internalReject, state));
    } catch (error) {
      internalReject(state, error);
    }
  };

  PromisePrototype = PromiseConstructor.prototype;

  // eslint-disable-next-line no-unused-vars -- required for `.length`
  Internal = function Promise(executor) {
    setInternalState(this, {
      type: PROMISE,
      done: false,
      notified: false,
      parent: false,
      reactions: new Queue(),
      rejection: false,
      state: PENDING,
      value: undefined
    });
  };

  // `Promise.prototype.then` method
  // https://tc39.es/ecma262/#sec-promise.prototype.then
  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {
    var state = getInternalPromiseState(this);
    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
    state.parent = true;
    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;
    reaction.fail = isCallable(onRejected) && onRejected;
    reaction.domain = IS_NODE ? process.domain : undefined;
    if (state.state == PENDING) state.reactions.add(reaction);
    else microtask(function () {
      callReaction(reaction, state);
    });
    return reaction.promise;
  });

  OwnPromiseCapability = function () {
    var promise = new Internal();
    var state = getInternalPromiseState(promise);
    this.promise = promise;
    this.resolve = bind(internalResolve, state);
    this.reject = bind(internalReject, state);
  };

  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === PromiseConstructor || C === PromiseWrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };

  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {
    nativeThen = NativePromisePrototype.then;

    if (!NATIVE_PROMISE_SUBCLASSING) {
      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs
      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
        var that = this;
        return new PromiseConstructor(function (resolve, reject) {
          call(nativeThen, that, resolve, reject);
        }).then(onFulfilled, onRejected);
      // https://github.com/zloirock/core-js/issues/640
      }, { unsafe: true });
    }

    // make `.constructor === Promise` work for native promise-based APIs
    try {
      delete NativePromisePrototype.constructor;
    } catch (error) { /* empty */ }

    // make `instanceof Promise` work for native promise-based APIs
    if (setPrototypeOf) {
      setPrototypeOf(NativePromisePrototype, PromisePrototype);
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  Promise: PromiseConstructor
});

setToStringTag(PromiseConstructor, PROMISE, false, true);
setSpecies(PROMISE);


/***/ }),

/***/ 4235:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var IS_PURE = __webpack_require__(3599);
var NativePromiseConstructor = __webpack_require__(1074);
var fails = __webpack_require__(7131);
var getBuiltIn = __webpack_require__(7827);
var isCallable = __webpack_require__(2073);
var speciesConstructor = __webpack_require__(4745);
var promiseResolve = __webpack_require__(2130);
var defineBuiltIn = __webpack_require__(492);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829
var NON_GENERIC = !!NativePromiseConstructor && fails(function () {
  // eslint-disable-next-line unicorn/no-thenable -- required for testing
  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });
});

// `Promise.prototype.finally` method
// https://tc39.es/ecma262/#sec-promise.prototype.finally
$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
  'finally': function (onFinally) {
    var C = speciesConstructor(this, getBuiltIn('Promise'));
    var isFunction = isCallable(onFinally);
    return this.then(
      isFunction ? function (x) {
        return promiseResolve(C, onFinally()).then(function () { return x; });
      } : onFinally,
      isFunction ? function (e) {
        return promiseResolve(C, onFinally()).then(function () { throw e; });
      } : onFinally
    );
  }
});

// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['finally'];
  if (NativePromisePrototype['finally'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });
  }
}


/***/ }),

/***/ 9766:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(832);
__webpack_require__(3423);
__webpack_require__(9959);
__webpack_require__(7003);
__webpack_require__(5189);
__webpack_require__(4972);


/***/ }),

/***/ 7003:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var aCallable = __webpack_require__(182);
var newPromiseCapabilityModule = __webpack_require__(8959);
var perform = __webpack_require__(1851);
var iterate = __webpack_require__(9384);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(1197);

// `Promise.race` method
// https://tc39.es/ecma262/#sec-promise.race
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      iterate(iterable, function (promise) {
        call($promiseResolve, C, promise).then(capability.resolve, reject);
      });
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 5189:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var call = __webpack_require__(3057);
var newPromiseCapabilityModule = __webpack_require__(8959);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(5616).CONSTRUCTOR);

// `Promise.reject` method
// https://tc39.es/ecma262/#sec-promise.reject
$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  reject: function reject(r) {
    var capability = newPromiseCapabilityModule.f(this);
    call(capability.reject, undefined, r);
    return capability.promise;
  }
});


/***/ }),

/***/ 4972:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var getBuiltIn = __webpack_require__(7827);
var IS_PURE = __webpack_require__(3599);
var NativePromiseConstructor = __webpack_require__(1074);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(5616).CONSTRUCTOR);
var promiseResolve = __webpack_require__(2130);

var PromiseConstructorWrapper = getBuiltIn('Promise');
var CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;

// `Promise.resolve` method
// https://tc39.es/ecma262/#sec-promise.resolve
$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {
  resolve: function resolve(x) {
    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);
  }
});


/***/ }),

/***/ 6765:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var getBuiltIn = __webpack_require__(7827);
var apply = __webpack_require__(1981);
var bind = __webpack_require__(2026);
var aConstructor = __webpack_require__(5040);
var anObject = __webpack_require__(8347);
var isObject = __webpack_require__(5774);
var create = __webpack_require__(3628);
var fails = __webpack_require__(7131);

var nativeConstruct = getBuiltIn('Reflect', 'construct');
var ObjectPrototype = Object.prototype;
var push = [].push;

// `Reflect.construct` method
// https://tc39.es/ecma262/#sec-reflect.construct
// MS Edge supports only 2 arguments and argumentsList argument is optional
// FF Nightly sets third argument as `new.target`, but does not create `this` from it
var NEW_TARGET_BUG = fails(function () {
  function F() { /* empty */ }
  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);
});

var ARGS_BUG = !fails(function () {
  nativeConstruct(function () { /* empty */ });
});

var FORCED = NEW_TARGET_BUG || ARGS_BUG;

$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {
  construct: function construct(Target, args /* , newTarget */) {
    aConstructor(Target);
    anObject(args);
    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);
    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);
    if (Target == newTarget) {
      // w/o altered newTarget, optimization for 0-4 arguments
      switch (args.length) {
        case 0: return new Target();
        case 1: return new Target(args[0]);
        case 2: return new Target(args[0], args[1]);
        case 3: return new Target(args[0], args[1], args[2]);
        case 4: return new Target(args[0], args[1], args[2], args[3]);
      }
      // w/o altered newTarget, lot of arguments case
      var $args = [null];
      apply(push, $args, args);
      return new (apply(bind, Target, $args))();
    }
    // with altered newTarget, not support built-in constructors
    var proto = newTarget.prototype;
    var instance = create(isObject(proto) ? proto : ObjectPrototype);
    var result = apply(Target, instance, args);
    return isObject(result) ? result : instance;
  }
});


/***/ }),

/***/ 308:
/***/ (function() {

// empty


/***/ }),

/***/ 3991:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9036);
var notARegExp = __webpack_require__(5923);
var requireObjectCoercible = __webpack_require__(8890);
var toString = __webpack_require__(7803);
var correctIsRegExpLogic = __webpack_require__(7288);

var stringIndexOf = uncurryThis(''.indexOf);

// `String.prototype.includes` method
// https://tc39.es/ecma262/#sec-string.prototype.includes
$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~stringIndexOf(
      toString(requireObjectCoercible(this)),
      toString(notARegExp(searchString)),
      arguments.length > 1 ? arguments[1] : undefined
    );
  }
});


/***/ }),

/***/ 7632:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var charAt = (__webpack_require__(235).charAt);
var toString = __webpack_require__(7803);
var InternalStateModule = __webpack_require__(9257);
var defineIterator = __webpack_require__(6188);
var createIterResultObject = __webpack_require__(789);

var STRING_ITERATOR = 'String Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);

// `String.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-string.prototype-@@iterator
defineIterator(String, 'String', function (iterated) {
  setInternalState(this, {
    type: STRING_ITERATOR,
    string: toString(iterated),
    index: 0
  });
// `%StringIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
}, function next() {
  var state = getInternalState(this);
  var string = state.string;
  var index = state.index;
  var point;
  if (index >= string.length) return createIterResultObject(undefined, true);
  point = charAt(string, index);
  state.index += point.length;
  return createIterResultObject(point, false);
});


/***/ }),

/***/ 448:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $padStart = (__webpack_require__(865).start);
var WEBKIT_BUG = __webpack_require__(8915);

// `String.prototype.padStart` method
// https://tc39.es/ecma262/#sec-string.prototype.padstart
$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {
  padStart: function padStart(maxLength /* , fillString = ' ' */) {
    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 2780:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var uncurryThis = __webpack_require__(9000);
var getOwnPropertyDescriptor = (__webpack_require__(5687).f);
var toLength = __webpack_require__(2954);
var toString = __webpack_require__(7803);
var notARegExp = __webpack_require__(5923);
var requireObjectCoercible = __webpack_require__(8890);
var correctIsRegExpLogic = __webpack_require__(7288);
var IS_PURE = __webpack_require__(3599);

// eslint-disable-next-line es/no-string-prototype-startswith -- safe
var nativeStartsWith = uncurryThis(''.startsWith);
var stringSlice = uncurryThis(''.slice);
var min = Math.min;

var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');
// https://github.com/zloirock/core-js/pull/702
var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {
  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');
  return descriptor && !descriptor.writable;
}();

// `String.prototype.startsWith` method
// https://tc39.es/ecma262/#sec-string.prototype.startswith
$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
  startsWith: function startsWith(searchString /* , position = 0 */) {
    var that = toString(requireObjectCoercible(this));
    notARegExp(searchString);
    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));
    var search = toString(searchString);
    return nativeStartsWith
      ? nativeStartsWith(that, search, index)
      : stringSlice(that, index, index + search.length) === search;
  }
});


/***/ }),

/***/ 614:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var $trim = (__webpack_require__(966).trim);
var forcedStringTrimMethod = __webpack_require__(6014);

// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {
  trim: function trim() {
    return $trim(this);
  }
});


/***/ }),

/***/ 3128:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.asyncIterator` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.asynciterator
defineWellKnownSymbol('asyncIterator');


/***/ }),

/***/ 3805:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(1938);
var global = __webpack_require__(5391);
var call = __webpack_require__(3057);
var uncurryThis = __webpack_require__(9036);
var IS_PURE = __webpack_require__(3599);
var DESCRIPTORS = __webpack_require__(5560);
var NATIVE_SYMBOL = __webpack_require__(7235);
var fails = __webpack_require__(7131);
var hasOwn = __webpack_require__(4373);
var isPrototypeOf = __webpack_require__(3381);
var anObject = __webpack_require__(8347);
var toIndexedObject = __webpack_require__(9441);
var toPropertyKey = __webpack_require__(5141);
var $toString = __webpack_require__(7803);
var createPropertyDescriptor = __webpack_require__(3768);
var nativeObjectCreate = __webpack_require__(3628);
var objectKeys = __webpack_require__(5556);
var getOwnPropertyNamesModule = __webpack_require__(2036);
var getOwnPropertyNamesExternal = __webpack_require__(3126);
var getOwnPropertySymbolsModule = __webpack_require__(6841);
var getOwnPropertyDescriptorModule = __webpack_require__(5687);
var definePropertyModule = __webpack_require__(6381);
var definePropertiesModule = __webpack_require__(9157);
var propertyIsEnumerableModule = __webpack_require__(6337);
var defineBuiltIn = __webpack_require__(492);
var defineBuiltInAccessor = __webpack_require__(3614);
var shared = __webpack_require__(3557);
var sharedKey = __webpack_require__(651);
var hiddenKeys = __webpack_require__(6145);
var uid = __webpack_require__(7980);
var wellKnownSymbol = __webpack_require__(6615);
var wrappedWellKnownSymbolModule = __webpack_require__(1635);
var defineWellKnownSymbol = __webpack_require__(923);
var defineSymbolToPrimitive = __webpack_require__(3966);
var setToStringTag = __webpack_require__(5051);
var InternalStateModule = __webpack_require__(9257);
var $forEach = (__webpack_require__(2217).forEach);

var HIDDEN = sharedKey('hidden');
var SYMBOL = 'Symbol';
var PROTOTYPE = 'prototype';

var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(SYMBOL);

var ObjectPrototype = Object[PROTOTYPE];
var $Symbol = global.Symbol;
var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
var TypeError = global.TypeError;
var QObject = global.QObject;
var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
var nativeDefineProperty = definePropertyModule.f;
var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
var push = uncurryThis([].push);

var AllSymbols = shared('symbols');
var ObjectPrototypeSymbols = shared('op-symbols');
var WellKnownSymbolsStore = shared('wks');

// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDescriptor = DESCRIPTORS && fails(function () {
  return nativeObjectCreate(nativeDefineProperty({}, 'a', {
    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (O, P, Attributes) {
  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];
  nativeDefineProperty(O, P, Attributes);
  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
  }
} : nativeDefineProperty;

var wrap = function (tag, description) {
  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
  setInternalState(symbol, {
    type: SYMBOL,
    tag: tag,
    description: description
  });
  if (!DESCRIPTORS) symbol.description = description;
  return symbol;
};

var $defineProperty = function defineProperty(O, P, Attributes) {
  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
  anObject(O);
  var key = toPropertyKey(P);
  anObject(Attributes);
  if (hasOwn(AllSymbols, key)) {
    if (!Attributes.enumerable) {
      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
      O[HIDDEN][key] = true;
    } else {
      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
    } return setSymbolDescriptor(O, key, Attributes);
  } return nativeDefineProperty(O, key, Attributes);
};

var $defineProperties = function defineProperties(O, Properties) {
  anObject(O);
  var properties = toIndexedObject(Properties);
  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
  $forEach(keys, function (key) {
    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);
  });
  return O;
};

var $create = function create(O, Properties) {
  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
};

var $propertyIsEnumerable = function propertyIsEnumerable(V) {
  var P = toPropertyKey(V);
  var enumerable = call(nativePropertyIsEnumerable, this, P);
  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;
  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]
    ? enumerable : true;
};

var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
  var it = toIndexedObject(O);
  var key = toPropertyKey(P);
  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;
  var descriptor = nativeGetOwnPropertyDescriptor(it, key);
  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {
    descriptor.enumerable = true;
  }
  return descriptor;
};

var $getOwnPropertyNames = function getOwnPropertyNames(O) {
  var names = nativeGetOwnPropertyNames(toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);
  });
  return result;
};

var $getOwnPropertySymbols = function (O) {
  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {
      push(result, AllSymbols[key]);
    }
  });
  return result;
};

// `Symbol` constructor
// https://tc39.es/ecma262/#sec-symbol-constructor
if (!NATIVE_SYMBOL) {
  $Symbol = function Symbol() {
    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');
    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
    var tag = uid(description);
    var setter = function (value) {
      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);
      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
    };
    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
    return wrap(tag, description);
  };

  SymbolPrototype = $Symbol[PROTOTYPE];

  defineBuiltIn(SymbolPrototype, 'toString', function toString() {
    return getInternalState(this).tag;
  });

  defineBuiltIn($Symbol, 'withoutSetter', function (description) {
    return wrap(uid(description), description);
  });

  propertyIsEnumerableModule.f = $propertyIsEnumerable;
  definePropertyModule.f = $defineProperty;
  definePropertiesModule.f = $defineProperties;
  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;

  wrappedWellKnownSymbolModule.f = function (name) {
    return wrap(wellKnownSymbol(name), name);
  };

  if (DESCRIPTORS) {
    // https://github.com/tc39/proposal-Symbol-description
    defineBuiltInAccessor(SymbolPrototype, 'description', {
      configurable: true,
      get: function description() {
        return getInternalState(this).description;
      }
    });
    if (!IS_PURE) {
      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
  Symbol: $Symbol
});

$forEach(objectKeys(WellKnownSymbolsStore), function (name) {
  defineWellKnownSymbol(name);
});

$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
  useSetter: function () { USE_SETTER = true; },
  useSimple: function () { USE_SETTER = false; }
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  create: $create,
  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  defineProperty: $defineProperty,
  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  defineProperties: $defineProperties,
  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  getOwnPropertyNames: $getOwnPropertyNames
});

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag($Symbol, SYMBOL);

hiddenKeys[HIDDEN] = true;


/***/ }),

/***/ 1555:
/***/ (function() {

// empty


/***/ }),

/***/ 2042:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var getBuiltIn = __webpack_require__(7827);
var hasOwn = __webpack_require__(4373);
var toString = __webpack_require__(7803);
var shared = __webpack_require__(3557);
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(7700);

var StringToSymbolRegistry = shared('string-to-symbol-registry');
var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.for` method
// https://tc39.es/ecma262/#sec-symbol.for
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  'for': function (key) {
    var string = toString(key);
    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
    var symbol = getBuiltIn('Symbol')(string);
    StringToSymbolRegistry[string] = symbol;
    SymbolToStringRegistry[symbol] = string;
    return symbol;
  }
});


/***/ }),

/***/ 101:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.hasInstance` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.hasinstance
defineWellKnownSymbol('hasInstance');


/***/ }),

/***/ 7100:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.isConcatSpreadable` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.isconcatspreadable
defineWellKnownSymbol('isConcatSpreadable');


/***/ }),

/***/ 3391:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.iterator` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.iterator
defineWellKnownSymbol('iterator');


/***/ }),

/***/ 7375:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(3805);
__webpack_require__(2042);
__webpack_require__(8552);
__webpack_require__(1522);
__webpack_require__(65);


/***/ }),

/***/ 8552:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var hasOwn = __webpack_require__(4373);
var isSymbol = __webpack_require__(3969);
var tryToString = __webpack_require__(4003);
var shared = __webpack_require__(3557);
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(7700);

var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.keyFor` method
// https://tc39.es/ecma262/#sec-symbol.keyfor
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');
    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
  }
});


/***/ }),

/***/ 3714:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.matchAll` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.matchall
defineWellKnownSymbol('matchAll');


/***/ }),

/***/ 2712:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.match` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.match
defineWellKnownSymbol('match');


/***/ }),

/***/ 1713:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.replace` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.replace
defineWellKnownSymbol('replace');


/***/ }),

/***/ 9357:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.search` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.search
defineWellKnownSymbol('search');


/***/ }),

/***/ 47:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.species` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.species
defineWellKnownSymbol('species');


/***/ }),

/***/ 7253:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.split` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.split
defineWellKnownSymbol('split');


/***/ }),

/***/ 2136:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);
var defineSymbolToPrimitive = __webpack_require__(3966);

// `Symbol.toPrimitive` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.toprimitive
defineWellKnownSymbol('toPrimitive');

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();


/***/ }),

/***/ 7193:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(7827);
var defineWellKnownSymbol = __webpack_require__(923);
var setToStringTag = __webpack_require__(5051);

// `Symbol.toStringTag` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.tostringtag
defineWellKnownSymbol('toStringTag');

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag(getBuiltIn('Symbol'), 'Symbol');


/***/ }),

/***/ 4850:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.unscopables` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.unscopables
defineWellKnownSymbol('unscopables');


/***/ }),

/***/ 4506:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
__webpack_require__(1095);


/***/ }),

/***/ 4478:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
__webpack_require__(6331);


/***/ }),

/***/ 6531:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
__webpack_require__(3474);


/***/ }),

/***/ 3240:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove from `core-js@4`
var $ = __webpack_require__(1938);
var newPromiseCapabilityModule = __webpack_require__(8959);
var perform = __webpack_require__(1851);

// `Promise.try` method
// https://github.com/tc39/proposal-promise-try
$({ target: 'Promise', stat: true, forced: true }, {
  'try': function (callbackfn) {
    var promiseCapability = newPromiseCapabilityModule.f(this);
    var result = perform(callbackfn);
    (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);
    return promiseCapability.promise;
  }
});


/***/ }),

/***/ 4182:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.asyncDispose` well-known symbol
// https://github.com/tc39/proposal-async-explicit-resource-management
defineWellKnownSymbol('asyncDispose');


/***/ }),

/***/ 639:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.dispose` well-known symbol
// https://github.com/tc39/proposal-explicit-resource-management
defineWellKnownSymbol('dispose');


/***/ }),

/***/ 9125:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var getBuiltIn = __webpack_require__(7827);
var uncurryThis = __webpack_require__(9036);

var Symbol = getBuiltIn('Symbol');
var keyFor = Symbol.keyFor;
var thisSymbolValue = uncurryThis(Symbol.prototype.valueOf);

// `Symbol.isRegistered` method
// https://tc39.es/proposal-symbol-predicates/#sec-symbol-isregistered
$({ target: 'Symbol', stat: true }, {
  isRegistered: function isRegistered(value) {
    try {
      return keyFor(thisSymbolValue(value)) !== undefined;
    } catch (error) {
      return false;
    }
  }
});


/***/ }),

/***/ 6423:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var $ = __webpack_require__(1938);
var shared = __webpack_require__(3557);
var getBuiltIn = __webpack_require__(7827);
var uncurryThis = __webpack_require__(9036);
var isSymbol = __webpack_require__(3969);
var wellKnownSymbol = __webpack_require__(6615);

var Symbol = getBuiltIn('Symbol');
var $isWellKnown = Symbol.isWellKnown;
var getOwnPropertyNames = getBuiltIn('Object', 'getOwnPropertyNames');
var thisSymbolValue = uncurryThis(Symbol.prototype.valueOf);
var WellKnownSymbolsStore = shared('wks');

for (var i = 0, symbolKeys = getOwnPropertyNames(Symbol), symbolKeysLength = symbolKeys.length; i < symbolKeysLength; i++) {
  // some old engines throws on access to some keys like `arguments` or `caller`
  try {
    var symbolKey = symbolKeys[i];
    if (isSymbol(Symbol[symbolKey])) wellKnownSymbol(symbolKey);
  } catch (error) { /* empty */ }
}

// `Symbol.isWellKnown` method
// https://tc39.es/proposal-symbol-predicates/#sec-symbol-iswellknown
// We should patch it for newly added well-known symbols. If it's not required, this module just will not be injected
$({ target: 'Symbol', stat: true, forced: true }, {
  isWellKnown: function isWellKnown(value) {
    if ($isWellKnown && $isWellKnown(value)) return true;
    try {
      var symbol = thisSymbolValue(value);
      for (var j = 0, keys = getOwnPropertyNames(WellKnownSymbolsStore), keysLength = keys.length; j < keysLength; j++) {
        if (WellKnownSymbolsStore[keys[j]] == symbol) return true;
      }
    } catch (error) { /* empty */ }
    return false;
  }
});


/***/ }),

/***/ 3692:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.matcher` well-known symbol
// https://github.com/tc39/proposal-pattern-matching
defineWellKnownSymbol('matcher');


/***/ }),

/***/ 2643:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.metadataKey` well-known symbol
// https://github.com/tc39/proposal-decorator-metadata
defineWellKnownSymbol('metadataKey');


/***/ }),

/***/ 1693:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: Remove from `core-js@4`
var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.metadata` well-known symbol
// https://github.com/tc39/proposal-decorators
defineWellKnownSymbol('metadata');


/***/ }),

/***/ 7269:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.observable` well-known symbol
// https://github.com/tc39/proposal-observable
defineWellKnownSymbol('observable');


/***/ }),

/***/ 3807:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: remove from `core-js@4`
var defineWellKnownSymbol = __webpack_require__(923);

// `Symbol.patternMatch` well-known symbol
// https://github.com/tc39/proposal-pattern-matching
defineWellKnownSymbol('patternMatch');


/***/ }),

/***/ 220:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// TODO: remove from `core-js@4`
var defineWellKnownSymbol = __webpack_require__(923);

defineWellKnownSymbol('replaceAll');


/***/ }),

/***/ 813:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(6396);
var DOMIterables = __webpack_require__(4740);
var global = __webpack_require__(5391);
var classof = __webpack_require__(5663);
var createNonEnumerableProperty = __webpack_require__(8471);
var Iterators = __webpack_require__(1113);
var wellKnownSymbol = __webpack_require__(6615);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

for (var COLLECTION_NAME in DOMIterables) {
  var Collection = global[COLLECTION_NAME];
  var CollectionPrototype = Collection && Collection.prototype;
  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {
    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
  }
  Iterators[COLLECTION_NAME] = Iterators.Array;
}


/***/ }),

/***/ 7481:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7888);

module.exports = parent;


/***/ }),

/***/ 2437:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7864);

module.exports = parent;


/***/ }),

/***/ 8110:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9756);

module.exports = parent;


/***/ }),

/***/ 505:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4652);

module.exports = parent;


/***/ }),

/***/ 3306:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9225);
__webpack_require__(813);

module.exports = parent;


/***/ }),

/***/ 2956:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1275);

module.exports = parent;


/***/ }),

/***/ 4087:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7584);

module.exports = parent;


/***/ }),

/***/ 1261:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7654);

module.exports = parent;


/***/ }),

/***/ 7024:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5775);

module.exports = parent;


/***/ }),

/***/ 4360:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(813);
var classof = __webpack_require__(5663);
var hasOwn = __webpack_require__(4373);
var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(8110);

var ArrayPrototype = Array.prototype;

var DOMIterables = {
  DOMTokenList: true,
  NodeList: true
};

module.exports = function (it) {
  var own = it.forEach;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.forEach)
    || hasOwn(DOMIterables, classof(it)) ? method : own;
};


/***/ }),

/***/ 2566:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2737);

module.exports = parent;


/***/ }),

/***/ 6473:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2342);

module.exports = parent;


/***/ }),

/***/ 9371:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(813);
var classof = __webpack_require__(5663);
var hasOwn = __webpack_require__(4373);
var isPrototypeOf = __webpack_require__(3381);
var method = __webpack_require__(505);

var ArrayPrototype = Array.prototype;

var DOMIterables = {
  DOMTokenList: true,
  NodeList: true
};

module.exports = function (it) {
  var own = it.keys;
  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.keys)
    || hasOwn(DOMIterables, classof(it)) ? method : own;
};


/***/ }),

/***/ 4498:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1691);

module.exports = parent;


/***/ }),

/***/ 2585:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(16);

module.exports = parent;


/***/ }),

/***/ 3627:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5794);

module.exports = parent;


/***/ }),

/***/ 9771:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4516);

module.exports = parent;


/***/ }),

/***/ 1393:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(7806);

module.exports = parent;


/***/ }),

/***/ 7521:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8260);

module.exports = parent;


/***/ }),

/***/ 8485:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1328);

module.exports = parent;


/***/ }),

/***/ 1979:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4824);

module.exports = parent;


/***/ }),

/***/ 5399:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5992);

module.exports = parent;


/***/ }),

/***/ 1487:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8174);

module.exports = parent;


/***/ }),

/***/ 1915:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(744);

module.exports = parent;


/***/ }),

/***/ 7311:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(4090);

module.exports = parent;


/***/ }),

/***/ 110:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8789);
__webpack_require__(813);

module.exports = parent;


/***/ }),

/***/ 5926:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5933);

module.exports = parent;


/***/ }),

/***/ 4519:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2096);

module.exports = parent;


/***/ }),

/***/ 6368:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(8825);

module.exports = parent;


/***/ }),

/***/ 8535:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6696);

module.exports = parent;


/***/ }),

/***/ 1288:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6859);

module.exports = parent;


/***/ }),

/***/ 3959:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9768);

module.exports = parent;


/***/ }),

/***/ 8084:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(3119);

module.exports = parent;


/***/ }),

/***/ 3229:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(5746);

module.exports = parent;


/***/ }),

/***/ 4823:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(3584);

module.exports = parent;


/***/ }),

/***/ 6680:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9388);

module.exports = parent;


/***/ }),

/***/ 9253:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(2650);
__webpack_require__(813);

module.exports = parent;


/***/ }),

/***/ 2408:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(1251);

module.exports = parent;


/***/ }),

/***/ 1208:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6309);
__webpack_require__(813);

module.exports = parent;


/***/ }),

/***/ 4404:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(6075);
__webpack_require__(813);

module.exports = parent;


/***/ }),

/***/ 5879:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var parent = __webpack_require__(9148);

module.exports = parent;


/***/ }),

/***/ 382:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1354);
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "@charset \"UTF-8\";\n.rmp-container {\n  position: relative;\n  text-align: center;\n  outline: none;\n  background: #000000;\n  padding: 0;\n  border: none;\n  display: block;\n  font-size: 14px;\n  max-width: none;\n  max-height: none;\n  overflow: hidden;\n  line-height: 1;\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n}\n.rmp-container * {\n  box-sizing: border-box;\n}\n.rmp-video,\n.rmp-content {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n}\n.rmp-ad-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n.rmp-fullscreen-on {\n  position: fixed !important;\n  width: 100% !important;\n  height: 100% !important;\n  background: #000000 !important;\n  overflow: hidden !important;\n  z-index: 9999 !important;\n  top: 0;\n  left: 0;\n}\n.rmp-vpaid-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n.rmp-ad-vast-video-player {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n  cursor: pointer;\n}\n.rmp-ad-container-icons {\n  position: absolute;\n  display: block;\n  cursor: pointer;\n}\n.rmp-ad-container-skip {\n  position: absolute;\n  right: 0;\n  bottom: 44px;\n  width: 160px;\n  height: 40px;\n  line-height: 38px;\n  text-align: center;\n  cursor: pointer;\n  background-color: #333;\n  border: 1px solid #333;\n  transition-property: border-color;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n}\n.rmp-ad-container-skip:hover {\n  border-color: #000000;\n}\n.rmp-ad-container-skip-waiting {\n  width: 100%;\n  position: absolute;\n  padding: 0 2px;\n  color: #cfcfcf;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rmp-ad-container-skip-message {\n  width: 65%;\n  position: absolute;\n  left: 5%;\n  color: #ffffff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rmp-ad-container-skip-icon {\n  position: absolute;\n  left: 75%;\n  width: 20%;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==\");\n  height: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.7;\n  transition-property: opacity;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n}\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\n  opacity: 1;\n}\n.rmp-ad-non-linear-container {\n  position: absolute;\n  text-align: center;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 0);\n}\n.rmp-ad-non-linear-anchor:link,\n.rmp-ad-non-linear-anchor:visited,\n.rmp-ad-non-linear-anchor:hover,\n.rmp-ad-non-linear-anchor:active {\n  text-decoration: none;\n}\n.rmp-ad-non-linear-creative {\n  position: relative;\n  cursor: pointer;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n}\n.rmp-ad-non-linear-close {\n  right: 0;\n  top: 0;\n  position: absolute;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  background-color: #000000;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC\");\n  background-size: cover;\n  border: 4px solid #000000;\n}\n.rmp-ad-click-ui-mobile {\n  border: 2px solid #ffffff;\n  background: rgba(0, 0, 0, 0.4);\n  color: #ffffff;\n  display: block;\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  font-size: 18px;\n  width: 112px;\n  height: 34px;\n  text-decoration: none;\n  text-align: center;\n  line-height: 30px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.6);\n}\n.rmp-ad-click-ui-mobile:visited,\n.rmp-ad-click-ui-mobile:hover,\n.rmp-ad-click-ui-mobile:active {\n  color: #ffffff;\n  text-decoration: none;\n}\n.rmp-linear-simid-creative {\n  position: absolute;\n  top: 0;\n  border-width: 0;\n  width: 100%;\n  height: 100%;\n}\n", "",{"version":3,"sources":["webpack://./src/less/rmp-vast.less"],"names":[],"mappings":"AAAA,gBAAS;AA0BT;EACE,kBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;EACA,UAAA;EACA,YAAA;EACA,cAAA;EACA,eAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;EACA,sBAAA;EACA,yCAAA;AAxBF;AA2BA;EACE,sBAAA;AAzBF;AA4BA;;EAEE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;EACA,cAAA;AA1BF;AA6BA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;AA3BF;AA8BA;EACE,0BAAA;EACA,sBAAA;EACA,uBAAA;EACA,8BAAA;EACA,2BAAA;EACA,wBAAA;EACA,MAAA;EACA,OAAA;AA5BF;AAgCA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;AA9BF;AAiCA;EACE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;EACA,cAAA;EACA,eAAA;AA/BF;AAkCA;EACE,kBAAA;EACA,cAAA;EACA,eAAA;AAhCF;AAmCA;EACE,kBAAA;EACA,QAAA;EACA,YAAA;EACA,YAAA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EAjHA,iCAAA;EACA,yBAAA;EACA,mCAAA;AAiFF;AAkCA;EACE,qBAAA;AAhCF;AAmCA;EACE,WAAA;EACA,kBAAA;EACA,cAAA;EACA,cAAA;EAvHA,mBAAA;EACA,gBAAA;EACA,uBAAA;AAuFF;AAkCA;EACE,UAAA;EACA,kBAAA;EACA,QAAA;EACA,cAAA;EA/HA,mBAAA;EACA,gBAAA;EACA,uBAAA;AAgGF;AAiCA;EACE,kBAAA;EACA,SAAA;EACA,UAAA;EACA,ugBAAA;EACA,YAAA;EACA,4BAAA;EACA,2BAAA;EACA,YAAA;EAjJA,4BAAA;EACA,yBAAA;EACA,mCAAA;AAmHF;AAgCA;EACE,UAAA;AA9BF;AAiCA;EACE,kBAAA;EACA,kBAAA;EACA,SAAA;EACA,SAAA;EACA,6BAAA;AA/BF;AAkCA;;;;EAIE,qBAAA;AAhCF;AAmCA;EACE,kBAAA;EACA,eAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,SAAA;AAjCF;AAoCA;EACE,QAAA;EACA,MAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,2UAAA;EACA,sBAAA;EACA,yBAAA;AAlCF;AAqCA;EACE,yBAAA;EACA,8BAAA;EACA,cAAA;EACA,cAAA;EACA,kBAAA;EACA,UAAA;EACA,QAAA;EACA,eAAA;EACA,YAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,iBAAA;EACA,sCAAA;AAnCF;AAsCA;;;EAGE,cAAA;EACA,qBAAA;AApCF;AAuCA;EACE,kBAAA;EACA,MAAA;EACA,eAAA;EACA,WAAA;EACA,YAAA;AArCF","sourcesContent":["@charset \"UTF-8\";\n\n// colors\n@black: rgba(0, 0, 0, 1);\n@grey: #333;\n@light-grey: #cfcfcf;\n@white: rgba(255, 255, 255, 1);\n@shadow-1: rgba(0, 0, 0, 0.8);\n@shadow-2: rgba(0, 0, 0, 0.6);\n@shadow-3: rgba(0, 0, 0, 0.5);\n@shadow-4: rgba(0, 0, 0, 0.4);\n\n// mixins\n.transition(@property: background; @duration: 0.4s; @timing: ease-in) {\n  transition-property: @property;\n  transition-duration: @duration;\n  transition-timing-function: @timing;\n}\n\n.text-ellipsis() {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n// shared CSS with RMP\n.rmp-container {\n  position: relative;\n  text-align: center;\n  outline: none;\n  background: @black;\n  padding: 0;\n  border: none;\n  display: block;\n  font-size: 14px;\n  max-width: none;\n  max-height: none;\n  overflow: hidden;\n  line-height: 1;\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.rmp-container * {\n  box-sizing: border-box;\n}\n\n.rmp-video,\n.rmp-content {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n}\n\n.rmp-ad-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n\n.rmp-fullscreen-on {\n  position: fixed !important;\n  width: 100% !important;\n  height: 100% !important;\n  background: @black !important;\n  overflow: hidden !important;\n  z-index: 9999 !important;\n  top: 0;\n  left: 0;\n}\n\n// specific CSS to rmp-vast\n.rmp-vpaid-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n\n.rmp-ad-vast-video-player {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n  cursor: pointer;\n}\n\n.rmp-ad-container-icons {\n  position: absolute;\n  display: block;\n  cursor: pointer;\n}\n\n.rmp-ad-container-skip {\n  position: absolute;\n  right: 0;\n  bottom: 44px;\n  width: 160px;\n  height: 40px;\n  line-height: 38px;\n  text-align: center;\n  cursor: pointer;\n  background-color: @grey;\n  border: 1px solid @grey;\n  .transition(border-color, 0.4s);\n}\n\n.rmp-ad-container-skip:hover {\n  border-color: @black;\n}\n\n.rmp-ad-container-skip-waiting {\n  width: 100%;\n  position: absolute;\n  padding: 0 2px;\n  color: @light-grey;\n  .text-ellipsis();\n}\n\n.rmp-ad-container-skip-message {\n  width: 65%;\n  position: absolute;\n  left: 5%;\n  color: @white;\n  .text-ellipsis();\n}\n\n.rmp-ad-container-skip-icon {\n  position: absolute;\n  left: 75%;\n  width: 20%;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==\");\n  height: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.7;\n  .transition(opacity, 0.4s);\n}\n\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\n  opacity: 1;\n}\n\n.rmp-ad-non-linear-container {\n  position: absolute;\n  text-align: center;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 0);\n}\n\n.rmp-ad-non-linear-anchor:link,\n.rmp-ad-non-linear-anchor:visited,\n.rmp-ad-non-linear-anchor:hover,\n.rmp-ad-non-linear-anchor:active {\n  text-decoration: none;\n}\n\n.rmp-ad-non-linear-creative {\n  position: relative;\n  cursor: pointer;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n}\n\n.rmp-ad-non-linear-close {\n  right: 0;\n  top: 0;\n  position: absolute;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  background-color: @black;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC\");\n  background-size: cover;\n  border: 4px solid @black;\n}\n\n.rmp-ad-click-ui-mobile {\n  border: 2px solid @white;\n  background: @shadow-4;\n  color: @white;\n  display: block;\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  font-size: 18px;\n  width: 112px;\n  height: 34px;\n  text-decoration: none;\n  text-align: center;\n  line-height: 30px;\n  box-shadow: 0 0 2px @shadow-2;\n}\n\n.rmp-ad-click-ui-mobile:visited,\n.rmp-ad-click-ui-mobile:hover,\n.rmp-ad-click-ui-mobile:active {\n  color: @white;\n  text-decoration: none;\n}\n\n.rmp-linear-simid-creative {\n  position: absolute;\n  top: 0;\n  border-width: 0;\n  width: 100%;\n  height: 100%;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ __webpack_exports__.A = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6314:
/***/ (function(module) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ 1354:
/***/ (function(module) {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ 5072:
/***/ (function(module) {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ 7659:
/***/ (function(module) {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ 8159:
/***/ (function(module) {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ 5056:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ 7825:
/***/ (function(module) {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ 3494:
/***/ (function(module) {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ 9763:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(7481);

/***/ }),

/***/ 3774:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(4087);

/***/ }),

/***/ 6319:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(1261);

/***/ }),

/***/ 1426:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(7024);

/***/ }),

/***/ 8628:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(2566);

/***/ }),

/***/ 4007:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(6473);

/***/ }),

/***/ 5413:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(9371);

/***/ }),

/***/ 6712:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(4498);

/***/ }),

/***/ 8079:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(2585);

/***/ }),

/***/ 4929:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(3627);

/***/ }),

/***/ 3363:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(1393);

/***/ }),

/***/ 8979:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(8485);

/***/ }),

/***/ 129:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(1979);

/***/ }),

/***/ 385:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(5399);

/***/ }),

/***/ 165:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(1487);

/***/ }),

/***/ 1265:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(1915);

/***/ }),

/***/ 5569:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(7311);

/***/ }),

/***/ 4707:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(110);

/***/ }),

/***/ 9544:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(5926);

/***/ }),

/***/ 9493:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(8535);

/***/ }),

/***/ 697:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(3959);

/***/ }),

/***/ 7119:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(3229);

/***/ }),

/***/ 3981:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(4823);

/***/ }),

/***/ 6586:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(6680);

/***/ }),

/***/ 1240:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(9253);

/***/ }),

/***/ 2574:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__(2408);

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	!function() {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function() {
"use strict";
var __webpack_exports__ = {};
/* unused harmony exports Headers, Request, Response, DOMException, fetch */
/* eslint-disable no-prototype-builtins */
var g =
  (typeof globalThis !== 'undefined' && globalThis) ||
  (typeof self !== 'undefined' && self) ||
  // eslint-disable-next-line no-undef
  (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g) ||
  {}

var support = {
  searchParams: 'URLSearchParams' in g,
  iterable: 'Symbol' in g && 'iterator' in Symbol,
  blob:
    'FileReader' in g &&
    'Blob' in g &&
    (function() {
      try {
        new Blob()
        return true
      } catch (e) {
        return false
      }
    })(),
  formData: 'FormData' in g,
  arrayBuffer: 'ArrayBuffer' in g
}

function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj)
}

if (support.arrayBuffer) {
  var viewClasses = [
    '[object Int8Array]',
    '[object Uint8Array]',
    '[object Uint8ClampedArray]',
    '[object Int16Array]',
    '[object Uint16Array]',
    '[object Int32Array]',
    '[object Uint32Array]',
    '[object Float32Array]',
    '[object Float64Array]'
  ]

  var isArrayBufferView =
    ArrayBuffer.isView ||
    function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    }
}

function normalizeName(name) {
  if (typeof name !== 'string') {
    name = String(name)
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {
    throw new TypeError('Invalid character in header field name: "' + name + '"')
  }
  return name.toLowerCase()
}

function normalizeValue(value) {
  if (typeof value !== 'string') {
    value = String(value)
  }
  return value
}

// Build a destructive iterator for the value list
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift()
      return {done: value === undefined, value: value}
    }
  }

  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator
    }
  }

  return iterator
}

function Headers(headers) {
  this.map = {}

  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value)
    }, this)
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      if (header.length != 2) {
        throw new TypeError('Headers constructor: expected name/value pair to be length 2, found' + header.length)
      }
      this.append(header[0], header[1])
    }, this)
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name])
    }, this)
  }
}

Headers.prototype.append = function(name, value) {
  name = normalizeName(name)
  value = normalizeValue(value)
  var oldValue = this.map[name]
  this.map[name] = oldValue ? oldValue + ', ' + value : value
}

Headers.prototype['delete'] = function(name) {
  delete this.map[normalizeName(name)]
}

Headers.prototype.get = function(name) {
  name = normalizeName(name)
  return this.has(name) ? this.map[name] : null
}

Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name))
}

Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value)
}

Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this)
    }
  }
}

Headers.prototype.keys = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push(name)
  })
  return iteratorFor(items)
}

Headers.prototype.values = function() {
  var items = []
  this.forEach(function(value) {
    items.push(value)
  })
  return iteratorFor(items)
}

Headers.prototype.entries = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push([name, value])
  })
  return iteratorFor(items)
}

if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries
}

function consumed(body) {
  if (body._noBody) return
  if (body.bodyUsed) {
    return Promise.reject(new TypeError('Already read'))
  }
  body.bodyUsed = true
}

function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result)
    }
    reader.onerror = function() {
      reject(reader.error)
    }
  })
}

function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsArrayBuffer(blob)
  return promise
}

function readBlobAsText(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type)
  var encoding = match ? match[1] : 'utf-8'
  reader.readAsText(blob, encoding)
  return promise
}

function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf)
  var chars = new Array(view.length)

  for (var i = 0; i < view.length; i++) {
    chars[i] = String.fromCharCode(view[i])
  }
  return chars.join('')
}

function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0)
  } else {
    var view = new Uint8Array(buf.byteLength)
    view.set(new Uint8Array(buf))
    return view.buffer
  }
}

function Body() {
  this.bodyUsed = false

  this._initBody = function(body) {
    /*
      fetch-mock wraps the Response object in an ES6 Proxy to
      provide useful test harness features such as flush. However, on
      ES5 browsers without fetch or Proxy support pollyfills must be used;
      the proxy-pollyfill is unable to proxy an attribute unless it exists
      on the object before the Proxy is created. This change ensures
      Response.bodyUsed exists on the instance, while maintaining the
      semantic of setting Request.bodyUsed in the constructor before
      _initBody is called.
    */
    // eslint-disable-next-line no-self-assign
    this.bodyUsed = this.bodyUsed
    this._bodyInit = body
    if (!body) {
      this._noBody = true;
      this._bodyText = ''
    } else if (typeof body === 'string') {
      this._bodyText = body
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString()
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer)
      // IE 10-11 can't handle a DataView body.
      this._bodyInit = new Blob([this._bodyArrayBuffer])
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body)
    } else {
      this._bodyText = body = Object.prototype.toString.call(body)
    }

    if (!this.headers.get('content-type')) {
      if (typeof body === 'string') {
        this.headers.set('content-type', 'text/plain;charset=UTF-8')
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set('content-type', this._bodyBlob.type)
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
      }
    }
  }

  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as blob')
      } else {
        return Promise.resolve(new Blob([this._bodyText]))
      }
    }
  }

  this.arrayBuffer = function() {
    if (this._bodyArrayBuffer) {
      var isConsumed = consumed(this)
      if (isConsumed) {
        return isConsumed
      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
        return Promise.resolve(
          this._bodyArrayBuffer.buffer.slice(
            this._bodyArrayBuffer.byteOffset,
            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
          )
        )
      } else {
        return Promise.resolve(this._bodyArrayBuffer)
      }
    } else if (support.blob) {
      return this.blob().then(readBlobAsArrayBuffer)
    } else {
      throw new Error('could not read as ArrayBuffer')
    }
  }

  this.text = function() {
    var rejected = consumed(this)
    if (rejected) {
      return rejected
    }

    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob)
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
    } else if (this._bodyFormData) {
      throw new Error('could not read FormData body as text')
    } else {
      return Promise.resolve(this._bodyText)
    }
  }

  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode)
    }
  }

  this.json = function() {
    return this.text().then(JSON.parse)
  }

  return this
}

// HTTP methods whose capitalization should be normalized
var methods = ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'TRACE']

function normalizeMethod(method) {
  var upcased = method.toUpperCase()
  return methods.indexOf(upcased) > -1 ? upcased : method
}

function Request(input, options) {
  if (!(this instanceof Request)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')
  }

  options = options || {}
  var body = options.body

  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError('Already read')
    }
    this.url = input.url
    this.credentials = input.credentials
    if (!options.headers) {
      this.headers = new Headers(input.headers)
    }
    this.method = input.method
    this.mode = input.mode
    this.signal = input.signal
    if (!body && input._bodyInit != null) {
      body = input._bodyInit
      input.bodyUsed = true
    }
  } else {
    this.url = String(input)
  }

  this.credentials = options.credentials || this.credentials || 'same-origin'
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers)
  }
  this.method = normalizeMethod(options.method || this.method || 'GET')
  this.mode = options.mode || this.mode || null
  this.signal = options.signal || this.signal || (function () {
    if ('AbortController' in g) {
      var ctrl = new AbortController();
      return ctrl.signal;
    }
  }());
  this.referrer = null

  if ((this.method === 'GET' || this.method === 'HEAD') && body) {
    throw new TypeError('Body not allowed for GET or HEAD requests')
  }
  this._initBody(body)

  if (this.method === 'GET' || this.method === 'HEAD') {
    if (options.cache === 'no-store' || options.cache === 'no-cache') {
      // Search for a '_' parameter in the query string
      var reParamSearch = /([?&])_=[^&]*/
      if (reParamSearch.test(this.url)) {
        // If it already exists then set the value with the current time
        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())
      } else {
        // Otherwise add a new '_' parameter to the end with the current time
        var reQueryString = /\?/
        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()
      }
    }
  }
}

Request.prototype.clone = function() {
  return new Request(this, {body: this._bodyInit})
}

function decode(body) {
  var form = new FormData()
  body
    .trim()
    .split('&')
    .forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
  return form
}

function parseHeaders(rawHeaders) {
  var headers = new Headers()
  // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
  // https://tools.ietf.org/html/rfc7230#section-3.2
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ')
  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill
  // https://github.com/github/fetch/issues/748
  // https://github.com/zloirock/core-js/issues/751
  preProcessedHeaders
    .split('\r')
    .map(function(header) {
      return header.indexOf('\n') === 0 ? header.substr(1, header.length) : header
    })
    .forEach(function(line) {
      var parts = line.split(':')
      var key = parts.shift().trim()
      if (key) {
        var value = parts.join(':').trim()
        try {
          headers.append(key, value)
        } catch (error) {
          console.warn('Response ' + error.message)
        }
      }
    })
  return headers
}

Body.call(Request.prototype)

function Response(bodyInit, options) {
  if (!(this instanceof Response)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')
  }
  if (!options) {
    options = {}
  }

  this.type = 'default'
  this.status = options.status === undefined ? 200 : options.status
  if (this.status < 200 || this.status > 599) {
    throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].")
  }
  this.ok = this.status >= 200 && this.status < 300
  this.statusText = options.statusText === undefined ? '' : '' + options.statusText
  this.headers = new Headers(options.headers)
  this.url = options.url || ''
  this._initBody(bodyInit)
}

Body.call(Response.prototype)

Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  })
}

Response.error = function() {
  var response = new Response(null, {status: 200, statusText: ''})
  response.ok = false
  response.status = 0
  response.type = 'error'
  return response
}

var redirectStatuses = [301, 302, 303, 307, 308]

Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError('Invalid status code')
  }

  return new Response(null, {status: status, headers: {location: url}})
}

var DOMException = g.DOMException
try {
  new DOMException()
} catch (err) {
  DOMException = function(message, name) {
    this.message = message
    this.name = name
    var error = Error(message)
    this.stack = error.stack
  }
  DOMException.prototype = Object.create(Error.prototype)
  DOMException.prototype.constructor = DOMException
}

function fetch(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init)

    if (request.signal && request.signal.aborted) {
      return reject(new DOMException('Aborted', 'AbortError'))
    }

    var xhr = new XMLHttpRequest()

    function abortXhr() {
      xhr.abort()
    }

    xhr.onload = function() {
      var options = {
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || '')
      }
      // This check if specifically for when a user fetches a file locally from the file system
      // Only if the status is out of a normal range
      if (request.url.indexOf('file://') === 0 && (xhr.status < 200 || xhr.status > 599)) {
        options.status = 200;
      } else {
        options.status = xhr.status;
      }
      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')
      var body = 'response' in xhr ? xhr.response : xhr.responseText
      setTimeout(function() {
        resolve(new Response(body, options))
      }, 0)
    }

    xhr.onerror = function() {
      setTimeout(function() {
        reject(new TypeError('Network request failed'))
      }, 0)
    }

    xhr.ontimeout = function() {
      setTimeout(function() {
        reject(new TypeError('Network request timed out'))
      }, 0)
    }

    xhr.onabort = function() {
      setTimeout(function() {
        reject(new DOMException('Aborted', 'AbortError'))
      }, 0)
    }

    function fixUrl(url) {
      try {
        return url === '' && g.location.href ? g.location.href : url
      } catch (e) {
        return url
      }
    }

    xhr.open(request.method, fixUrl(request.url), true)

    if (request.credentials === 'include') {
      xhr.withCredentials = true
    } else if (request.credentials === 'omit') {
      xhr.withCredentials = false
    }

    if ('responseType' in xhr) {
      if (support.blob) {
        xhr.responseType = 'blob'
      } else if (
        support.arrayBuffer
      ) {
        xhr.responseType = 'arraybuffer'
      }
    }

    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers || (g.Headers && init.headers instanceof g.Headers))) {
      var names = [];
      Object.getOwnPropertyNames(init.headers).forEach(function(name) {
        names.push(normalizeName(name))
        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))
      })
      request.headers.forEach(function(value, name) {
        if (names.indexOf(name) === -1) {
          xhr.setRequestHeader(name, value)
        }
      })
    } else {
      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value)
      })
    }

    if (request.signal) {
      request.signal.addEventListener('abort', abortXhr)

      xhr.onreadystatechange = function() {
        // DONE (success or failure)
        if (xhr.readyState === 4) {
          request.signal.removeEventListener('abort', abortXhr)
        }
      }
    }

    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
  })
}

fetch.polyfill = true

if (!g.fetch) {
  g.fetch = fetch
  g.Headers = Headers
  g.Request = Request
  g.Response = Response
}

}();
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function() {
"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ RmpVast; }
});

// EXTERNAL MODULE: ./node_modules/core-js-pure/full/symbol/index.js
var symbol = __webpack_require__(6258);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/symbol/iterator.js
var iterator = __webpack_require__(4770);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/typeof.js


function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof symbol && "symbol" == typeof iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof symbol && o.constructor === symbol && o !== symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/object/define-property.js
var define_property = __webpack_require__(1350);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/object/create.js
var create = __webpack_require__(3461);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/object/get-prototype-of.js
var get_prototype_of = __webpack_require__(1758);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/instance/for-each.js
var for_each = __webpack_require__(3222);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/instance/push.js
var push = __webpack_require__(1997);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/object/set-prototype-of.js
var set_prototype_of = __webpack_require__(6890);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/promise/index.js
var promise = __webpack_require__(6691);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/instance/reverse.js
var reverse = __webpack_require__(8027);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/instance/slice.js
var slice = __webpack_require__(4831);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/regeneratorRuntime.js











function _regeneratorRuntime() {
  "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  _regeneratorRuntime = function _regeneratorRuntime() {
    return e;
  };
  var t,
    e = {},
    r = Object.prototype,
    n = r.hasOwnProperty,
    o = define_property || function (t, e, r) {
      t[e] = r.value;
    },
    i = "function" == typeof symbol ? symbol : {},
    a = i.iterator || "@@iterator",
    c = i.asyncIterator || "@@asyncIterator",
    u = i.toStringTag || "@@toStringTag";
  function define(t, e, r) {
    return define_property(t, e, {
      value: r,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), t[e];
  }
  try {
    define({}, "");
  } catch (t) {
    define = function define(t, e, r) {
      return t[e] = r;
    };
  }
  function wrap(t, e, r, n) {
    var i = e && e.prototype instanceof Generator ? e : Generator,
      a = create(i.prototype),
      c = new Context(n || []);
    return o(a, "_invoke", {
      value: makeInvokeMethod(t, r, c)
    }), a;
  }
  function tryCatch(t, e, r) {
    try {
      return {
        type: "normal",
        arg: t.call(e, r)
      };
    } catch (t) {
      return {
        type: "throw",
        arg: t
      };
    }
  }
  e.wrap = wrap;
  var h = "suspendedStart",
    l = "suspendedYield",
    f = "executing",
    s = "completed",
    y = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var p = {};
  define(p, a, function () {
    return this;
  });
  var d = get_prototype_of,
    v = d && d(d(values([])));
  v && v !== r && n.call(v, a) && (p = v);
  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = create(p);
  function defineIteratorMethods(t) {
    var _context;
    for_each(_context = ["next", "throw", "return"]).call(_context, function (e) {
      define(t, e, function (t) {
        return this._invoke(e, t);
      });
    });
  }
  function AsyncIterator(t, e) {
    function invoke(r, o, i, a) {
      var c = tryCatch(t[r], t, o);
      if ("throw" !== c.type) {
        var u = c.arg,
          h = u.value;
        return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
          invoke("next", t, i, a);
        }, function (t) {
          invoke("throw", t, i, a);
        }) : e.resolve(h).then(function (t) {
          u.value = t, i(u);
        }, function (t) {
          return invoke("throw", t, i, a);
        });
      }
      a(c.arg);
    }
    var r;
    o(this, "_invoke", {
      value: function value(t, n) {
        function callInvokeWithMethodAndArg() {
          return new e(function (e, r) {
            invoke(t, n, e, r);
          });
        }
        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(e, r, n) {
    var o = h;
    return function (i, a) {
      if (o === f) throw Error("Generator is already running");
      if (o === s) {
        if ("throw" === i) throw a;
        return {
          value: t,
          done: !0
        };
      }
      for (n.method = i, n.arg = a;;) {
        var c = n.delegate;
        if (c) {
          var u = maybeInvokeDelegate(c, n);
          if (u) {
            if (u === y) continue;
            return u;
          }
        }
        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
          if (o === h) throw o = s, n.arg;
          n.dispatchException(n.arg);
        } else "return" === n.method && n.abrupt("return", n.arg);
        o = f;
        var p = tryCatch(e, r, n);
        if ("normal" === p.type) {
          if (o = n.done ? s : l, p.arg === y) continue;
          return {
            value: p.arg,
            done: n.done
          };
        }
        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
      }
    };
  }
  function maybeInvokeDelegate(e, r) {
    var n = r.method,
      o = e.iterator[n];
    if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
    var i = tryCatch(o, e.iterator, r.arg);
    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
    var a = i.arg;
    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  }
  function pushTryEntry(t) {
    var _context2;
    var e = {
      tryLoc: t[0]
    };
    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), push(_context2 = this.tryEntries).call(_context2, e);
  }
  function resetTryEntry(t) {
    var e = t.completion || {};
    e.type = "normal", delete e.arg, t.completion = e;
  }
  function Context(t) {
    this.tryEntries = [{
      tryLoc: "root"
    }], for_each(t).call(t, pushTryEntry, this), this.reset(!0);
  }
  function values(e) {
    if (e || "" === e) {
      var r = e[a];
      if (r) return r.call(e);
      if ("function" == typeof e.next) return e;
      if (!isNaN(e.length)) {
        var o = -1,
          i = function next() {
            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
            return next.value = t, next.done = !0, next;
          };
        return i.next = i;
      }
    }
    throw new TypeError(_typeof(e) + " is not iterable");
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), o(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
    var e = "function" == typeof t && t.constructor;
    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  }, e.mark = function (t) {
    return set_prototype_of ? set_prototype_of(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = create(g), t;
  }, e.awrap = function (t) {
    return {
      __await: t
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
    return this;
  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
    void 0 === i && (i = promise);
    var a = new AsyncIterator(wrap(t, r, n, o), i);
    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
      return t.done ? t.value : a.next();
    });
  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
    return this;
  }), define(g, "toString", function () {
    return "[object Generator]";
  }), e.keys = function (t) {
    var e = Object(t),
      r = [];
    for (var n in e) push(r).call(r, n);
    return reverse(r).call(r), function next() {
      for (; r.length;) {
        var t = r.pop();
        if (t in e) return next.value = t, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, e.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(e) {
      var _context3;
      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, for_each(_context3 = this.tryEntries).call(_context3, resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+slice(r).call(r, 1)) && (this[r] = t);
    },
    stop: function stop() {
      this.done = !0;
      var t = this.tryEntries[0].completion;
      if ("throw" === t.type) throw t.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(e) {
      if (this.done) throw e;
      var r = this;
      function handle(n, o) {
        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
      }
      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
        var i = this.tryEntries[o],
          a = i.completion;
        if ("root" === i.tryLoc) return handle("end");
        if (i.tryLoc <= this.prev) {
          var c = n.call(i, "catchLoc"),
            u = n.call(i, "finallyLoc");
          if (c && u) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          } else if (c) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
          } else {
            if (!u) throw Error("try statement without catch or finally");
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(t, e) {
      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
        var o = this.tryEntries[r];
        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
          var i = o;
          break;
        }
      }
      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
      var a = i ? i.completion : {};
      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
    },
    complete: function complete(t, e) {
      if ("throw" === t.type) throw t.arg;
      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
    },
    finish: function finish(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
      }
    },
    "catch": function _catch(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.tryLoc === t) {
          var n = r.completion;
          if ("throw" === n.type) {
            var o = n.arg;
            resetTryEntry(r);
          }
          return o;
        }
      }
      throw Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(e, r, n) {
      return this.delegate = {
        iterator: values(e),
        resultName: r,
        nextLoc: n
      }, "next" === this.method && (this.arg = t), y;
    }
  }, e;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/asyncToGenerator.js

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/classCallCheck.js
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/symbol/to-primitive.js
var to_primitive = __webpack_require__(1677);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/toPrimitive.js


function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[to_primitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/toPropertyKey.js


function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : i + "";
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/createClass.js


function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    define_property(target, toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  define_property(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js
var index_of = __webpack_require__(4007);
var index_of_default = /*#__PURE__*/__webpack_require__.n(index_of);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js
var object_keys = __webpack_require__(697);
var keys_default = /*#__PURE__*/__webpack_require__.n(object_keys);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js
var core_js_stable_promise = __webpack_require__(1240);
var core_js_stable_promise_default = /*#__PURE__*/__webpack_require__.n(core_js_stable_promise);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js
var find = __webpack_require__(1426);
var find_default = /*#__PURE__*/__webpack_require__.n(find);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js
var reduce = __webpack_require__(3363);
var reduce_default = /*#__PURE__*/__webpack_require__.n(reduce);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/parse-float.js
var parse_float = __webpack_require__(3981);
var parse_float_default = /*#__PURE__*/__webpack_require__.n(parse_float);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js
var concat = __webpack_require__(3774);
var concat_default = /*#__PURE__*/__webpack_require__.n(concat);
;// CONCATENATED MODULE: ./src/js/framework/logger.js



var Logger = /*#__PURE__*/function () {
  function Logger() {
    _classCallCheck(this, Logger);
  }
  return _createClass(Logger, null, [{
    key: "printVideoEvents",
    value: function printVideoEvents(video, type) {
      var events = ['loadstart', 'durationchange', 'playing', 'waiting', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough'];
      events.forEach(function (value) {
        video.addEventListener(value, function (e) {
          if (e && e.type) {
            var _context;
            Logger.print('info', concat_default()(_context = "".concat(type, " video player event \"")).call(_context, e.type, "\""));
          }
        });
      });
    }
  }, {
    key: "print",
    value: function print(type, data, dump) {
      var classicLogPattern = /(edge|xbox|msie|trident)/i;
      var consoleStyleRmpVast = 'color: white; background-color: #00ACC1; padding:1px 3px; border-radius: 3px; margin-right: 7px;';
      if (data) {
        if (typeof navigator !== 'undefined' && navigator.userAgent && classicLogPattern.test(navigator.userAgent)) {
          console.log("RMP-VAST: ".concat(data));
        } else {
          switch (type) {
            case 'warning':
              console.warn(data);
              break;
            case 'error':
              console.error(data);
              break;
            default:
              console.log("%crmp-vast%c".concat(data), consoleStyleRmpVast, '');
              break;
          }
        }
      }
      if (dump) {
        console.log(dump);
      }
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/framework/fw.js








var FW = /*#__PURE__*/function () {
  function FW() {
    _classCallCheck(this, FW);
  }
  return _createClass(FW, null, [{
    key: "_getStyleAttributeData",
    value: function _getStyleAttributeData(element, style) {
      var styleAttributeData = 0;
      if (element && typeof window.getComputedStyle === 'function') {
        var cs = window.getComputedStyle(element, null);
        if (cs) {
          styleAttributeData = cs.getPropertyValue(style);
          styleAttributeData = styleAttributeData.toString().toLowerCase();
        }
      }
      styleAttributeData = styleAttributeData.toString();
      if (index_of_default()(styleAttributeData).call(styleAttributeData, 'px') > -1) {
        styleAttributeData = styleAttributeData.replace('px', '');
      }
      return parse_float_default()(styleAttributeData);
    }
  }, {
    key: "createSyntheticEvent",
    value: function createSyntheticEvent(eventName, element) {
      var event;
      if (element) {
        try {
          event = new Event(eventName);
          element.dispatchEvent(event);
        } catch (error) {
          Logger.print('warning', error);
        }
      }
    }
  }, {
    key: "setStyle",
    value: function setStyle(element, styleObject) {
      if (element && _typeof(styleObject) === 'object') {
        var keys = keys_default()(styleObject);
        keys.forEach(function (key) {
          element.style[key] = styleObject[key];
        });
      }
    }
  }, {
    key: "getWidth",
    value: function getWidth(element) {
      if (element) {
        if (FW.isNumber(element.offsetWidth) && element.offsetWidth !== 0) {
          return element.offsetWidth;
        } else {
          return FW._getStyleAttributeData(element, 'width');
        }
      }
      return 0;
    }
  }, {
    key: "getHeight",
    value: function getHeight(element) {
      if (element) {
        if (FW.isNumber(element.offsetHeight) && element.offsetHeight !== 0) {
          return element.offsetHeight;
        } else {
          return FW._getStyleAttributeData(element, 'height');
        }
      }
      return 0;
    }
  }, {
    key: "show",
    value: function show(element) {
      if (element) {
        element.style.display = 'block';
      }
    }
  }, {
    key: "hide",
    value: function hide(element) {
      if (element) {
        element.style.display = 'none';
      }
    }
  }, {
    key: "removeElement",
    value: function removeElement(element) {
      if (element && element.parentNode) {
        try {
          element.parentNode.removeChild(element);
        } catch (error) {
          Logger.print('warning', error);
        }
      }
    }
  }, {
    key: "isNumber",
    value: function isNumber(n) {
      if (typeof n === 'number' && Number.isFinite(n)) {
        return true;
      }
      return false;
    }
  }, {
    key: "openWindow",
    value: function openWindow(link) {
      try {
        // I would like to use named window here to have better performance like 
        // window.open(link, 'rmpVastAdPageArea'); but focus is not set on updated window with such approach
        // in MS Edge and FF - so _blank it is
        window.open(link, '_blank');
      } catch (error) {
        Logger.print('warning', error);
      }
    }
  }, {
    key: "ajax",
    value: function ajax(url, timeout, withCredentials) {
      return new (core_js_stable_promise_default())(function (resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.timeout = timeout;
        if (withCredentials) {
          xhr.withCredentials = true;
        }
        xhr.onloadend = function () {
          if (typeof xhr.status === 'number' && xhr.status >= 200 && xhr.status < 300) {
            resolve('XMLHttpRequest request succeeded');
          } else {
            reject('XMLHttpRequest wrong status code: ' + xhr.status);
          }
        };
        xhr.ontimeout = function () {
          reject('XMLHttpRequest timeout');
        };
        xhr.send(null);
      });
    }
  }, {
    key: "addEvents",
    value: function addEvents(events, domElement, callback) {
      if (events && events.length > 1 && domElement && typeof callback === 'function') {
        events.forEach(function (event) {
          domElement.addEventListener(event, callback);
        });
      }
    }
  }, {
    key: "removeEvents",
    value: function removeEvents(events, domElement, callback) {
      if (events && events.length > 1 && domElement && typeof callback === 'function') {
        events.forEach(function (event) {
          domElement.removeEventListener(event, callback);
        });
      }
    }
  }, {
    key: "clearTimeout",
    value: function clearTimeout(timeoutCallback) {
      if (typeof timeoutCallback === 'number') {
        window.clearTimeout(timeoutCallback);
      }
    }
  }, {
    key: "clearInterval",
    value: function clearInterval(intervalCallback) {
      if (typeof intervalCallback === 'number') {
        window.clearInterval(intervalCallback);
      }
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/parse-int.js
var parse_int = __webpack_require__(6586);
var parse_int_default = /*#__PURE__*/__webpack_require__.n(parse_int);
;// CONCATENATED MODULE: ./src/js/framework/environment.js




var Environment = /*#__PURE__*/function () {
  function Environment() {
    _classCallCheck(this, Environment);
  }
  return _createClass(Environment, null, [{
    key: "_filterVersion",
    value: function _filterVersion(pattern) {
      if (navigator.userAgent) {
        var versionArray = navigator.userAgent.match(pattern);
        if (Array.isArray(versionArray) && typeof versionArray[1] !== 'undefined') {
          return parse_int_default()(versionArray[1], 10);
        }
      }
      return -1;
    }
  }, {
    key: "_testVideo",
    get: function get() {
      return document.createElement('video');
    }
  }, {
    key: "_hasTouchEvents",
    get: function get() {
      if (typeof window.ontouchstart !== 'undefined' || window.DocumentTouch && document instanceof window.DocumentTouch) {
        return true;
      }
      return false;
    }
  }, {
    key: "userAgent",
    get: function get() {
      if (navigator.userAgent) {
        return navigator.userAgent;
      }
      return null;
    }
  }, {
    key: "devicePixelRatio",
    get: function get() {
      var pixelRatio = 1;
      if (FW.isNumber(window.devicePixelRatio) && window.devicePixelRatio > 1) {
        pixelRatio = window.devicePixelRatio;
      }
      return pixelRatio;
    }
  }, {
    key: "maxTouchPoints",
    get: function get() {
      if (typeof navigator.maxTouchPoints === 'number') {
        return navigator.maxTouchPoints;
      }
      return -1;
    }
  }, {
    key: "isIos",
    get: function get() {
      var IOS_PATTERN = /(ipad|iphone|ipod)/i;
      var IOS_VERSION_PATTERN = /os\s+(\d+)_/i;
      var support = [false, -1];
      if (IOS_PATTERN.test(Environment.userAgent) && Environment._hasTouchEvents) {
        support = [true, Environment._filterVersion(IOS_VERSION_PATTERN)];
      }
      return support;
    }
  }, {
    key: "isIpadOS",
    get: function get() {
      var MAC_PLATFORM_PATTERN = /macintel/i;
      if (!Environment.isIos[0] && Environment._hasTouchEvents && MAC_PLATFORM_PATTERN.test(navigator.platform) && Environment.devicePixelRatio > 1 && Environment.maxTouchPoints > 1) {
        return true;
      }
      return false;
    }
  }, {
    key: "isMacOS",
    get: function get() {
      var MACOS_PATTERN = /(macintosh|mac\s+os)/i;
      var MACOS_VERSION_PATTERN = /mac\s+os\s+x\s+(\d+)_(\d+)/i;
      var isMacOS = false;
      var macOSXMinorVersion = -1;
      if (!Environment.isIos[0] && !Environment.isIpadOS && MACOS_PATTERN.test(Environment.userAgent)) {
        isMacOS = true;
        macOSXMinorVersion = Environment._filterVersion(MACOS_VERSION_PATTERN, true);
      }
      return [isMacOS, macOSXMinorVersion];
    }
  }, {
    key: "isSafari",
    get: function get() {
      var SAFARI_PATTERN = /safari\/[.0-9]*/i;
      var SAFARI_VERSION_PATTERN = /version\/(\d+)\./i;
      var NO_SAFARI_PATTERN = /(chrome|chromium|android|crios|fxios)/i;
      var isSafari = false;
      var safariVersion = -1;
      if (SAFARI_PATTERN.test(Environment.userAgent) && !NO_SAFARI_PATTERN.test(Environment.userAgent)) {
        isSafari = true;
        safariVersion = Environment._filterVersion(SAFARI_VERSION_PATTERN);
      }
      return [isSafari, safariVersion];
    }
  }, {
    key: "isMacOSSafari",
    get: function get() {
      return Environment.isMacOS[0] && Environment.isSafari[0];
    }
  }, {
    key: "isAndroid",
    get: function get() {
      var ANDROID_PATTERN = /android/i;
      var ANDROID_VERSION_PATTERN = /android\s*(\d+)\./i;
      var support = [false, -1];
      if (!Environment.isIos[0] && Environment._hasTouchEvents && ANDROID_PATTERN.test(Environment.userAgent)) {
        support = [true, Environment._filterVersion(ANDROID_VERSION_PATTERN)];
      }
      return support;
    }
  }, {
    key: "isMobile",
    get: function get() {
      if (Environment.isIos[0] || Environment.isAndroid[0] || Environment.isIpadOS) {
        return true;
      }
      return false;
    }
  }, {
    key: "hasNativeFullscreenSupport",
    get: function get() {
      var doc = document.documentElement;
      var testVideo = Environment._testVideo;
      if (doc) {
        if (typeof doc.requestFullscreen !== 'undefined' || typeof doc.webkitRequestFullscreen !== 'undefined' || typeof doc.mozRequestFullScreen !== 'undefined' || typeof doc.msRequestFullscreen !== 'undefined' || typeof testVideo.webkitEnterFullscreen !== 'undefined') {
          return true;
        }
      }
      return false;
    }
  }, {
    key: "checkCanPlayType",
    value: function checkCanPlayType(type, codec) {
      var testVideo = Environment._testVideo;
      if (testVideo.canPlayType !== 'undefined') {
        if (type && codec) {
          var canPlayType = testVideo.canPlayType(type + '; codecs="' + codec + '"');
          if (canPlayType !== '') {
            return true;
          }
        } else if (type && !codec) {
          var _canPlayType = testVideo.canPlayType(type);
          if (_canPlayType !== '') {
            return true;
          }
        }
      }
      return false;
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js
var filter = __webpack_require__(6319);
var filter_default = /*#__PURE__*/__webpack_require__.n(filter);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/map.js
var map = __webpack_require__(4707);
var map_default = /*#__PURE__*/__webpack_require__.n(map);
;// CONCATENATED MODULE: ./src/js/framework/utils.js











var Utils = /*#__PURE__*/function () {
  function Utils(rmpVast) {
    _classCallCheck(this, Utils);
    this._rmpVast = rmpVast;
    this._onFullscreenchangeFn = null;
  }

  // attach fullscreen states
  // this assumes we have a polyfill for fullscreenchange event 
  // see app/js/app.js
  // we need this to handle VAST fullscreen events
  return _createClass(Utils, [{
    key: "_onFullscreenchange",
    value: function _onFullscreenchange(event) {
      if (event && event.type) {
        Logger.print('info', "event is ".concat(event.type));
        var isLinear = this._rmpVast.creative.isLinear;
        var isOnStage = this._rmpVast.__adOnStage;
        if (event.type === 'fullscreenchange') {
          if (this._rmpVast.isInFullscreen) {
            this._rmpVast.isInFullscreen = false;
            if (isOnStage && isLinear) {
              this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adexitfullscreen', 'adplayercollapse']);
            }
          } else {
            this._rmpVast.isInFullscreen = true;
            if (isOnStage && isLinear) {
              this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adfullscreen', 'adplayerexpand']);
            }
          }
        } else if (event.type === 'webkitbeginfullscreen') {
          // iOS uses webkitbeginfullscreen
          if (isOnStage && isLinear) {
            this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adfullscreen', 'adplayerexpand']);
          }
          this._rmpVast.isInFullscreen = true;
        } else if (event.type === 'webkitendfullscreen') {
          // iOS uses webkitendfullscreen
          if (isOnStage && isLinear) {
            this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adexitfullscreen', 'adplayercollapse']);
          }
          this._rmpVast.isInFullscreen = false;
        }
      }
    }
  }, {
    key: "_updateVastError",
    value: function _updateVastError(errorCode) {
      var _context;
      // List of VAST errors according to specs
      var vastErrorsList = [{
        code: 201,
        description: 'Video player expecting different linearity.'
      }, {
        code: 204,
        description: 'Ad category was required but not provided.'
      }, {
        code: 205,
        description: 'Inline Category violates Wrapper BlockedAdCategories.'
      }, {
        code: 303,
        description: 'No VAST response after one or more Wrappers.'
      }, {
        code: 400,
        description: 'General Linear error. Video player is unable to display the Linear Ad.'
      }, {
        code: 401,
        description: 'File not found. Unable to find Linear/MediaFile from URI.'
      }, {
        code: 402,
        description: 'Timeout of MediaFile URI.'
      }, {
        code: 403,
        description: 'Couldn\'t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.'
      }, {
        code: 501,
        description: 'Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large).'
      }, {
        code: 502,
        description: 'Unable to fetch NonLinearAds/NonLinear resource.'
      }, {
        code: 503,
        description: 'Couldn\'t find NonLinear resource with supported type.'
      }, {
        code: 603,
        description: 'Unable to fetch CompanionAds/Companion resource.'
      }, {
        code: 900,
        description: 'Undefined Error.'
      }, {
        code: 901,
        description: 'General VPAID error.'
      }, {
        code: 1001,
        description: 'Invalid input for loadAds method'
      }, {
        code: 1002,
        description: 'Required DOMParser API is not available'
      }, {
        code: 1100,
        description: 'SIMID error: UNSPECIFIED_CREATIVE_ERROR'
      }, {
        code: 1101,
        description: 'SIMID error: CANNOT_LOAD_RESOURCE'
      }, {
        code: 1102,
        description: 'SIMID error: PLAYBACK_AREA_UNUSABLE'
      }, {
        code: 1103,
        description: 'SIMID error: INCORRECT_VERSION'
      }, {
        code: 1104,
        description: 'SIMID error: TECHNICAL_ERROR'
      }, {
        code: 1105,
        description: 'SIMID error: EXPAND_NOT_POSSIBLE'
      }, {
        code: 1106,
        description: 'SIMID error: PAUSE_NOT_HONORED'
      }, {
        code: 1107,
        description: 'SIMID error: PLAYMODE_NOT_ADEQUATE'
      }, {
        code: 1108,
        description: 'SIMID error: CREATIVE_INTERNAL_ERROR'
      }, {
        code: 1109,
        description: 'SIMID error: DEVICE_NOT_SUPPORTED'
      }, {
        code: 1110,
        description: 'SIMID error: MESSAGES_NOT_FOLLOWING_SPEC'
      }, {
        code: 1111,
        description: 'SIMID error: PLAYER_RESPONSE_TIMEOUT'
      }, {
        code: 1200,
        description: 'SIMID error: UNSPECIFIED_PLAYER_ERROR'
      }, {
        code: 1201,
        description: 'SIMID error: WRONG_VERSION'
      }, {
        code: 1202,
        description: 'SIMID error: UNSUPPORTED_TIME'
      }, {
        code: 1203,
        description: 'SIMID error: UNSUPPORTED_FUNCTIONALITY_REQUEST'
      }, {
        code: 1204,
        description: 'SIMID error: UNSUPPORTED_ACTIONS'
      }, {
        code: 1205,
        description: 'SIMID error: POSTMESSAGE_CHANNEL_OVERLOADED'
      }, {
        code: 1206,
        description: 'SIMID error: VIDEO_COULD_NOT_LOAD'
      }, {
        code: 1207,
        description: 'SIMID error: VIDEO_TIME_OUT'
      }, {
        code: 1208,
        description: 'SIMID error: RESPONSE_TIMEOUT'
      }, {
        code: 1209,
        description: 'SIMID error: MEDIA_NOT_SUPPORTED'
      }, {
        code: 1210,
        description: 'SIMID error: SPEC_NOT_FOLLOWED_ON_INIT'
      }, {
        code: 1211,
        description: 'SIMID error: SPEC_NOT_FOLLOWED_ON_MESSAGES'
      }];

      // Indicates that the error was encountered after the ad loaded, during ad play. 
      // Possible causes: ad assets could not be loaded, etc.
      var playErrorsList = [201, 204, 205, 400, 401, 402, 403, 501, 502, 503, 603, 901, 1002];

      // Indicates that the error was encountered when the ad was being loaded. 
      // Possible causes: there was no response from the ad server, malformed ad response was returned ...
      // 300, 301, 302, 303, 304 Wrapper errors are managed in ast-client-js
      var loadErrorsList = [303, 900, 1001];
      var error = filter_default()(vastErrorsList).call(vastErrorsList, function (value) {
        return value.code === errorCode;
      });
      if (error.length > 0) {
        this._rmpVast.__vastErrorCode = error[0].code;
        this._rmpVast.__adErrorMessage = error[0].description;
      } else {
        this._rmpVast.__vastErrorCode = -1;
        this._rmpVast.__adErrorMessage = 'Error getting VAST error';
      }
      if (this._rmpVast.__vastErrorCode > -1) {
        if (index_of_default()(loadErrorsList).call(loadErrorsList, this._rmpVast.__vastErrorCode) > -1) {
          this._rmpVast.__adErrorType = 'adLoadError';
        } else if (index_of_default()(playErrorsList).call(playErrorsList, this._rmpVast.__vastErrorCode) > -1) {
          this._rmpVast.__adErrorType = 'adPlayError';
        }
      }
      Logger.print('info', concat_default()(_context = "VAST error code is ".concat(this._rmpVast.__vastErrorCode, " with message: ")).call(_context, this._rmpVast.__adErrorMessage));
      Logger.print('info', "Ad error type is ".concat(this._rmpVast.__adErrorType));
    }
  }, {
    key: "filterParams",
    value: function filterParams(inputParams) {
      var _this = this;
      // default for input parameters
      var defaultParams = {
        ajaxTimeout: 8000,
        creativeLoadTimeout: 8000,
        ajaxWithCredentials: false,
        maxNumRedirects: 4,
        labels: {
          skipMessage: 'Skip ad',
          closeAd: 'Close ad',
          textForInteractionUIOnMobile: 'Learn more'
        },
        outstream: false,
        showControlsForAdPlayer: false,
        vastXmlInput: false,
        enableVpaid: true,
        enableSimid: true,
        vpaidSettings: {
          width: 640,
          height: 360,
          viewMode: 'normal',
          desiredBitrate: 500
        },
        useHlsJS: true,
        debugHlsJS: false,
        // OM SDK params
        omidSupport: false,
        omidAllowedVendors: [],
        omidUnderEvaluation: false,
        omidRunValidationScript: false,
        omidAutoplay: false,
        macros: new (map_default())(),
        partnerName: 'rmp-vast',
        partnerVersion: "15.0.1"
      };
      this._rmpVast.params = defaultParams;
      if (inputParams && _typeof(inputParams) === 'object') {
        var keys = keys_default()(inputParams);
        keys.forEach(function (key) {
          if (_typeof(inputParams[key]) === _typeof(_this._rmpVast.params[key])) {
            if (FW.isNumber(inputParams[key]) && inputParams[key] > 0 || typeof inputParams[key] !== 'number') {
              if (key === 'vpaidSettings') {
                if (FW.isNumber(inputParams.vpaidSettings.width) && inputParams.vpaidSettings.width > 0) {
                  _this._rmpVast.params.vpaidSettings.width = inputParams.vpaidSettings.width;
                }
                if (FW.isNumber(inputParams.vpaidSettings.height) && inputParams.vpaidSettings.height > 0) {
                  _this._rmpVast.params.vpaidSettings.height = inputParams.vpaidSettings.height;
                }
                if (typeof inputParams.vpaidSettings.viewMode === 'string' && inputParams.vpaidSettings.viewMode === 'fullscreen') {
                  _this._rmpVast.params.vpaidSettings.viewMode = inputParams.vpaidSettings.viewMode;
                }
                if (FW.isNumber(inputParams.vpaidSettings.desiredBitrate) && inputParams.vpaidSettings.desiredBitrate > 0) {
                  _this._rmpVast.params.vpaidSettings.desiredBitrate = inputParams.vpaidSettings.desiredBitrate;
                }
              } else {
                _this._rmpVast.params[key] = inputParams[key];
              }
            }
          }
        });
      }
    }
  }, {
    key: "createApiEvent",
    value: function createApiEvent(event) {
      var _this2 = this;
      if (Array.isArray(event)) {
        event.forEach(function (currentEvent) {
          if (currentEvent) {
            Logger.print('info', "API EVENT - ".concat(event));
            _this2._rmpVast.dispatch(currentEvent);
          }
        });
      } else if (event) {
        Logger.print('info', "API EVENT - ".concat(event));
        this._rmpVast.dispatch(event);
      }
    }
  }, {
    key: "playPromise",
    value: function playPromise(whichPlayer, firstPlayerPlayRequest) {
      var _this3 = this;
      var targetPlayer;
      switch (whichPlayer) {
        case 'content':
          targetPlayer = this._rmpVast.currentContentPlayer;
          break;
        case 'vast':
          targetPlayer = this._rmpVast.currentAdPlayer;
          break;
        default:
          break;
      }
      if (targetPlayer) {
        var playPromise = targetPlayer.play();
        // most modern browsers support play as a Promise
        // this lets us handle autoplay rejection 
        // https://developers.google.com/web/updates/2016/03/play-returns-promise
        if (playPromise !== undefined) {
          var isLinear = this._rmpVast.creative.isLinear;
          playPromise.then(function () {
            Logger.print('info', "playPromise on ".concat(whichPlayer, " player has succeeded"));
            if (firstPlayerPlayRequest) {
              _this3.createApiEvent('adinitialplayrequestsucceeded');
            }
          }).catch(function (error) {
            Logger.print('warning', error);
            if (firstPlayerPlayRequest && whichPlayer === 'vast' && isLinear) {
              Logger.print('info', "initial play promise on ad player has been rejected");
              _this3.processVastErrors(400, true);
              _this3.createApiEvent('adinitialplayrequestfailed');
            } else if (firstPlayerPlayRequest && whichPlayer === 'content' && !isLinear) {
              Logger.print('info', "initial play promise on content player has been rejected");
              _this3.createApiEvent('adinitialplayrequestfailed');
            } else {
              Logger.print('info', "playPromise on ".concat(whichPlayer, " player has been rejected"));
            }
          });
        }
      }
    }
  }, {
    key: "makeButtonAccessible",
    value: function makeButtonAccessible(element, ariaLabel) {
      // make skip button accessible
      element.tabIndex = 0;
      element.setAttribute('role', 'button');
      element.addEventListener('keyup', function (event) {
        var code = event.which;
        // 13 = Return, 32 = Space
        if (code === 13 || code === 32) {
          event.stopPropagation();
          event.preventDefault();
          FW.createSyntheticEvent('click', element);
        }
      });
      if (ariaLabel) {
        element.setAttribute('aria-label', ariaLabel);
      }
    }
  }, {
    key: "destroyFullscreen",
    value: function destroyFullscreen() {
      if (this._rmpVast.currentContentPlayer) {
        this._rmpVast.currentContentPlayer.removeEventListener('webkitbeginfullscreen', this._onFullscreenchangeFn);
        this._rmpVast.currentContentPlayer.removeEventListener('webkitendfullscreen', this._onFullscreenchangeFn);
      } else {
        document.removeEventListener('fullscreenchange', this._onFullscreenchangeFn);
      }
    }
  }, {
    key: "handleFullscreen",
    value: function handleFullscreen() {
      // if we have native fullscreen support we handle fullscreen events
      if (Environment.hasNativeFullscreenSupport) {
        this._onFullscreenchangeFn = this._onFullscreenchange.bind(this);
        // for iOS 
        if (Environment.isIos[0]) {
          if (this._rmpVast.currentContentPlayer) {
            this._rmpVast.currentContentPlayer.addEventListener('webkitbeginfullscreen', this._onFullscreenchangeFn);
            this._rmpVast.currentContentPlayer.addEventListener('webkitendfullscreen', this._onFullscreenchangeFn);
          }
        } else {
          document.addEventListener('fullscreenchange', this._onFullscreenchangeFn);
        }
      }
    }
  }, {
    key: "processVastErrors",
    value: function processVastErrors(errorCode, ping) {
      if (ping) {
        this._rmpVast.rmpVastTracking.error(errorCode);
      }
      this._updateVastError(errorCode);
      this.createApiEvent('aderror');
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.resumeContent();
      }
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/core-js-pure/full/array/is-array.js
var is_array = __webpack_require__(4411);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/arrayWithoutHoles.js


function _arrayWithoutHoles(arr) {
  if (is_array(arr)) return _arrayLikeToArray(arr);
}
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/get-iterator-method.js
var get_iterator_method = __webpack_require__(8376);
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/array/from.js
var from = __webpack_require__(8327);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/iterableToArray.js



function _iterableToArray(iter) {
  if (typeof symbol !== "undefined" && get_iterator_method(iter) != null || iter["@@iterator"] != null) return from(iter);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/unsupportedIterableToArray.js



function _unsupportedIterableToArray(o, minLen) {
  var _context;
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = slice(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/nonIterableSpread.js
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/toConsumableArray.js




function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/arrayWithHoles.js

function _arrayWithHoles(arr) {
  if (is_array(arr)) return arr;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/iterableToArrayLimit.js



function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof symbol && get_iterator_method(r) || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (push(a).call(a, e.value), a.length !== l); f = !0);
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/nonIterableRest.js
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js




function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/createForOfIteratorHelper.js




function _createForOfIteratorHelper(o, allowArrayLike) {
  var it = typeof symbol !== "undefined" && get_iterator_method(o) || o["@@iterator"];
  if (!it) {
    if (is_array(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      var F = function F() {};
      return {
        s: F,
        n: function n() {
          if (i >= o.length) return {
            done: true
          };
          return {
            done: false,
            value: o[i++]
          };
        },
        e: function e(_e) {
          throw _e;
        },
        f: F
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var normalCompletion = true,
    didErr = false,
    err;
  return {
    s: function s() {
      it = it.call(o);
    },
    n: function n() {
      var step = it.next();
      normalCompletion = step.done;
      return step;
    },
    e: function e(_e2) {
      didErr = true;
      err = _e2;
    },
    f: function f() {
      try {
        if (!normalCompletion && it["return"] != null) it["return"]();
      } finally {
        if (didErr) throw err;
      }
    }
  };
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js
var instance_map = __webpack_require__(8079);
var instance_map_default = /*#__PURE__*/__webpack_require__.n(instance_map);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js
var instance_slice = __webpack_require__(8979);
var instance_slice_default = /*#__PURE__*/__webpack_require__.n(instance_slice);
;// CONCATENATED MODULE: ./src/js/framework/tracking.js














var Tracking = /*#__PURE__*/function () {
  function Tracking(rmpVast) {
    _classCallCheck(this, Tracking);
    this._rmpVast = rmpVast;
    this.reset();
    this._createTrackingApiEventMap();
  }
  return _createClass(Tracking, [{
    key: "_createTrackingApiEventMap",
    value: function _createTrackingApiEventMap() {
      this._trackingApiEventMap = new (map_default())();
      // ViewableImpression
      this._trackingApiEventMap.set('adviewable', 'viewable');
      this._trackingApiEventMap.set('adviewundetermined', 'viewundetermined');
      // Tracking Event Elements
      this._trackingApiEventMap.set('advolumemuted', 'mute');
      this._trackingApiEventMap.set('advolumeunmuted', 'unmute');
      this._trackingApiEventMap.set('adpaused', 'pause');
      this._trackingApiEventMap.set('adresumed', 'resume');
      this._trackingApiEventMap.set('adskipped', 'skip');
      // VAST 4 events
      this._trackingApiEventMap.set('adplayerexpand', 'playerExpand');
      this._trackingApiEventMap.set('adplayercollapse', 'playerCollapse');
      // VAST 3 events
      this._trackingApiEventMap.set('adfullscreen', 'fullscreen');
      this._trackingApiEventMap.set('adexitfullscreen', 'exitFullscreen');
      // Linear Ad Metrics
      this._trackingApiEventMap.set('adloaded', 'loaded');
      this._trackingApiEventMap.set('adstarted', 'start');
      this._trackingApiEventMap.set('adfirstquartile', 'firstQuartile');
      this._trackingApiEventMap.set('admidpoint', 'midpoint');
      this._trackingApiEventMap.set('adthirdquartile', 'thirdQuartile');
      this._trackingApiEventMap.set('adcomplete', 'complete');
      // tracking progress event happens in _onTimeupdate
      // InLine > Impression
      this._trackingApiEventMap.set('adimpression', 'impression');

      // creativeView for companion ads happens in getCompanionAd (index.js)
      // creativeView tracking needs to happen for linear creative as well (support for VAST 3)
      this._trackingApiEventMap.set('adcreativeview', 'creativeView');

      // for non-linear and VPAID only
      this._trackingApiEventMap.set('adcollapse', 'adCollapse');

      // only support for VPAID - PR welcome for non-linear
      this._trackingApiEventMap.set('aduseracceptinvitation', 'acceptInvitation');
      this._trackingApiEventMap.set('adclosed', 'close');
      // VideoClicks > ClickThrough
      this._trackingApiEventMap.set('adclick', 'clickthrough');

      // Need to investigate overlayViewDuration (non-linear) - interactiveStart (SIMID) further
    }
  }, {
    key: "_dispatch",
    value: function _dispatch(event) {
      var _context,
        _this = this;
      Logger.print('info', "ping tracking for ".concat(event, " VAST event"));
      // filter trackers - may return multiple urls for same event as allowed by VAST spec
      var trackers = filter_default()(_context = this._rmpVast.trackingTags).call(_context, function (value) {
        return event === value.event;
      });
      // send ping for each valid tracker
      if (trackers.length > 0) {
        trackers.forEach(function (element) {
          _this.pingURI(element.url);
        });
      }
    }
  }, {
    key: "_vastReadableTime",
    value: function _vastReadableTime(time) {
      if (FW.isNumber(time) && time >= 0) {
        var seconds = 0;
        var minutes = 0;
        var hours = 0;
        var ms = Math.floor(time % 1000);
        if (ms === 0) {
          ms = '000';
        } else if (ms < 10) {
          ms = '00' + ms;
        } else if (ms < 100) {
          ms = '0' + ms;
        } else {
          ms = ms.toString();
        }
        seconds = Math.floor(time * 1.0 / 1000);
        if (seconds > 59) {
          minutes = Math.floor(seconds * 1.0 / 60);
          seconds = seconds - minutes * 60;
        }
        if (seconds === 0) {
          seconds = '00';
        } else if (seconds < 10) {
          seconds = '0' + seconds;
        } else {
          seconds = seconds.toString();
        }
        if (minutes > 59) {
          hours = Math.floor(minutes * 1.0 / 60);
          minutes = minutes - hours * 60;
        }
        if (minutes === 0) {
          minutes = '00';
        } else if (minutes < 10) {
          minutes = '0' + minutes;
        } else {
          minutes = minutes.toString();
        }
        if (hours === 0) {
          hours = '00';
        } else if (hours < 10) {
          hours = '0' + hours;
        } else {
          if (hours > 23) {
            hours = '00';
          } else {
            hours = hours.toString();
          }
        }
        return hours + ':' + minutes + ':' + seconds + '.' + ms;
      } else {
        return '00:00:00.000';
      }
    }
  }, {
    key: "_generateCacheBusting",
    value: function _generateCacheBusting() {
      var text = '';
      var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      for (var i = 0; i < 8; i++) {
        text += possible.charAt(Math.floor(Math.random() * possible.length));
      }
      return text;
    }
  }, {
    key: "_ping",
    value: function _ping(url) {
      // we expect an image format for the tracker (generally a 1px GIF/PNG/JPG/AVIF) or JavaScript as 
      // those are the most common format in the industry 
      // other format may produce errors and the related tracker may not be requested properly
      var jsPattern = /\.js$/i;
      if (jsPattern.test(url)) {
        var script = document.createElement('script');
        script.src = url;
        try {
          document.head.appendChild(script);
        } catch (error) {
          Logger.print('warning', error);
          document.body.appendChild(script);
        }
      } else {
        FW.ajax(url, this._rmpVast.params.ajaxTimeout, false, 'GET').then(function () {
          Logger.print('info', "VAST tracker successfully loaded ".concat(url));
        }).catch(function (error) {
          var _context2;
          Logger.print('warning', concat_default()(_context2 = "VAST tracker failed loading ".concat(url, " with error ")).call(_context2, error));
        });
      }
    }
  }, {
    key: "_onVolumeChange",
    value: function _onVolumeChange() {
      if (this._rmpVast.currentAdPlayer) {
        var muted = this._rmpVast.currentAdPlayer.muted;
        var volume = this._rmpVast.currentAdPlayer.volume;
        if (muted || volume === 0) {
          this.dispatchTrackingAndApiEvent('advolumemuted');
        } else if (!muted && volume > 0) {
          this.dispatchTrackingAndApiEvent('advolumeunmuted');
        }
        this._rmpVast.rmpVastUtils.createApiEvent('advolumechanged');
      }
    }
  }, {
    key: "_onTimeupdate",
    value: function _onTimeupdate() {
      var _this2 = this;
      var adPlayerDuration = -1;
      var adPlayerCurrentTime = -1;
      if (this._rmpVast.rmpVastAdPlayer) {
        adPlayerCurrentTime = this._rmpVast.rmpVastAdPlayer.currentTime;
        adPlayerDuration = this._rmpVast.rmpVastAdPlayer.duration;
      }
      if (adPlayerCurrentTime > 0) {
        if (adPlayerDuration > 0 && adPlayerDuration > adPlayerCurrentTime) {
          if (adPlayerCurrentTime >= adPlayerDuration * 0.25 && !this._firstQuartileEventFired) {
            this._firstQuartileEventFired = true;
            this.dispatchTrackingAndApiEvent('adfirstquartile');
          } else if (adPlayerCurrentTime >= adPlayerDuration * 0.5 && !this._midpointEventFired) {
            this._midpointEventFired = true;
            this.dispatchTrackingAndApiEvent('admidpoint');
          } else if (adPlayerCurrentTime >= adPlayerDuration * 0.75 && !this._thirdQuartileEventFired) {
            this._thirdQuartileEventFired = true;
            this.dispatchTrackingAndApiEvent('adthirdquartile');
          }
        }
        // progress event
        if (this._rmpVast.progressEvents.length > 0) {
          if (adPlayerCurrentTime > this._rmpVast.progressEvents[0].time) {
            var _context3;
            var filterProgressEvent = filter_default()(_context3 = this._rmpVast.progressEvents).call(_context3, function (progressEvent) {
              return progressEvent.time === _this2._rmpVast.progressEvents[0].time;
            });
            filterProgressEvent.forEach(function (progressEvent) {
              if (progressEvent.url) {
                _this2.pingURI(progressEvent.url);
              }
            });
            this._rmpVast.progressEvents.shift();
            this._rmpVast.rmpVastUtils.createApiEvent('adprogress');
          }
        }
      }
    }
  }, {
    key: "_onPause",
    value: function _onPause() {
      if (this._rmpVast.currentAdPlayer && this._rmpVast.currentAdPlayer.paused) {
        var currentTime = this._rmpVast.currentAdPlayer.currentTime;
        var currentDuration = this._rmpVast.currentAdPlayer.duration;
        // we have reached end of linear creative - a HTML5 video pause event may fire just before ended event
        // in this case we ignore the adpaused event as adcomplete prevails
        if (currentTime === currentDuration) {
          return;
        }
        this.dispatchTrackingAndApiEvent('adpaused');
      }
    }
  }, {
    key: "_onPlay",
    value: function _onPlay() {
      if (this._rmpVast.currentAdPlayer && !this._rmpVast.currentAdPlayer.paused) {
        this.dispatchTrackingAndApiEvent('adresumed');
      }
    }
  }, {
    key: "_onPlaying",
    value: function _onPlaying() {
      this.dispatchTrackingAndApiEvent(['adimpression', 'adcreativeview', 'adstarted']);
    }
  }, {
    key: "_onEnded",
    value: function _onEnded() {
      this.dispatchTrackingAndApiEvent('adcomplete');
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.resumeContent();
      }
    }
  }, {
    key: "_dispatchTracking",
    value: function _dispatchTracking(event) {
      var _this3 = this;
      if (Array.isArray(event)) {
        event.forEach(function (currentEvent) {
          _this3._dispatch(currentEvent);
        });
      } else {
        this._dispatch(event);
      }
    }
  }, {
    key: "replaceMacros",
    value: function replaceMacros(url, trackingPixels) {
      var _this4 = this;
      var pattern0 = /\[.+?\]/i;
      if (!pattern0.test(url)) {
        return url;
      }
      var finalString = url;

      // Macros that need to be set explicitly
      // CONTENTCAT GPPSECTIONID GPPSTRING PLAYBACKMETHODS STOREID STOREURL BREAKMAXADLENGTH BREAKMAXADS BREAKMAXDURATION
      // BREAKMINADLENGTH  PLACEMENTTYPE TRANSACTIONID CLIENTUA DEVICEIP IFA IFATYPE LATLONG SERVERUA APPBUNDLE
      // EXTENSIONS OMIDPARTNER VERIFICATIONVENDORS CONTENTID CONTENTURI INVENTORYSTATE
      if (this._rmpVast.params.macros.size > 0) {
        var _iterator = _createForOfIteratorHelper(this._rmpVast.params.macros),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var _step$value = _slicedToArray(_step.value, 2),
              key = _step$value[0],
              value = _step$value[1];
            var pattern = '\\[' + key + '\\]';
            var regex = new RegExp(pattern, 'gi');
            if (regex.test(finalString)) {
              finalString = finalString.replace(regex, value.toString());
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }

      // Value is known, but information can't be shared because of policy (unwilling to share)
      var patternUNWILLING = /\[CLICKPOS\]/gi;
      if (patternUNWILLING.test(finalString)) {
        finalString = finalString.replace(patternUNWILLING, '-2');
      }

      // available macros

      var patternADCOUNT = /\[ADCOUNT\]/gi;
      if (patternADCOUNT.test(finalString)) {
        var adCount = 1;
        if (this._rmpVast.adPodLength > 0) {
          adCount = this._rmpVast.adSequence;
        }
        finalString = finalString.replace(patternADCOUNT, adCount.toString());
      }
      var patternSERVERSIDE = /\[SERVERSIDE\]/gi;
      if (patternSERVERSIDE.test(finalString)) {
        finalString = finalString.replace(patternADCOUNT, '0');
      }
      var pattern1 = /\[TIMESTAMP\]/gi;
      var date = new Date().toISOString();
      if (pattern1.test(finalString)) {
        finalString = finalString.replace(pattern1, encodeURIComponent(date));
      }
      var pattern2 = /\[CACHEBUSTING\]/gi;
      if (pattern2.test(finalString)) {
        finalString = finalString.replace(pattern2, this._generateCacheBusting());
      }
      var pattern3 = /\[(CONTENTPLAYHEAD|MEDIAPLAYHEAD)\]/gi;
      var currentContentTime = this._rmpVast.rmpVastContentPlayer.currentTime;
      if (pattern3.test(finalString) && currentContentTime > -1) {
        finalString = finalString.replace(pattern3, encodeURIComponent(this._vastReadableTime(currentContentTime)));
      }
      var pattern5 = /\[BREAKPOSITION\]/gi;
      var adPlayerDuration = -1;
      if (this._rmpVast.rmpVastAdPlayer) {
        adPlayerDuration = this._rmpVast.rmpVastAdPlayer.duration;
      }
      if (pattern5.test(finalString)) {
        if (currentContentTime === 0) {
          finalString = finalString.replace(pattern5, '1');
        } else if (currentContentTime > 0 && currentContentTime < adPlayerDuration) {
          finalString = finalString.replace(pattern5, '2');
        } else {
          finalString = finalString.replace(pattern5, '3');
        }
      }
      var pattern9 = /\[ADTYPE\]/gi;
      if (pattern9.test(finalString) && this._rmpVast.ad.adType) {
        finalString = finalString.replace(pattern9, encodeURIComponent(this._rmpVast.ad.adType));
      }
      var pattern11 = /\[DEVICEUA\]/gi;
      if (pattern11.test(finalString) && Environment.userAgent) {
        finalString = finalString.replace(pattern11, encodeURIComponent(Environment.userAgent));
      }
      var pattern11bis = /\[SERVERSIDE\]/gi;
      if (pattern11bis.test(finalString) && Environment.userAgent) {
        finalString = finalString.replace(pattern11bis, '0');
      }
      var pattern13 = /\[DOMAIN\]/gi;
      if (pattern13.test(finalString) && window.location.hostname) {
        finalString = finalString.replace(pattern13, encodeURIComponent(window.location.hostname));
      }
      var pattern14 = /\[PAGEURL\]/gi;
      if (pattern14.test(finalString) && window.location.href) {
        finalString = finalString.replace(pattern14, encodeURIComponent(window.location.href));
      }
      var pattern18 = /\[PLAYERCAPABILITIES\]/gi;
      if (pattern18.test(finalString)) {
        finalString = finalString.replace(pattern18, 'skip,mute,autoplay,mautoplay,fullscreen,icon');
      }
      var pattern19 = /\[CLICKTYPE\]/gi;
      if (pattern19.test(finalString)) {
        var clickType = '1';
        if (Environment.isMobile) {
          clickType = '2';
        }
        finalString = finalString.replace(pattern19, clickType);
      }
      var pattern21 = /\[PLAYERSIZE\]/gi;
      if (pattern21.test(finalString)) {
        var width = parse_int_default()(FW.getWidth(this._rmpVast.container));
        var height = parse_int_default()(FW.getHeight(this._rmpVast.container));
        finalString = finalString.replace(pattern21, encodeURIComponent(width.toString() + ',' + height.toString()));
      }
      if (trackingPixels) {
        var pattern4 = /\[ADPLAYHEAD\]/gi;
        var adPlayerCurrentTime = -1;
        if (this._rmpVast.rmpVastAdPlayer) {
          adPlayerCurrentTime = this._rmpVast.rmpVastAdPlayer.currentTime;
        }
        if (pattern4.test(finalString) && adPlayerCurrentTime > -1) {
          finalString = finalString.replace(pattern4, encodeURIComponent(this._vastReadableTime(adPlayerCurrentTime)));
        }
        var pattern10 = /\[UNIVERSALADID\]/gi;
        if (pattern10.test(finalString) && this._rmpVast.creative.universalAdIds.length > 0) {
          var universalAdIdString = '';
          this._rmpVast.creative.universalAdIds.forEach(function (universalAdId, index) {
            if (index !== 0 || index !== _this4._rmpVast.creative.universalAdIds.length - 1) {
              universalAdIdString += ',';
            }
            universalAdIdString += universalAdId.idRegistry + ' ' + universalAdId.value;
          });
          finalString = finalString.replace(pattern10, encodeURIComponent(universalAdIdString));
        }
        var pattern22 = /\[ASSETURI\]/gi;
        var assetUri = this._rmpVast.adMediaUrl;
        if (pattern22.test(finalString) && typeof assetUri === 'string' && assetUri !== '') {
          finalString = finalString.replace(pattern22, encodeURIComponent(assetUri));
        }
        var pattern23 = /\[PODSEQUENCE\]/gi;
        if (pattern23.test(finalString) && this._rmpVast.ad.sequence) {
          finalString = finalString.replace(pattern23, encodeURIComponent(this._rmpVast.ad.sequence.toString()));
        }
        var pattern24 = /\[ADSERVINGID\]/gi;
        if (pattern24.test(finalString) && this._rmpVast.ad.adServingId) {
          finalString = finalString.replace(pattern24, encodeURIComponent(this._rmpVast.ad.adServingId));
        }
      } else {
        var pattern6 = /\[ADCATEGORIES\]/gi;
        if (pattern6.test(finalString) && this._rmpVast.ad.categories.length > 0) {
          var _context4;
          var categories = instance_map_default()(_context4 = this._rmpVast.ad.categories).call(_context4, function (categorie) {
            return categorie.value;
          }).join(',');
          finalString = finalString.replace(pattern6, encodeURIComponent(categories));
        }
        var pattern7 = /\[BLOCKEDADCATEGORIES\]/gi;
        if (pattern7.test(finalString) && this._rmpVast.ad.blockedAdCategories.length > 0) {
          var _context5;
          var blockedAdCategories = instance_map_default()(_context5 = this._rmpVast.ad.blockedAdCategories).call(_context5, function (blockedAdCategories) {
            return blockedAdCategories.value;
          }).join(',');
          finalString = finalString.replace(pattern7, encodeURIComponent(blockedAdCategories));
        }
        var pattern15 = /\[VASTVERSIONS\]/gi;
        if (pattern15.test(finalString)) {
          finalString = finalString.replace(pattern15, '2,3,5,6,7,8,11,12,13,14');
        }
        var pattern16 = /\[APIFRAMEWORKS\]/gi;
        if (pattern16.test(finalString)) {
          finalString = finalString.replace(pattern16, '2,7,8,9');
        }
        var pattern17 = /\[MEDIAMIME\]/gi;
        var mediaMime = ['video/webm', 'video/mp4', 'video/ogg', 'video/3gpp', 'application/vnd.apple.mpegurl', 'application/dash+xml'];
        if (pattern17.test(finalString)) {
          var mimeTyepString = '';
          mediaMime.forEach(function (value) {
            if (value === 'application/vnd.apple.mpegurl') {
              if (Environment.checkCanPlayType(value) || _this4._rmpVast.rmpVastLinearCreative.readingHlsJS) {
                mimeTyepString += value + ',';
              }
            } else if (Environment.checkCanPlayType(value)) {
              mimeTyepString += value + ',';
            }
          });
          if (mimeTyepString) {
            mimeTyepString = instance_slice_default()(mimeTyepString).call(mimeTyepString, 0, -1);
            finalString = finalString.replace(pattern17, encodeURIComponent(mimeTyepString));
          }
        }
        var pattern20 = /\[PLAYERSTATE\]/gi;
        if (pattern20.test(finalString)) {
          var playerState = '';
          if (this._rmpVast.rmpVastContentPlayer.muted) {
            playerState += 'muted';
          }
          if (this._rmpVast.isInFullscreen) {
            if (playerState) {
              playerState += ',';
            }
            playerState += 'fullscreen';
          }
          finalString = finalString.replace(pattern20, playerState);
        }
      }
      var pattern25 = /\[LIMITADTRACKING\]/gi;
      var regulationsInfo = this._rmpVast.regulationsInfo;
      if (pattern25.test(finalString) && regulationsInfo.limitAdTracking) {
        finalString = finalString.replace(pattern25, encodeURIComponent(regulationsInfo.limitAdTracking));
      }
      var pattern26 = /\[REGULATIONS\]/gi;
      if (pattern26.test(finalString) && regulationsInfo.regulations) {
        finalString = finalString.replace(pattern26, encodeURIComponent(regulationsInfo.regulations));
      }
      var pattern27 = /\[GDPRCONSENT\]/gi;
      if (pattern27.test(finalString) && regulationsInfo.gdprConsent) {
        finalString = finalString.replace(pattern27, encodeURIComponent(regulationsInfo.gdprConsent));
      }
      return finalString;
    }
  }, {
    key: "pingURI",
    value: function pingURI(url) {
      var trackingUrl = this.replaceMacros(url, true);
      this._ping(trackingUrl);
    }
  }, {
    key: "error",
    value: function error(errorCode) {
      var _this5 = this;
      // for each Error tag within an InLine or chain of Wrapper ping error URL
      var errorTags = this._rmpVast.adErrorTags;
      if (errorCode === 303 && this._rmpVast.vastErrorTags.length > 0) {
        var _context6;
        // here we ping vastErrorTags with error code 303 according to spec
        // concat array thus
        errorTags = concat_default()(_context6 = []).call(_context6, _toConsumableArray(errorTags), _toConsumableArray(this._rmpVast.vastErrorTags));
      }
      if (errorTags.length > 0) {
        errorTags.forEach(function (errorTag) {
          if (errorTag.url) {
            var errorUrl = errorTag.url;
            var errorRegExp = /\[ERRORCODE\]/gi;
            if (errorRegExp.test(errorUrl) && FW.isNumber(errorCode) && errorCode > 0 && errorCode < 1000) {
              errorUrl = errorUrl.replace(errorRegExp, errorCode);
            }
            _this5._ping(errorUrl);
          }
        });
      }
    }
  }, {
    key: "reset",
    value: function reset() {
      this._onPauseFn = null;
      this._onPlayFn = null;
      this._onPlayingFn = null;
      this._onEndedFn = null;
      this._onVolumeChangeFn = null;
      this._onTimeupdateFn = null;
      this._firstQuartileEventFired = false;
      this._midpointEventFired = false;
      this._thirdQuartileEventFired = false;
    }
  }, {
    key: "dispatchTrackingAndApiEvent",
    value: function dispatchTrackingAndApiEvent(apiEvent) {
      var _this6 = this;
      if (Array.isArray(apiEvent)) {
        apiEvent.forEach(function (currentApiEvent) {
          _this6._rmpVast.rmpVastUtils.createApiEvent(currentApiEvent);
          _this6._dispatchTracking(_this6._trackingApiEventMap.get(currentApiEvent));
        });
      } else {
        this._rmpVast.rmpVastUtils.createApiEvent(apiEvent);
        this._dispatchTracking(this._trackingApiEventMap.get(apiEvent));
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._rmpVast.currentAdPlayer) {
        this._rmpVast.currentAdPlayer.removeEventListener('pause', this._onPauseFn);
        this._rmpVast.currentAdPlayer.removeEventListener('play', this._onPlayFn);
        this._rmpVast.currentAdPlayer.removeEventListener('playing', this._onPlayingFn);
        this._rmpVast.currentAdPlayer.removeEventListener('ended', this._onEndedFn);
        this._rmpVast.currentAdPlayer.removeEventListener('volumechange', this._onVolumeChangeFn);
        this._rmpVast.currentAdPlayer.removeEventListener('timeupdate', this._onTimeupdateFn);
      }
    }
  }, {
    key: "wire",
    value: function wire() {
      // we filter through all HTML5 video events and create new VAST events 
      if (this._rmpVast.currentAdPlayer && this._rmpVast.creative.isLinear && !this._rmpVast.rmpVastVpaidPlayer) {
        this._onPauseFn = this._onPause.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('pause', this._onPauseFn);
        this._onPlayFn = this._onPlay.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('play', this._onPlayFn);
        this._onPlayingFn = this._onPlaying.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('playing', this._onPlayingFn, {
          once: true
        });
        this._onEndedFn = this._onEnded.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('ended', this._onEndedFn, {
          once: true
        });
        this._onVolumeChangeFn = this._onVolumeChange.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('volumechange', this._onVolumeChangeFn);
        this._onTimeupdateFn = this._onTimeupdate.bind(this);
        this._rmpVast.currentAdPlayer.addEventListener('timeupdate', this._onTimeupdateFn);
      }
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/sort.js
var sort = __webpack_require__(129);
var sort_default = /*#__PURE__*/__webpack_require__.n(sort);
;// CONCATENATED MODULE: ./src/js/creatives/icons.js





var Icons = /*#__PURE__*/function () {
  function Icons(rmpVast) {
    _classCallCheck(this, Icons);
    this._rmpVast = rmpVast;
    this._adContainer = rmpVast.adContainer;
    this._adPlayer = rmpVast.currentAdPlayer;
    this._onPlayingAppendIconsFn = null;
    this._iconsData = [];
  }
  return _createClass(Icons, [{
    key: "iconsData",
    get: function get() {
      return this._iconsData;
    }
  }, {
    key: "_onIconClickThrough",
    value: function _onIconClickThrough(index, event) {
      var _this = this;
      if (event) {
        event.stopPropagation();
        if (event.type === 'touchend') {
          event.preventDefault();
        }
      }
      FW.openWindow(this._iconsData[index].iconClickThroughUrl);
      // send trackers if any for IconClickTracking
      var iconClickTrackingUrls = this._iconsData[index].iconClickTrackingUrls;
      if (iconClickTrackingUrls.length > 0) {
        iconClickTrackingUrls.forEach(function (tracking) {
          if (tracking.url) {
            _this._rmpVast.rmpVastTracking.pingURI(tracking.url);
          }
        });
      }
      this._rmpVast.rmpVastUtils.createApiEvent('adiconclick');
    }
  }, {
    key: "_onIconLoadPingTracking",
    value: function _onIconLoadPingTracking(index) {
      Logger.print('info', "IconViewTracking for icon at index ".concat(index));
      this._rmpVast.rmpVastTracking.pingURI(this._iconsData[index].iconViewTrackingUrl);
    }
  }, {
    key: "_onPlayingAppendIcons",
    value: function _onPlayingAppendIcons() {
      var _this2 = this;
      Logger.print('info', "playing states has been reached - append icons");
      this._iconsData.forEach(function (iconData, index) {
        var icon;
        var src;
        if (iconData.staticResourceUrl) {
          icon = document.createElement('img');
          src = iconData.staticResourceUrl;
        } else if (iconData.iframeResourceUrl || iconData.htmlContent) {
          icon = document.createElement('iframe');
          icon.sandbox = 'allow-scripts allow-same-origin';
          if (iconData.htmlContent) {
            src = iconData.htmlContent;
          } else {
            src = iconData.iframeResourceUrl;
          }
          FW.setStyle(icon, {
            border: 'none',
            overflow: 'hidden'
          });
          icon.setAttribute('scrolling', 'no');
          icon.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture; encrypted-media');
          icon.setAttribute('sandbox', 'allow-scripts allow-presentation allow-same-origin');
        }
        icon.className = 'rmp-ad-container-icons';
        FW.setStyle(icon, {
          width: parse_int_default()(iconData.width) + 'px',
          height: parse_int_default()(iconData.height) + 'px'
        });
        var xPosition = iconData.xPosition;
        if (xPosition === 'left') {
          icon.style.left = '0px';
        } else if (xPosition === 'right') {
          icon.style.right = '0px';
        } else if (parse_int_default()(xPosition) >= 0) {
          icon.style.left = xPosition + 'px';
        } else {
          icon.style.left = '0px';
        }
        var yPosition = iconData.yPosition;
        if (yPosition === 'top') {
          icon.style.top = '0px';
        } else if (xPosition === 'bottom') {
          icon.style.bottom = '0px';
        } else if (parse_int_default()(yPosition) >= 0) {
          icon.style.top = yPosition + 'px';
        } else {
          icon.style.top = '0px';
        }
        if (iconData.iconViewTrackingUrl) {
          icon.onload = _this2._onIconLoadPingTracking.bind(_this2, index);
        }
        if (iconData.iconClickThroughUrl) {
          var _onIconClickThroughFn = _this2._onIconClickThrough.bind(_this2, index);
          FW.addEvents(['touchend', 'click'], icon, _onIconClickThroughFn);
        }
        if (iconData.htmlContent) {
          icon.srcdoc = src;
        } else {
          icon.src = src;
        }
        Logger.print('info', "Selected icon details follow", icon);
        _this2._adContainer.appendChild(icon);
      });
    }
  }, {
    key: "destroy",
    value: function destroy() {
      Logger.print('info', "Start destroying icons");
      var icons = this._adContainer.querySelectorAll('.rmp-ad-container-icons');
      if (icons.length > 0) {
        icons.forEach(function (icon) {
          FW.removeElement(icon);
        });
      }
      if (this._adPlayer) {
        this._adPlayer.removeEventListener('playing', this._onPlayingAppendIconsFn);
      }
    }
  }, {
    key: "parse",
    value: function parse(icons) {
      Logger.print('info', "Start parsing icons");
      for (var i = 0; i < icons.length; i++) {
        var currentIcon = icons[i];
        var program = currentIcon.program;
        if (program === null) {
          continue;
        }
        var width = currentIcon.width;
        var height = currentIcon.height;
        var xPosition = currentIcon.xPosition;
        var yPosition = currentIcon.yPosition;
        if (width <= 0 || height <= 0 || xPosition < 0 || yPosition < 0) {
          continue;
        }
        var staticResourceUrl = currentIcon.staticResource;
        var iframeResourceUrl = currentIcon.iframeResource;
        var htmlResource = currentIcon.htmlResource;
        // we only support StaticResource (HTMLResource not supported)
        if (staticResourceUrl === null && iframeResourceUrl === null && htmlResource === null) {
          continue;
        }
        var iconData = {
          program: program,
          width: width,
          height: height,
          xPosition: xPosition,
          yPosition: yPosition,
          staticResourceUrl: staticResourceUrl,
          iframeResourceUrl: iframeResourceUrl,
          htmlContent: htmlResource
        };
        iconData.iconViewTrackingUrl = currentIcon.iconViewTrackingURLTemplate;
        iconData.iconClickThroughUrl = currentIcon.iconClickThroughURLTemplate;
        iconData.iconClickTrackingUrls = currentIcon.iconClickTrackingURLTemplates;
        this._iconsData.push(iconData);
      }
      Logger.print('info', "Validated parsed icons follows", this._iconsData);
    }
  }, {
    key: "append",
    value: function append() {
      this._onPlayingAppendIconsFn = this._onPlayingAppendIcons.bind(this);
      // as per VAST 3 spec only append icon when ad starts playing
      this._adPlayer.addEventListener('playing', this._onPlayingAppendIconsFn, {
        once: true
      });
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/assets/rmp-connection/rmp-connection.js


/**
 * @license Copyright (c) 2015-2022 Radiant Media Player | https://www.radiantmediaplayer.com
 * rmp-connection 2.1.0 | https://github.com/radiantmediaplayer/rmp-connection
 * rmp-connection is released under MIT | https://github.com/radiantmediaplayer/rmp-connection/blob/master/LICENSE
 */
/**
 * The class to instantiate RmpConnection
 * @export
 * @class RmpConnection
*/
var RmpConnection = /*#__PURE__*/function () {
  /**
    * @constructor
    */
  function RmpConnection() {
    _classCallCheck(this, RmpConnection);
  }

  /**
    * @private
    */
  return _createClass(RmpConnection, [{
    key: "_getConnectionType",
    value: function _getConnectionType() {
      if (typeof navigator.connection.type === 'string' && navigator.connection.type !== '') {
        switch (navigator.connection.type) {
          case 'ethernet':
            return 'ethernet';
          case 'wifi':
          case 'wimax':
          case 'mixed':
          case 'other':
            return 'wifi';
          case 'bluetooth':
          case 'cellular':
            return 'cellular';
          case 'none':
            return 'none';
          default:
            break;
        }
      }
      return 'unknown';
    }

    /**
      * @private
      */
  }, {
    key: "_getBandwidthEstimate",
    value: function _getBandwidthEstimate() {
      if (typeof navigator.connection.downlink === 'number' && navigator.connection.downlink > 0) {
        return navigator.connection.downlink;
      } else if (typeof navigator.connection.effectiveType === 'string' && navigator.connection.effectiveType !== '') {
        switch (navigator.connection.effectiveType) {
          case 'slow-2g':
            return 0.025;
          case '2g':
            return 0.035;
          case '3g':
            return 0.35;
          case '4g':
            return 1.4;
          case '5g':
            return 5;
          default:
            break;
        }
      } else if (typeof navigator.connection.type === 'string' && navigator.connection.type !== '') {
        switch (navigator.connection.type) {
          case 'ethernet':
          case 'wifi':
          case 'wimax':
          case 'mixed':
          case 'other':
            return 1.4;
          case 'bluetooth':
          case 'cellular':
            return 0.35;
          case 'none':
            return -1;
          default:
            break;
        }
      }
      return 0.35;
    }

    /** 
     * @typedef {object} BandwidthData
     * @property {number} estimate
     * @property {string} connectionType
     * @return {BandwidthData}
     */
  }, {
    key: "bandwidthData",
    get: function get() {
      // default return values
      var result = {
        estimate: -1,
        connectionType: 'none'
      };

      // we are offline - exit
      if (typeof navigator.onLine !== 'undefined' && !navigator.onLine) {
        return result;
      }

      // we do not have navigator.connection - exit
      // for support see https://caniuse.com/#feat=netinfo - works everywhere but in Safari && Firefox 
      if (typeof navigator.connection === 'undefined') {
        return {
          estimate: -1,
          connectionType: 'unknown'
        };
      }

      // we return our internal values
      return {
        estimate: this._getBandwidthEstimate(),
        connectionType: this._getConnectionType()
      };
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/json/stringify.js
var stringify = __webpack_require__(5569);
var stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js
var includes = __webpack_require__(8628);
var includes_default = /*#__PURE__*/__webpack_require__.n(includes);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/object/values.js
var values = __webpack_require__(7119);
var values_default = /*#__PURE__*/__webpack_require__.n(values);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/starts-with.js
var starts_with = __webpack_require__(165);
var starts_with_default = /*#__PURE__*/__webpack_require__.n(starts_with);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/array/from.js
var array_from = __webpack_require__(9763);
var array_from_default = /*#__PURE__*/__webpack_require__.n(array_from);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/keys.js
var keys = __webpack_require__(5413);
var instance_keys_default = /*#__PURE__*/__webpack_require__.n(keys);
;// CONCATENATED MODULE: ./src/js/players/simid/simid_protocol.js











/**
 * Contains logic for sending mesages between the SIMID creative and the player.
 * Note: Some browsers do not support promises and a more complete implementation
 *       should consider using a polyfill.
 */


/** Contains all constants common across SIMID */
var ProtocolMessage = {
  CREATE_SESSION: 'createSession',
  RESOLVE: 'resolve',
  REJECT: 'reject'
};
var MediaMessage = {
  DURATION_CHANGE: 'Media:durationchange',
  ENDED: 'Media:ended',
  ERROR: 'Media:error',
  PAUSE: 'Media:pause',
  PLAY: 'Media:play',
  PLAYING: 'Media:playing',
  SEEKED: 'Media:seeked',
  SEEKING: 'Media:seeking',
  TIME_UPDATE: 'Media:timeupdate',
  VOLUME_CHANGE: 'Media:volumechange'
};
var PlayerMessage = {
  RESIZE: 'Player:resize',
  INIT: 'Player:init',
  LOG: 'Player:log',
  START_CREATIVE: 'Player:startCreative',
  AD_SKIPPED: 'Player:adSkipped',
  AD_STOPPED: 'Player:adStopped',
  FATAL_ERROR: 'Player:fatalError'
};

/** Messages from the creative */
var CreativeMessage = {
  CLICK_THRU: 'Creative:clickThru',
  EXPAND_NONLINEAR: 'Creative:expandNonlinear',
  COLLAPSE_NONLINEAR: 'Creative:collapseNonlinear',
  FATAL_ERROR: 'Creative:fatalError',
  GET_MEDIA_STATE: 'Creative:getMediaState',
  LOG: 'Creative:log',
  REQUEST_FULL_SCREEN: 'Creative:requestFullScreen',
  REQUEST_SKIP: 'Creative:requestSkip',
  REQUEST_STOP: 'Creative:requestStop',
  REQUEST_PAUSE: 'Creative:requestPause',
  REQUEST_PLAY: 'Creative:requestPlay',
  REQUEST_RESIZE: 'Creative:requestResize',
  REQUEST_VOLUME: 'Creative:requestVolume',
  REQUEST_TRACKING: 'Creative:reportTracking',
  REQUEST_CHANGE_AD_DURATION: 'Creative:requestChangeAdDuration'
};

/**
 * These messages require a response (either resolve or reject).
 * All other messages do not require a response and are information only.
 */
var EventsThatRequireResponse = [CreativeMessage.GET_MEDIA_STATE, CreativeMessage.REQUEST_VIDEO_LOCATION, CreativeMessage.READY, CreativeMessage.CLICK_THRU, CreativeMessage.REQUEST_SKIP, CreativeMessage.REQUEST_STOP, CreativeMessage.REQUEST_PAUSE, CreativeMessage.REQUEST_PLAY, CreativeMessage.REQUEST_FULL_SCREEN, CreativeMessage.REQUEST_VOLUME, CreativeMessage.REQUEST_RESIZE, CreativeMessage.REQUEST_CHANGE_AD_DURATION, CreativeMessage.REPORT_TRACKING, PlayerMessage.INIT, PlayerMessage.START_CREATIVE, PlayerMessage.AD_SKIPPED, PlayerMessage.AD_STOPPED, PlayerMessage.FATAL_ERROR, ProtocolMessage.CREATE_SESSION];

// A list of errors the creative might send to the player.
var CreativeErrorCode = {
  UNSPECIFIED: 1100,
  CANNOT_LOAD_RESOURCE: 1101,
  PLAYBACK_AREA_UNUSABLE: 1102,
  INCORRECT_VERSION: 1103,
  TECHNICAL_ERROR: 1104,
  EXPAND_NOT_POSSIBLE: 1105,
  PAUSE_NOT_HONORED: 1106,
  PLAYMODE_NOT_ADEQUATE: 1107,
  CREATIVE_INTERNAL_ERROR: 1108,
  DEVICE_NOT_SUPPORTED: 1109,
  MESSAGES_NOT_FOLLOWING_SPEC: 1110,
  PLAYER_RESPONSE_TIMEOUT: 1111
};

// A list of errors the player might send to the creative.
var PlayerErrorCode = {
  UNSPECIFIED: 1200,
  WRONG_VERSION: 1201,
  UNSUPPORTED_TIME: 1202,
  UNSUPPORTED_FUNCTIONALITY_REQUEST: 1203,
  UNSUPPORTED_ACTIONS: 1204,
  POSTMESSAGE_CHANNEL_OVERLOADED: 1205,
  VIDEO_COULD_NOT_LOAD: 1206,
  VIDEO_TIME_OUT: 1207,
  RESPONSE_TIMEOUT: 1208,
  MEDIA_NOT_SUPPORTED: 1209,
  SPEC_NOT_FOLLOWED_ON_INIT: 1210,
  SPEC_NOT_FOLLOWED_ON_MESSAGES: 1211
};

// A list of reasons a player could stop the ad.
var StopCode = {
  UNSPECIFIED: 0,
  USER_INITIATED: 1,
  MEDIA_PLAYBACK_COMPLETE: 2,
  PLAYER_INITATED: 3,
  CREATIVE_INITIATED: 4,
  NON_LINEAR_DURATION_COMPLETE: 5
};
var SimidProtocol = /*#__PURE__*/function () {
  function SimidProtocol() {
    _classCallCheck(this, SimidProtocol);
    /*
     * A map of messsage type to an array of callbacks.
     * @private {Map<String, Array<Function>>}
     */
    this.listeners_ = {};

    /*
     * The session ID for this protocol.
     * @private {String}
     */
    this.sessionId_ = '';

    /**
     * The next message ID to use when sending a message.
     * @private {number}
     */
    this.nextMessageId_ = 1;

    /**
     * The window where the message should be posted to.
     * @private {!Element}
     */
    this.target_ = window.parent;
    this.resolutionListeners_ = {};
    window.addEventListener('message', this.receiveMessage.bind(this), false);
  }

  /* Reverts this protocol to its original state */
  return _createClass(SimidProtocol, [{
    key: "reset",
    value: function reset() {
      this.listeners_ = {};
      this.sessionId_ = '';
      this.nextMessageId_ = 1;
      // TODO: Perhaps we should reject all associated promises.
      this.resolutionListeners_ = {};
    }

    /**
     * Sends a message using post message.  Returns a promise
     * that will resolve or reject after the message receives a response.
     * @param {string} messageType The name of the message
     * @param {?Object} messageArgs The arguments for the message, may be null.
     * @return {!Promise} Promise that will be fulfilled when client resolves or rejects.
     */
  }, {
    key: "sendMessage",
    value: function sendMessage(messageType, messageArgs) {
      var _this = this;
      // Incrementing between messages keeps each message id unique.
      var messageId = this.nextMessageId_++;
      // Only create session does not need to be in the SIMID name space
      // because it is part of the protocol.
      var nameSpacedMessage = messageType == ProtocolMessage.CREATE_SESSION ? messageType : 'SIMID:' + messageType;
      // The message object as defined by the SIMID spec.
      var message = {
        'sessionId': this.sessionId_,
        'messageId': messageId,
        'type': nameSpacedMessage,
        'timestamp': Date.now(),
        'args': messageArgs
      };
      if (includes_default()(EventsThatRequireResponse).call(EventsThatRequireResponse, messageType)) {
        // If the message requires a callback this code will set
        // up a promise that will call resolve or reject with its parameters.
        return new (core_js_stable_promise_default())(function (resolve, reject) {
          _this.addResolveRejectListener_(messageId, resolve, reject);
          _this.target_.postMessage(stringify_default()(message), '*');
        });
      }
      // A default promise will just resolve immediately.
      // It is assumed no one would listen to these promises, but if they do
      // it will "just work".
      return new (core_js_stable_promise_default())(function (resolve) {
        _this.target_.postMessage(stringify_default()(message), '*');
        resolve();
      });
    }

    /**
     * Adds a listener for a given message.
     */
  }, {
    key: "addListener",
    value: function addListener(messageType, callback) {
      if (!this.listeners_[messageType]) {
        this.listeners_[messageType] = [callback];
      } else {
        this.listeners_[messageType].push(callback);
      }
    }

    /**
     * Sets up a listener for resolve/reject messages.
     * @private
     */
  }, {
    key: "addResolveRejectListener_",
    value: function addResolveRejectListener_(messageId, resolve, reject) {
      var listener = function listener(data) {
        var type = data['type'];
        var args = data['args']['value'];
        if (type == 'resolve') {
          resolve(args);
        } else if (type == 'reject') {
          reject(args);
        }
      };
      this.resolutionListeners_[messageId] = listener.bind(this);
    }

    /**
     * Recieves messages from either the player or creative.
     */
  }, {
    key: "receiveMessage",
    value: function receiveMessage(event) {
      var _context;
      if (!event || !event.data) {
        return;
      }
      var data;
      try {
        data = JSON.parse(event.data);
      } catch (error) {
        Logger.print('warning', "receiveMessage failed at decoding message", error);
        return;
      }
      if (!data) {
        // If there is no data in the event this is not a SIMID message.
        return;
      }
      var sessionId = data['sessionId'];
      var type = data['type'];
      // A sessionId is valid in one of two cases:
      // 1. It is not set and the message type is createSession.
      // 2. The session ids match exactly.
      var isCreatingSession = this.sessionId_ == '' && type == ProtocolMessage.CREATE_SESSION;
      var isSessionIdMatch = this.sessionId_ == sessionId;
      var validSessionId = isCreatingSession || isSessionIdMatch;
      if (!validSessionId || type == null) {
        // Ignore invalid messages.
        return;
      }

      // There are 2 types of messages to handle:
      // 1. Protocol messages (like resolve, reject and createSession)
      // 2. Messages starting with SIMID:
      // All other messages are ignored.
      if (includes_default()(_context = values_default()(ProtocolMessage)).call(_context, type)) {
        this.handleProtocolMessage_(data);
      } else if (starts_with_default()(type).call(type, 'SIMID:')) {
        // Remove SIMID: from the front of the message so we can compare them with the map.
        var specificType = type.substr(6);
        var listeners = this.listeners_[specificType];
        if (listeners) {
          listeners.forEach(function (listener) {
            return listener(data);
          });
        }
      }
    }

    /**
     * Handles incoming messages specifically for the protocol
     * @param {!Object} data Data passed back from the message
     * @private
     */
  }, {
    key: "handleProtocolMessage_",
    value: function handleProtocolMessage_(data) {
      var type = data['type'];
      var listeners, args, correlatingId, resolutionFunction;
      switch (type) {
        case ProtocolMessage.CREATE_SESSION:
          this.sessionId_ = data['sessionId'];
          this.resolve(data);
          listeners = this.listeners_[type];
          if (listeners) {
            // calls each of the listeners with the data.
            listeners.forEach(function (listener) {
              return listener(data);
            });
          }
          break;
        case ProtocolMessage.RESOLVE:
        // intentional fallthrough
        case ProtocolMessage.REJECT:
          args = data['args'];
          correlatingId = args['messageId'];
          resolutionFunction = this.resolutionListeners_[correlatingId];
          if (resolutionFunction) {
            // If the listener exists call it once only.
            resolutionFunction(data);
            delete this.resolutionListeners_[correlatingId];
          }
          break;
      }
    }

    /**
     * Resolves an incoming message.
     * @param {!Object} incomingMessage the message that is being resolved.
     * @param {!Object} outgoingArgs Any arguments that are part of the resolution.
     */
  }, {
    key: "resolve",
    value: function resolve(incomingMessage, outgoingArgs) {
      var messageId = this.nextMessageId_++;
      var resolveMessageArgs = {
        'messageId': incomingMessage['messageId'],
        'value': outgoingArgs
      };
      var message = {
        'sessionId': this.sessionId_,
        'messageId': messageId,
        'type': ProtocolMessage.RESOLVE,
        'timestamp': Date.now(),
        'args': resolveMessageArgs
      };
      this.target_.postMessage(stringify_default()(message), '*');
    }

    /**
     * Rejects an incoming message.
     * @param {!Object} incomingMessage the message that is being resolved.
     * @param {!Object} outgoingArgs Any arguments that are part of the resolution.
     */
  }, {
    key: "reject",
    value: function reject(incomingMessage, outgoingArgs) {
      var messageId = this.nextMessageId_++;
      var rejectMessageArgs = {
        'messageId': incomingMessage['messageId'],
        'value': outgoingArgs
      };
      var message = {
        'sessionId': this.sessionId_,
        'messageId': messageId,
        'type': ProtocolMessage.REJECT,
        'timestamp': Date.now(),
        'args': rejectMessageArgs
      };
      this.target_.postMessage(stringify_default()(message), '*');
    }

    /**
     * Creates a new session.
     * @param {String} sessionId
     * @return {!Promise} The promise from the create session message.
     */
  }, {
    key: "createSession",
    value: function createSession() {
      var sessionCreationResolved = function sessionCreationResolved() {
        Logger.print('info', "SIMID: Session created");
      };
      var sessionCreationRejected = function sessionCreationRejected() {
        // If this ever happens, it may be impossible for the ad
        // to ever communicate with the player.
        Logger.print('info', "SIMID: Session creation was rejected");
      };
      this.generateSessionId_();
      this.sendMessage(ProtocolMessage.CREATE_SESSION).then(sessionCreationResolved, sessionCreationRejected);
    }

    /**
     * Sets the session ID, this should only be used on session creation.
     * @private
     */
  }, {
    key: "generateSessionId_",
    value: function generateSessionId_() {
      var _context2, _context3;
      // This function generates a random v4 UUID. In a v4 UUID, of the format
      // xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx, all bits are selected randomly,
      // except the bits of 'M', which must be equal to 4, and 'N', whose first 2
      // most significant bits must be set to 10b. So in total only 122 of the 128
      // bits are random. See
      // https://en.wikipedia.org/wiki/Universally_unique_identifier for more.

      // crypto.getRandomValues is preferred over crypto.randomUUID since it
      // supports much older browsers including IE, and doesn't require a secure
      // context.

      // Create 128 random bits (8-bit * 16).
      var random16Uint8s = new Uint8Array(16);
      window.crypto.getRandomValues(random16Uint8s);
      // Split each 8-bit int into two 4-bit ints (4-bit * 32).
      var random32Uint4s = instance_map_default()(_context2 = array_from_default()(instance_keys_default()(_context3 = Array(32)).call(_context3))).call(_context2, function (index) {
        var isEven = index % 2 == 0;
        var randomUint8 = random16Uint8s[Math.floor(index / 2)];
        // Pick the high 4 bits for even indices, the low 4 bits for odd.
        return isEven ? randomUint8 >> 4 : randomUint8 & 15;
      });

      // Fix the 12th digit to 4 for the UUID version.
      random32Uint4s[12] = 4;
      // Fix the 16th digit's 2 high bits to 10b for UUID variant 1.
      random32Uint4s[16] = 8 | random32Uint4s[16] & 3;
      var hexDigits = instance_map_default()(random32Uint4s).call(random32Uint4s, function (v) {
        return v.toString(16);
      });
      var uuidComponents = [instance_slice_default()(hexDigits).call(hexDigits, 0, 8).join(''), instance_slice_default()(hexDigits).call(hexDigits, 8, 12).join(''), instance_slice_default()(hexDigits).call(hexDigits, 12, 16).join(''), instance_slice_default()(hexDigits).call(hexDigits, 16, 20).join(''), instance_slice_default()(hexDigits).call(hexDigits, 20).join('')];
      var uuid = uuidComponents.join('-');
      this.sessionId_ = uuid;
    }
  }, {
    key: "setMessageTarget",
    value: function setMessageTarget(target) {
      this.target_ = target;
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/players/simid/simid_player.js








// TODO
// Check fullscreen management
// Check common error and error code reporting
// Add non-linear support
// Check mid-post-roll/adpod support
// Evalaute iOS support



var NO_REQUESTED_DURATION = 0;
var UNLIMITED_DURATION = -2;

/** 
 * All the logic for a simple SIMID player
 */
var SimidPlayer = /*#__PURE__*/function () {
  /**
   * Sets up the creative iframe and starts listening for messages
   * from the creative.
   */
  function SimidPlayer(url, rmpVast) {
    var _this = this;
    _classCallCheck(this, SimidPlayer);
    /**
     * The protocol for sending and receiving messages.
     * @protected {!SimidProtocol}
     */
    this.simidProtocol = new SimidProtocol();
    this.addListeners_();
    this.rmpVast_ = rmpVast;
    this.simidData_ = rmpVast.creative.simid;
    this.adContainer_ = rmpVast.adContainer;
    this.playerDiv_ = rmpVast.contentWrapper;
    this.adPlayerUrl_ = url;
    this.adParameters_ = rmpVast.creative.simid.adParameters;
    this.adId_ = rmpVast.creative.adId;
    this.creativeId_ = rmpVast.creative.id;
    this.adServingId_ = rmpVast.ad.adServingId;
    this.clickThroughUrl_ = rmpVast.creative.clickThroughUrl;

    /**
     * A reference to the video player on the players main page
     * @private {!Element}
     */
    this.contentVideoElement_ = rmpVast.currentContentPlayer;

    /**
     * A reference to a video player for playing ads.
     * @private {!Element}
     */
    this.adVideoElement_ = rmpVast.currentAdPlayer;

    /**
     * A reference to the iframe holding the SIMID creative.
     * @private {?Element}
     */
    this.simidIframe_ = null;

    /**
     * A reference to the promise returned when initialization was called.
     * @private {?Promise}
     */
    this.initializationPromise_ = null;

    /**
     * A map of events tracked on the ad video element.
     * @private {!Map}
     */
    this.adVideoTrackingEvents_ = new (map_default())();

    /**
     * A map of events tracked on the content video element.
     * @private {!Map}
     */
    this.contentVideoTrackingEvents_ = new (map_default())();

    /**
     * A boolean indicating what type of creative ad is.
     * @const @private {boolean}
     */
    this.isLinearAd_ = rmpVast.creative.isLinear;

    /**
     * A number indicating when the non linear ad started.
     * @private {?number}
     */
    this.nonLinearStartTime_ = null;

    /**
     * The duration requested by the ad.
     * @private {number}
     */
    this.requestedDuration_ = NO_REQUESTED_DURATION;

    /**
     * Resolution function for the session created message
     * @private {?Function}
     */
    this.resolveSessionCreatedPromise_ = null;

    /**
     * A promise that resolves once the creative creates a session.
     * @private {!Promise}
     */
    this.sessionCreatedPromise_ = new (core_js_stable_promise_default())(function (resolve) {
      _this.resolveSessionCreatedPromise_ = resolve;
    });

    /**
     * Resolution function for the ad being initialized.
     * @private {?Function}
     */
    this.resolveInitializationPromise_ = null;

    /**
     * Reject function for the ad being initialized.
     * @private {?Function}
     */
    this.rejectInitializationPromise_ = null;

    /**
     * An object containing the resized nonlinear creative's dimensions.
     * @private {?Object}
     */
    this.nonLinearDimensions_ = null;

    /** The unique ID for the interval used to compares the requested change 
     *  duration and the current ad time.
     * @private {number}
     */
    this.durationInterval_ = null;

    /**
     * A promise that resolves once the creative responds to initialization with resolve.
     * @private {!Promise}
     */
    this.initializationPromise_ = new (core_js_stable_promise_default())(function (resolve, reject) {
      _this.resolveInitializationPromise_ = resolve;
      _this.rejectInitializationPromise_ = reject;
    });
    this.trackEventsOnAdVideoElement_();
    this.trackEventsOnContentVideoElement_();
    this.hideAdPlayer_();
    Logger.print('info', "SIMID: player created");
  }

  /**
   * Initializes an ad. This should be called before an ad plays.
   * Creates an iframe with the creative in it, then uses a promise
   * to call init on the creative as soon as the creative initializes
   * a session.
   */
  return _createClass(SimidPlayer, [{
    key: "initializeAd",
    value: function initializeAd() {
      var _this2 = this;
      if (!this.isLinearAd_ && !this.isValidDimensions_(this.getNonlinearDimensions_())) {
        Logger.print('info', "SIMID: Unable to play a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.");
        return;
      }

      // After the iframe is created the player will wait until the ad
      // initializes the communication channel. Then it will call
      // sendInitMessage.
      this.simidIframe_ = this.createSimidIframe_();
      if (!this.isLinearAd_) {
        this.displayNonlinearCreative_();
      }
      this.requestDuration_ = NO_REQUESTED_DURATION;

      // Prepare for the case that init fails before sending
      // the init message. Initialization failing means abandoning
      // the ad.
      this.initializationPromise_.catch(function (error) {
        _this2.onAdInitializedFailed_(error);
      });

      // Using a promise means that the init message will
      // send as soon as the session is created. If the session
      // is already created this will send the init message immediately.
      this.sessionCreatedPromise_.then(function () {
        _this2.sendInitMessage_();
      });
      Logger.print('info', "SIMID: initializeAd");
    }

    /**
     * Plays a SIMID  creative once it has responded to the initialize ad message.
     */
  }, {
    key: "playAd",
    value: function playAd() {
      var _this3 = this;
      // This example waits for the ad to be initialized, before playing video.
      // NOTE: Not all players will wait for session creation and initialization
      // before they start playback.
      this.initializationPromise_.then(function () {
        _this3.startCreativePlayback_();
      }).catch(function (error) {
        Logger.print('warning', "SIMID: playAd failed with following error", error);
      });
    }

    /** Plays the video ad element. */
  }, {
    key: "playAdVideo",
    value: function playAdVideo() {
      this.adVideoElement_.play();
    }

    /**
     * Sets up an iframe for holding the simid element.
     *
     * @return {!Element} The iframe where the simid element lives.
     * @private
     */
  }, {
    key: "createSimidIframe_",
    value: function createSimidIframe_() {
      var simidIframe = document.createElement('iframe');
      simidIframe.style.display = 'none';
      // The target of the player to send messages to is the newly
      // created iframe.
      this.playerDiv_.appendChild(simidIframe);
      if (this.isLinearAd_) {
        // Set up css to overlay the SIMID iframe over the entire video creative
        // only if linear. Non-linear ads will have dimension inputs for placement
        simidIframe.classList.add('rmp-linear-simid-creative');
      }
      this.simidProtocol.setMessageTarget(simidIframe.contentWindow);
      simidIframe.setAttribute('allowFullScreen', '');
      simidIframe.setAttribute('allow', 'geolocation');
      simidIframe.src = this.simidData_.fileURL;
      return simidIframe;
    }

    /**
     * Listens to all relevant messages from the SIMID add.
     * @private
     */
  }, {
    key: "addListeners_",
    value: function addListeners_() {
      this.simidProtocol.addListener(ProtocolMessage.CREATE_SESSION, this.onSessionCreated_.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_FULL_SCREEN, this.onRequestFullScreen.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_PLAY, this.onRequestPlay.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_PAUSE, this.onRequestPause.bind(this));
      this.simidProtocol.addListener(CreativeMessage.FATAL_ERROR, this.onCreativeFatalError.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_SKIP, this.onRequestSkip.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_STOP, this.onRequestStop.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_CHANGE_AD_DURATION, this.onRequestChangeAdDuration.bind(this));
      this.simidProtocol.addListener(CreativeMessage.GET_MEDIA_STATE, this.onGetMediaState.bind(this));
      this.simidProtocol.addListener(CreativeMessage.LOG, this.onReceiveCreativeLog.bind(this));
      this.simidProtocol.addListener(CreativeMessage.EXPAND_NONLINEAR, this.onExpandResize.bind(this));
      this.simidProtocol.addListener(CreativeMessage.COLLAPSE_NONLINEAR, this.onCollapse.bind(this));
      this.simidProtocol.addListener(CreativeMessage.REQUEST_RESIZE, this.onRequestResize.bind(this));
    }

    /**
     * Resolves the session created promise.
     * @private
     */
  }, {
    key: "onSessionCreated_",
    value: function onSessionCreated_() {
      // Anything that must happen after the session is created can now happen
      // since this promise is resolved.
      this.resolveSessionCreatedPromise_();
    }

    /**
     * Destroys the existing simid iframe.
     * @private
     */
  }, {
    key: "destroySimidIframe_",
    value: function destroySimidIframe_() {
      if (this.simidIframe_) {
        this.simidIframe_.remove();
        this.simidIframe_ = null;
        this.simidProtocol.reset();
      }
      var _iterator = _createForOfIteratorHelper(this.adVideoTrackingEvents_),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var _step$value = _slicedToArray(_step.value, 2),
            key = _step$value[0],
            func = _step$value[1];
          this.adVideoElement_.removeEventListener(key, func, true);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
      var _iterator2 = _createForOfIteratorHelper(this.contentVideoTrackingEvents_),
        _step2;
      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var _step2$value = _slicedToArray(_step2.value, 2),
            _key = _step2$value[0],
            _func = _step2$value[1];
          this.contentVideoElement_.removeEventListener(_key, _func, true);
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
      this.adVideoTrackingEvents_.clear();
      this.contentVideoTrackingEvents_.clear();
    }

    /**
     * Returns the full dimensions of an element within the player div.
     * @private
     * @return {!Object}
     */
  }, {
    key: "getFullDimensions_",
    value: function getFullDimensions_(elem) {
      var videoRect = elem.getBoundingClientRect();
      return {
        'x': 0,
        'y': 0,
        'width': videoRect.width,
        'height': videoRect.height
      };
    }

    /**
     * Checks whether the input dimensions are valid and fit in the player window.
     * @private
     * @param {!Object} dimensions A dimension that contains x, y, width & height fields.
     * @return {boolean}
     */
  }, {
    key: "isValidDimensions_",
    value: function isValidDimensions_(dimensions) {
      var playerRect = this.playerDiv_.getBoundingClientRect();
      var heightFits = parse_int_default()(dimensions.y) + parse_int_default()(dimensions.height) <= parse_int_default()(playerRect.height);
      var widthFits = parse_int_default()(dimensions.x) + parse_int_default()(dimensions.width) <= parse_int_default()(playerRect.width);
      return heightFits && widthFits;
    }

    /**
     * Returns the specified dimensions of the non-linear creative.
     * @private
     * @return {!Object}
     */
  }, {
    key: "getNonlinearDimensions_",
    value: function getNonlinearDimensions_() {
      if (this.nonLinearDimensions_) {
        return this.nonLinearDimensions_;
      }
      var newDimensions = {};
      newDimensions.x = document.getElementById('x_val').value;
      newDimensions.y = document.getElementById('y_val').value;
      newDimensions.width = document.getElementById('width').value;
      newDimensions.height = document.getElementById('height').value;
      return newDimensions;
    }

    /** 
     * Validates and displays the non-linear creative.
     * @private
     */
  }, {
    key: "displayNonlinearCreative_",
    value: function displayNonlinearCreative_() {
      var newDimensions = this.getNonlinearDimensions_();
      if (!this.isValidDimensions_(newDimensions)) {
        Logger.print('info', "SIMID: Unable to play a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.");
        return;
      } else {
        this.setSimidIframeDimensions_(newDimensions);
        this.simidIframe_.style.position = 'absolute';
        this.contentVideoElement_.play();
        var nonLinearDuration = document.getElementById('duration').value;
        this.requestedDuration_ = nonLinearDuration;
      }
    }

    /**
     * Changes the simid iframe dimensions to the given dimensions.
     * @private
     * @param {!Object} resizeDimensions A dimension that contains an x,y,width & height fields.
     */
  }, {
    key: "setSimidIframeDimensions_",
    value: function setSimidIframeDimensions_(resizeDimensions) {
      this.simidIframe_.style.height = resizeDimensions.height;
      this.simidIframe_.style.width = resizeDimensions.width;
      this.simidIframe_.style.left = "".concat(resizeDimensions.x, "px");
      this.simidIframe_.style.top = "".concat(resizeDimensions.y, "px");
    }

    /** 
     * The creative wants to expand the ad.
     * @param {!Object} incomingMessage Message sent from the creative to the player
     */
  }, {
    key: "onExpandResize",
    value: function onExpandResize(incomingMessage) {
      if (this.isLinearAd_) {
        var errorMessage = {
          errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,
          message: 'Linear resize not yet supported.'
        };
        this.simidProtocol.reject(incomingMessage, errorMessage);
        Logger.print('info', "SIMID: ".concat(errorMessage.message));
      } else {
        var fullDimensions = this.getFullDimensions_(this.contentVideoElement_);
        this.setSimidIframeDimensions_(fullDimensions);
        this.contentVideoElement_.pause();
        this.simidProtocol.resolve(incomingMessage);
      }
    }

    /** 
     * The creative wants to collapse the ad. 
     * @param {!Object} incomingMessage Message sent from the creative to the player
     */
  }, {
    key: "onCollapse",
    value: function onCollapse(incomingMessage) {
      var newDimensions = this.getNonlinearDimensions_();
      if (this.isLinearAd_) {
        var errorMessage = {
          message: 'Cannot collapse linear ads.'
        };
        this.simidProtocol.reject(incomingMessage, errorMessage);
        Logger.print('info', "SIMID: ".concat(errorMessage.message));
      } else if (!this.isValidDimensions_(newDimensions)) {
        var _errorMessage = {
          message: 'Unable to collapse to dimensions bigger than the player. Please modify dimensions to a smaller size.'
        };
        this.simidProtocol.reject(incomingMessage, _errorMessage);
        Logger.print('info', "SIMID: ".concat(_errorMessage.message));
      } else {
        this.setSimidIframeDimensions_(newDimensions);
        this.simidIframe_.style.position = 'absolute';
        this.contentVideoElement_.play();
        this.simidProtocol.resolve(incomingMessage);
      }
    }

    /**
     * The creative wants to resize the ad.
     * @param {!Object} incomingMessage Message sent from the creative to the player.
     */
  }, {
    key: "onRequestResize",
    value: function onRequestResize(incomingMessage) {
      if (this.isLinearAd_) {
        var errorMessage = {
          errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,
          message: 'Linear resize not yet supported.'
        };
        this.simidProtocol.reject(incomingMessage, errorMessage);
        Logger.print('info', "SIMID: ".concat(errorMessage.message));
      } else if (!this.isValidDimensions_(incomingMessage.args.creativeDimensions)) {
        var _errorMessage2 = {
          errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,
          message: 'Unable to resize a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.'
        };
        this.simidProtocol.reject(incomingMessage, _errorMessage2);
        Logger.print('info', "SIMID: ".concat(_errorMessage2.message));
      } else {
        this.nonLinearDimensions_ = incomingMessage.args.creativeDimensions;
        this.setSimidIframeDimensions_(incomingMessage.args.creativeDimensions);
        this.simidProtocol.resolve(incomingMessage);
      }
    }

    /**
     * Initializes the SIMID creative with all data it needs.
     * @private
     */
  }, {
    key: "sendInitMessage_",
    value: function sendInitMessage_() {
      var _this4 = this;
      var videoDimensions = this.getFullDimensions_(this.contentVideoElement_);
      // Since the creative starts as hidden it will take on the
      // video element dimensions, so tell the ad about those dimensions.
      var creativeDimensions = this.isLinearAd_ ? this.getFullDimensions_(this.contentVideoElement_) : this.getNonlinearDimensions_();
      var environmentData = {
        'videoDimensions': videoDimensions,
        'creativeDimensions': creativeDimensions,
        'fullscreen': false,
        'fullscreenAllowed': true,
        'variableDurationAllowed': true,
        'skippableState': 'adHandles',
        // This player does not render a skip button.
        'siteUrl': document.location.host,
        'appId': '',
        // This is not relevant on desktop
        'useragent': window.navigator.userAgent,
        // This should be filled in for sdks and players
        'deviceId': '',
        // This should be filled in on mobile
        'muted': this.adVideoElement_.muted,
        'volume': this.adVideoElement_.volume
      };
      var creativeData = {
        'adParameters': this.adParameters_,
        // These values should be populated from the VAST response.
        'adId': this.adId_,
        'creativeId': this.creativeId_,
        'adServingId': this.adServingId_,
        'clickThroughUrl': this.clickThroughUrl_
      };
      if (!this.isLinearAd_) {
        creativeData['duration'] = document.getElementById('duration').value;
      }
      var initMessage = {
        'environmentData': environmentData,
        'creativeData': creativeData
      };
      var initPromise = this.simidProtocol.sendMessage(PlayerMessage.INIT, initMessage);
      initPromise.then(function (args) {
        _this4.resolveInitializationPromise_(args);
      }).catch(function (args) {
        _this4.rejectInitializationPromise_(args);
      });
    }

    /**
     * Called once the creative responds positively to being initialized.
     * @private
     */
  }, {
    key: "startCreativePlayback_",
    value: function startCreativePlayback_() {
      // Once the ad is successfully initialized it can start.
      // If the ad is not visible it must be made visible here.
      this.showSimidIFrame_();
      if (this.isLinearAd_) {
        this.playLinearVideoAd_();
      } else {
        this.nonLinearStartTime_ = this.contentVideoElement_.currentTime;
        this.contentVideoElement_.play();
      }
      this.simidProtocol.sendMessage(PlayerMessage.START_CREATIVE);
      // TODO: handle creative rejecting startCreative message.
    }

    /** 
     * Pauses content video and plays linear ad.
     * @private 
     */
  }, {
    key: "playLinearVideoAd_",
    value: function playLinearVideoAd_() {
      this.contentVideoElement_.pause();
      this.showAdPlayer_();
      this.adVideoElement_.src = this.adPlayerUrl_;
      // we need this extra load for Chrome data saver mode in mobile or desktop
      this.adVideoElement_.load();
      this.adVideoElement_.play();
    }

    /**
     * Called if the creative responds with reject after the player
     * initializes the ad.
     * @param {!Object} data
     * @private
     */
  }, {
    key: "onAdInitializedFailed_",
    value: function onAdInitializedFailed_(data) {
      var errorData = stringify_default()(data);
      Logger.print('info', " SIMID: Ad init failed. ".concat(errorData));
      this.destroyIframeAndResumeContent_(true, errorData.errorCode);
    }

    /** @private */
  }, {
    key: "hideSimidIFrame_",
    value: function hideSimidIFrame_() {
      this.simidIframe_.style.display = 'none';
    }

    /** @private */
  }, {
    key: "showSimidIFrame_",
    value: function showSimidIFrame_() {
      this.simidIframe_.style.display = 'block';
    }

    /** @private */
  }, {
    key: "showAdPlayer_",
    value: function showAdPlayer_() {
      // show the ad video element
      this.adVideoElement_.style.display = 'block';
      this.adContainer_.style.display = 'block';
    }

    /** @private */
  }, {
    key: "hideAdPlayer_",
    value: function hideAdPlayer_() {
      // Unload the video
      this.adVideoElement_.style.display = 'none';
      this.adContainer_.style.display = 'none';
    }

    /**
     * Tracks the events on the ad video element specified by the simid spec
     * @private
     */
  }, {
    key: "trackEventsOnAdVideoElement_",
    value: function trackEventsOnAdVideoElement_() {
      var _this5 = this;
      this.adVideoTrackingEvents_.set('durationchange', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.DURATION_CHANGE, {
          'duration': _this5.adVideoElement_.duration
        });
      });
      this.adVideoTrackingEvents_.set('ended', this.videoComplete.bind(this));
      this.adVideoTrackingEvents_.set('error', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.ERROR, {
          'error': '',
          // TODO fill in these values correctly
          'message': ''
        });
      });
      this.adVideoTrackingEvents_.set('pause', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.PAUSE);
      });
      this.adVideoTrackingEvents_.set('play', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.PLAY);
      });
      this.adVideoTrackingEvents_.set('playing', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.PLAYING);
      });
      this.adVideoTrackingEvents_.set('seeked', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.SEEKED);
      });
      this.adVideoTrackingEvents_.set('seeking', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.SEEKING);
      });
      this.adVideoTrackingEvents_.set('timeupdate', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.TIME_UPDATE, {
          'currentTime': _this5.adVideoElement_.currentTime
        });
        _this5.compareAdAndRequestedDurations_();
      });
      this.adVideoTrackingEvents_.set('volumechange', function () {
        _this5.simidProtocol.sendMessage(MediaMessage.VOLUME_CHANGE, {
          'volume': _this5.adVideoElement_.volume
        });
      });
      var _iterator3 = _createForOfIteratorHelper(this.adVideoTrackingEvents_),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var _step3$value = _slicedToArray(_step3.value, 2),
            key = _step3$value[0],
            func = _step3$value[1];
          this.adVideoElement_.addEventListener(key, func, true);
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
    }

    /**
     * Tracks the events on the content video element.
     * @private
     */
  }, {
    key: "trackEventsOnContentVideoElement_",
    value: function trackEventsOnContentVideoElement_() {
      var _this6 = this;
      this.contentVideoTrackingEvents_.set('timeupdate', function () {
        if (_this6.nonLinearStartTime_ !== null && _this6.contentVideoElement_.currentTime - _this6.nonLinearStartTime_ > _this6.requestedDuration_) {
          _this6.stopAd(StopCode.NON_LINEAR_DURATION_COMPLETE);
        }
      });
      var _iterator4 = _createForOfIteratorHelper(this.contentVideoTrackingEvents_),
        _step4;
      try {
        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
          var _step4$value = _slicedToArray(_step4.value, 2),
            key = _step4$value[0],
            func = _step4$value[1];
          this.contentVideoElement_.addEventListener(key, func, true);
        }
      } catch (err) {
        _iterator4.e(err);
      } finally {
        _iterator4.f();
      }
    }

    /**
     * Stops the ad and destroys the ad iframe.
     * @param {StopCode} reason The reason the ad will stop.
     */
  }, {
    key: "stopAd",
    value: function stopAd() {
      var _this7 = this;
      var reason = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : StopCode.PLAYER_INITATED;
      var error = arguments.length > 1 ? arguments[1] : undefined;
      var errorCode = arguments.length > 2 ? arguments[2] : undefined;
      // The iframe is only hidden on ad stoppage. The ad might still request
      // tracking pixels before it is cleaned up.
      if (this.simidIframe_) {
        this.hideSimidIFrame_();
        /*const closeMessage = {
          'code': reason,
        };*/
        // Wait for the SIMID creative to acknowledge stop and then clean
        // up the iframe.
        Logger.print('info', " SIMID: stopAd ".concat(reason));
        this.simidProtocol.sendMessage(PlayerMessage.AD_STOPPED).then(function () {
          return _this7.destroyIframeAndResumeContent_(error, errorCode);
        });
      }
    }

    /**
     * Skips the ad and destroys the ad iframe.
     */
  }, {
    key: "skipAd",
    value: function skipAd() {
      var _this8 = this;
      // The iframe is only hidden on ad skipped. The ad might still request
      // tracking pixels before it is cleaned up.
      this.hideSimidIFrame_();
      // Wait for the SIMID creative to acknowledge skip and then clean
      // up the iframe.
      this.simidProtocol.sendMessage(PlayerMessage.AD_SKIPPED).then(function () {
        return _this8.destroyIframeAndResumeContent_();
      });
    }

    /**
     * Removes the simid ad entirely and resumes video playback.
     * @private
     */
  }, {
    key: "destroyIframeAndResumeContent_",
    value: function destroyIframeAndResumeContent_(error, errorCode) {
      //this.hideAdPlayer_();
      //this.adVideoElement_.src = '';
      this.destroySimidIframe_();
      //this.contentVideoElement_.play();
      if (error) {
        this.rmpVast_.rmpVastUtils.processVastErrors(errorCode, true);
      } else if (this.rmpVast_.rmpVastAdPlayer) {
        this.rmpVast_.rmpVastAdPlayer.resumeContent();
      }
    }

    /** The creative wants to go full screen. */
  }, {
    key: "onRequestFullScreen",
    value: function onRequestFullScreen(incomingMessage) {
      var _this9 = this;
      // The spec currently says to only request fullscreen for the iframe.
      var promise = null;
      if (this.simidIframe_.requestFullscreen) {
        promise = this.simidIframe_.requestFullscreen();
      } else if (this.simidIframe_.mozRequestFullScreen) {
        // Our tests indicate firefox will probably not respect the request.
        promise = this.simidIframe_.mozRequestFullScreen();
      } else if (this.simidIframe_.webkitRequestFullscreen) {
        promise = this.simidIframe_.webkitRequestFullscreen();
      } else if (this.simidIframe_.msRequestFullscreen) {
        // Our tests indicate IE will probably not respect the request.
        promise = this.simidIframe_.msRequestFullscreen();
      }
      if (promise) {
        promise.then(function () {
          return _this9.simidProtocol.resolve(incomingMessage);
        });
      } else {
        // TODO: Many browsers are not returning promises but are still
        // going full screen. Assuming resolve (bad).
        this.simidProtocol.resolve(incomingMessage);
      }
    }

    /** The creative wants to play video. */
  }, {
    key: "onRequestPlay",
    value: function onRequestPlay(incomingMessage) {
      var _this10 = this;
      if (this.isLinearAd_) {
        this.adVideoElement_.play().then(function () {
          return _this10.simidProtocol.resolve(incomingMessage);
        }).catch(function () {
          var errorMessage = {
            errorCode: PlayerErrorCode.VIDEO_COULD_NOT_LOAD,
            message: 'The SIMID media could not be loaded.'
          };
          _this10.simidProtocol.reject(incomingMessage, errorMessage);
        });
      } else {
        var errorMessage = {
          errorCode: CreativeErrorCode.PLAYBACK_AREA_UNUSABLE,
          message: 'Non linear ads do not play video.'
        };
        this.simidProtocol.reject(incomingMessage, errorMessage);
      }
    }

    /** The creative wants to pause video. */
  }, {
    key: "onRequestPause",
    value: function onRequestPause(incomingMessage) {
      this.adVideoElement_.pause();
      this.simidProtocol.resolve(incomingMessage);
    }

    /** Pauses the video ad element. */
  }, {
    key: "pauseAd",
    value: function pauseAd() {
      this.adVideoElement_.pause();
    }

    /** The creative wants to stop with a fatal error. */
  }, {
    key: "onCreativeFatalError",
    value: function onCreativeFatalError(incomingMessage) {
      this.simidProtocol.resolve(incomingMessage);
      this.stopAd(StopCode.CREATIVE_INITIATED, true, 1100);
    }

    /** The creative wants to skip this ad. */
  }, {
    key: "onRequestSkip",
    value: function onRequestSkip(incomingMessage) {
      this.simidProtocol.resolve(incomingMessage);
      this.skipAd();
    }

    /** The creative wants to stop the ad early. */
  }, {
    key: "onRequestStop",
    value: function onRequestStop(incomingMessage) {
      this.simidProtocol.resolve(incomingMessage);
      this.stopAd(StopCode.CREATIVE_INITIATED);
    }

    /**
     * The player must implement sending tracking pixels from the creative.
     * This sample implementation does not show how to send tracking pixels or
     * replace macros. That should be done using the players standard workflow.
     */
  }, {
    key: "onReportTracking",
    value: function onReportTracking(incomingMessage) {
      var _this11 = this;
      var requestedUrlArray = incomingMessage.args['trackingUrls'];
      requestedUrlArray.forEach(function (url) {
        _this11.rmpVast_.rmpVastTracking.pingURI(url);
      });
      Logger.print('info', "SIMID: The creative has asked for the player to ping ".concat(requestedUrlArray));
    }

    /**
     * Called when video playback is complete.
     * @private
     */
  }, {
    key: "videoComplete",
    value: function videoComplete() {
      var _this12 = this;
      this.simidProtocol.sendMessage(MediaMessage.ENDED);
      if (this.requestedDuration_ == NO_REQUESTED_DURATION) {
        this.stopAd(StopCode.MEDIA_PLAYBACK_COMPLETE);
      }

      //If the request duration is longer than the ad duration, the ad extends for the requested amount of time
      else if (this.requestedDuration_ != UNLIMITED_DURATION) {
        var durationChangeMs = (this.requestedDuration_ - this.adVideoElement_.duration) * 1000;
        setTimeout(function () {
          _this12.stopAd(StopCode.CREATIVE_INITIATED);
        }, durationChangeMs);
      }
    }

    /**
     * Called when creative requests a change in duration of ad.
     * @private
     */
  }, {
    key: "onRequestChangeAdDuration",
    value: function onRequestChangeAdDuration(incomingMessage) {
      var newRequestedDuration = incomingMessage.args['duration'];
      if (newRequestedDuration != UNLIMITED_DURATION && newRequestedDuration < 0) {
        var durationErrorMessage = {
          errorCode: PlayerErrorCode.UNSUPPORTED_TIME,
          message: 'A negative duration is not valid.'
        };
        this.simidProtocol.reject(incomingMessage, durationErrorMessage);
      } else {
        this.requestedDuration_ = newRequestedDuration;
        //If requested duration is any other acceptable value
        this.compareAdAndRequestedDurations_();
        this.simidProtocol.resolve(incomingMessage);
      }
    }

    /**
     * Compares the duration of the ad with the requested change duration.
     * If request duration is the same as the ad duration, ad ends as normal.
     * If request duration is unlimited, ad stays on screen until user closes ad.
     * If request duration is shorter, the ad stops early. 
     * @private
     */
  }, {
    key: "compareAdAndRequestedDurations_",
    value: function compareAdAndRequestedDurations_() {
      if (this.requestedDuration_ == NO_REQUESTED_DURATION || this.requestedDuration_ == UNLIMITED_DURATION) {
        //Note: Users can end the ad with unlimited duration with
        // the close ad button on the player
        return;
      } else if (this.adVideoElement_.currentTime >= this.requestedDuration_) {
        //Creative requested a duration shorter than the ad
        this.stopAd(StopCode.CREATIVE_INITATED);
      }
    }
  }, {
    key: "onGetMediaState",
    value: function onGetMediaState(incomingMessage) {
      var mediaState = {
        'currentSrc': this.adVideoElement_.currentSrc,
        'currentTime': this.adVideoElement_.currentTime,
        'duration': this.adVideoElement_.duration,
        'ended': this.adVideoElement_.ended,
        'muted': this.adVideoElement_.muted,
        'paused': this.adVideoElement_.paused,
        'volume': this.adVideoElement_.volume,
        'fullscreen': this.adVideoElement_.fullscreen
      };
      this.simidProtocol.resolve(incomingMessage, mediaState);
    }
  }, {
    key: "onReceiveCreativeLog",
    value: function onReceiveCreativeLog(incomingMessage) {
      var logMessage = incomingMessage.args['message'];
      Logger.print('info', "SIMID: Received message from creative: ".concat(logMessage));
    }
  }, {
    key: "sendLog",
    value: function sendLog(outgoingMessage) {
      var logMessage = {
        'message': outgoingMessage
      };
      this.simidProtocol.sendMessage(PlayerMessage.LOG, logMessage);
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/players/vpaid-player.js







var VpaidPlayer = /*#__PURE__*/function () {
  function VpaidPlayer(rmpVast) {
    _classCallCheck(this, VpaidPlayer);
    this._rmpVast = rmpVast;
    this._adContainer = rmpVast.adContainer;
    this._adPlayer = rmpVast.currentAdPlayer;
    this._params = rmpVast.params;
    this._adParametersData = rmpVast.adParametersData;
    this._initialWidth = 640;
    this._initialHeight = 360;
    this._initialViewMode = 'normal';
    this._desiredBitrate = 500;
    this._vpaidCreativeUrl = '';
    this._vpaidCreative = null;
    this._vpaidScript = null;
    this._vpaidIframe = null;
    this._vpaidAdLoaded = false;
    this._initAdTimeout = null;
    this._vpaidCallbacks = {};
    this._startAdTimeout = null;
    this._vpaidAdStarted = false;
    this._vpaidVersion = -1;
    this._vpaid1AdDuration = -1;
    this._adStoppedTimeout = null;
    this._adSkippedTimeout = null;
    this._vpaidAdRemainingTimeInterval = null;
    this._vpaidRemainingTime = -1;
    this._vpaidCurrentVolume = 1;
    this._vpaidPaused = true;
    this._vpaidLoadTimeout = null;
    this._vpaidAvailableInterval = null;
    this._vpaidSlot = null;
  }

  // VPAID creative events
  return _createClass(VpaidPlayer, [{
    key: "_onAdLoaded",
    value: function _onAdLoaded() {
      var _this = this;
      this._vpaidAdLoaded = true;
      if (!this._vpaidCreative) {
        return;
      }
      FW.clearTimeout(this._initAdTimeout);
      if (this._vpaidCallbacks.AdLoaded) {
        this._vpaidCreative.unsubscribe(this._vpaidCallbacks.AdLoaded, 'AdLoaded');
      }
      // when we call startAd we expect AdStarted event to follow closely
      // otherwise we need to resume content
      this._startAdTimeout = setTimeout(function () {
        if (!_this._vpaidAdStarted && _this._rmpVast.rmpVastAdPlayer) {
          _this._rmpVast.rmpVastAdPlayer.resumeContent();
        }
        _this._vpaidAdStarted = false;
      }, this._params.creativeLoadTimeout);
      this._rmpVast.__adOnStage = true;
      this._vpaidCreative.startAd();
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adloaded');
    }
  }, {
    key: "_onAdStarted",
    value: function _onAdStarted() {
      this._vpaidAdStarted = true;
      if (!this._vpaidCreative) {
        return;
      }
      FW.clearTimeout(this._startAdTimeout);
      if (this._vpaidCallbacks.AdStarted) {
        this._vpaidCreative.unsubscribe(this._vpaidCallbacks.AdStarted, 'AdStarted');
      }
      // update duration for VPAID 1.*
      if (this._vpaidVersion === 1) {
        this._vpaid1AdDuration = this._vpaidCreative.getAdRemainingTime();
      }
      // append icons - if VPAID does not handle them
      var adIcons = this._vpaidCreative.getAdIcons();
      if (!adIcons && this._rmpVast.rmpVastIcons) {
        var iconsData = this._rmpVast.rmpVastIcons.iconsData;
        if (iconsData.length > 0) {
          this._rmpVast.rmpVastIcons.append();
        }
      }
      if (typeof this._vpaidCreative.getAdLinear === 'function') {
        this._rmpVast.creative.isLinear = this._vpaidCreative.getAdLinear();
      }
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcreativeview');
    }
  }, {
    key: "_onAdStopped",
    value: function _onAdStopped() {
      Logger.print('info', "VPAID AdStopped event");
      FW.clearTimeout(this._adStoppedTimeout);
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.resumeContent();
      }
    }
  }, {
    key: "_onAdSkipped",
    value: function _onAdSkipped() {
      FW.clearTimeout(this._adSkippedTimeout);
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adskipped');
    }
  }, {
    key: "_onAdSkippableStateChange",
    value: function _onAdSkippableStateChange() {
      this._rmpVast.rmpVastUtils.createApiEvent('adskippablestatechanged');
    }
  }, {
    key: "_onAdDurationChange",
    value: function _onAdDurationChange() {
      var _this2 = this;
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdRemainingTime === 'function') {
        var remainingTime = this._vpaidCreative.getAdRemainingTime();
        if (remainingTime >= 0) {
          this._vpaidRemainingTime = remainingTime;
        }
        // AdRemainingTimeChange is deprecated in VPAID 2
        // instead we use setInterval
        FW.clearInterval(this._vpaidAdRemainingTimeInterval);
        this._vpaidAdRemainingTimeInterval = setInterval(function () {
          var remainingTime = _this2._vpaidCreative.getAdRemainingTime();
          if (remainingTime >= 0) {
            _this2._vpaidRemainingTime = remainingTime;
          }
        }, 200);
        this._rmpVast.rmpVastUtils.createApiEvent('addurationchange');
      }
    }
  }, {
    key: "_onAdVolumeChange",
    value: function _onAdVolumeChange() {
      var newVolume = -1;
      if (this._vpaidCreative) {
        newVolume = this._vpaidCreative.getAdVolume();
      }
      if (typeof newVolume === 'number' && newVolume >= 0) {
        if (this._vpaidCurrentVolume > 0 && newVolume === 0) {
          this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('advolumemuted');
        } else if (this._vpaidCurrentVolume === 0 && newVolume > 0) {
          this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('advolumeunmuted');
        }
        this._vpaidCurrentVolume = newVolume;
        this._rmpVast.rmpVastUtils.createApiEvent('advolumechanged');
      }
    }
  }, {
    key: "_onAdImpression",
    value: function _onAdImpression() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adimpression');
    }
  }, {
    key: "_onAdVideoStart",
    value: function _onAdVideoStart() {
      this._vpaidPaused = false;
      var newVolume = -1;
      if (this._vpaidCreative) {
        newVolume = this._vpaidCreative.getAdVolume();
      }
      if (typeof newVolume === 'number' && newVolume >= 0) {
        this._vpaidCurrentVolume = newVolume;
        this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adstarted');
      }
    }
  }, {
    key: "_onAdVideoFirstQuartile",
    value: function _onAdVideoFirstQuartile() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adfirstquartile');
    }
  }, {
    key: "_onAdVideoMidpoint",
    value: function _onAdVideoMidpoint() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('admidpoint');
    }
  }, {
    key: "_onAdVideoThirdQuartile",
    value: function _onAdVideoThirdQuartile() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adthirdquartile');
    }
  }, {
    key: "_onAdVideoComplete",
    value: function _onAdVideoComplete() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcomplete');
    }
  }, {
    key: "_onAdClickThru",
    value: function _onAdClickThru(url, id, playerHandles) {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');
      if (typeof playerHandles !== 'boolean') {
        return;
      }
      if (!playerHandles) {
        return;
      } else {
        var destUrl;
        if (url) {
          destUrl = url;
        } else if (this._rmpVast.creative.clickThroughUrl) {
          destUrl = this._rmpVast.creative.clickThroughUrl;
        }
        if (destUrl) {
          this._rmpVast.creative.clickThroughUrl = destUrl;
          FW.openWindow(this._rmpVast.creative.clickThroughUrl);
        }
      }
    }
  }, {
    key: "_onAdPaused",
    value: function _onAdPaused() {
      this._vpaidPaused = true;
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adpaused');
    }
  }, {
    key: "_onAdPlaying",
    value: function _onAdPlaying() {
      this._vpaidPaused = false;
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adresumed');
    }
  }, {
    key: "_onAdLog",
    value: function _onAdLog(message) {
      Logger.print('info', "VPAID AdLog event ".concat(message));
    }
  }, {
    key: "_onAdError",
    value: function _onAdError(message) {
      Logger.print('info', "VPAID AdError event ".concat(message));
      this._rmpVast.rmpVastUtils.processVastErrors(901, true);
    }
  }, {
    key: "_onAdInteraction",
    value: function _onAdInteraction() {
      this._rmpVast.rmpVastUtils.createApiEvent('adinteraction');
    }
  }, {
    key: "_onAdUserAcceptInvitation",
    value: function _onAdUserAcceptInvitation() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('aduseracceptinvitation');
    }
  }, {
    key: "_onAdUserMinimize",
    value: function _onAdUserMinimize() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcollapse');
    }
  }, {
    key: "_onAdUserClose",
    value: function _onAdUserClose() {
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclosed');
    }
  }, {
    key: "_onAdSizeChange",
    value: function _onAdSizeChange() {
      this._rmpVast.rmpVastUtils.createApiEvent('adsizechange');
    }
  }, {
    key: "_onAdLinearChange",
    value: function _onAdLinearChange() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdLinear === 'function') {
        this._rmpVast.creative.isLinear = this._vpaidCreative.getAdLinear();
        this._rmpVast.rmpVastUtils.createApiEvent('adlinearchange');
      }
    }
  }, {
    key: "_onAdExpandedChange",
    value: function _onAdExpandedChange() {
      this._rmpVast.rmpVastUtils.createApiEvent('adexpandedchange');
    }
  }, {
    key: "_onAdRemainingTimeChange",
    value: function _onAdRemainingTimeChange() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdRemainingTime === 'function') {
        var remainingTime = this._vpaidCreative.getAdRemainingTime();
        if (remainingTime >= 0) {
          this._vpaidRemainingTime = remainingTime;
        }
        this._rmpVast.rmpVastUtils.createApiEvent('adremainingtimechange');
      }
    }
  }, {
    key: "_setCallbacksForCreative",
    value: function _setCallbacksForCreative() {
      var _this3 = this;
      if (!this._vpaidCreative) {
        return;
      }
      this._vpaidCallbacks = {
        AdLoaded: this._onAdLoaded.bind(this),
        AdStarted: this._onAdStarted.bind(this),
        AdStopped: this._onAdStopped.bind(this),
        AdSkipped: this._onAdSkipped.bind(this),
        AdSkippableStateChange: this._onAdSkippableStateChange.bind(this),
        AdDurationChange: this._onAdDurationChange.bind(this),
        AdVolumeChange: this._onAdVolumeChange.bind(this),
        AdImpression: this._onAdImpression.bind(this),
        AdVideoStart: this._onAdVideoStart.bind(this),
        AdVideoFirstQuartile: this._onAdVideoFirstQuartile.bind(this),
        AdVideoMidpoint: this._onAdVideoMidpoint.bind(this),
        AdVideoThirdQuartile: this._onAdVideoThirdQuartile.bind(this),
        AdVideoComplete: this._onAdVideoComplete.bind(this),
        AdClickThru: this._onAdClickThru.bind(this),
        AdPaused: this._onAdPaused.bind(this),
        AdPlaying: this._onAdPlaying.bind(this),
        AdLog: this._onAdLog.bind(this),
        AdError: this._onAdError.bind(this),
        AdInteraction: this._onAdInteraction.bind(this),
        AdUserAcceptInvitation: this._onAdUserAcceptInvitation.bind(this),
        AdUserMinimize: this._onAdUserMinimize.bind(this),
        AdUserClose: this._onAdUserClose.bind(this),
        AdSizeChange: this._onAdSizeChange.bind(this),
        AdLinearChange: this._onAdLinearChange.bind(this),
        AdExpandedChange: this._onAdExpandedChange.bind(this),
        AdRemainingTimeChange: this._onAdRemainingTimeChange.bind(this)
      };
      // Looping through the object and registering each of the callbacks with the creative
      var callbacksKeys = keys_default()(this._vpaidCallbacks);
      callbacksKeys.forEach(function (key) {
        _this3._vpaidCreative.subscribe(_this3._vpaidCallbacks[key], key);
      });
    }
  }, {
    key: "_unsetCallbacksForCreative",
    value: function _unsetCallbacksForCreative() {
      var _this4 = this;
      if (!this._vpaidCreative) {
        return;
      }
      // Looping through the object and registering each of the callbacks with the creative
      var callbacksKeys = keys_default()(this._vpaidCallbacks);
      callbacksKeys.forEach(function (key) {
        _this4._vpaidCreative.unsubscribe(_this4._vpaidCallbacks[key], key);
      });
    }
  }, {
    key: "_isValidVPAID",
    value: function _isValidVPAID(creative) {
      if (typeof creative.initAd === 'function' && typeof creative.startAd === 'function' && typeof creative.stopAd === 'function' && typeof creative.skipAd === 'function' && typeof creative.resizeAd === 'function' && typeof creative.pauseAd === 'function' && typeof creative.resumeAd === 'function' && typeof creative.expandAd === 'function' && typeof creative.collapseAd === 'function' && typeof creative.subscribe === 'function' && typeof creative.unsubscribe === 'function') {
        return true;
      }
      return false;
    }
  }, {
    key: "_onVPAIDAvailable",
    value: function _onVPAIDAvailable() {
      var _this5 = this;
      FW.clearInterval(this._vpaidAvailableInterval);
      FW.clearTimeout(this._vpaidLoadTimeout);
      this._vpaidCreative = this._vpaidIframe.contentWindow.getVPAIDAd();
      if (this._vpaidCreative && typeof this._vpaidCreative.handshakeVersion === 'function') {
        // we need to insure handshakeVersion return
        var vpaidVersion;
        try {
          vpaidVersion = this._vpaidCreative.handshakeVersion('2.0');
        } catch (error) {
          Logger.print('warning', error);
          Logger.print('info', "could not validate VPAID ad unit handshakeVersion");
          this._rmpVast.rmpVastUtils.processVastErrors(901, true);
          return;
        }
        this._vpaidVersion = parse_int_default()(vpaidVersion);
        if (this._vpaidVersion < 1) {
          Logger.print('info', "unsupported VPAID version - exit");
          this._rmpVast.rmpVastUtils.processVastErrors(901, true);
          return;
        }
        if (!this._isValidVPAID(this._vpaidCreative)) {
          //The VPAID creative doesn't conform to the VPAID spec
          Logger.print('info', "VPAID creative does not conform to VPAID spec - exit");
          this._rmpVast.rmpVastUtils.processVastErrors(901, true);
          return;
        }
        // wire callback for VPAID events
        this._setCallbacksForCreative();
        // wire tracking events for VAST pings
        this._rmpVast.rmpVastTracking.wire();
        var creativeData = {};
        creativeData.AdParameters = this._adParametersData;
        Logger.print('info', "VPAID AdParameters follow", this._adParametersData);
        FW.show(this._adContainer);
        FW.show(this._adPlayer);
        var environmentVars = {};
        // we create a new slot for VPAID creative - using adContainer can cause some VPAID to ill-render
        // from spec:
        // The 'environmentVars' object contains a reference, 'slot', to the HTML element
        // on the page in which the ad is to be rendered. The ad unit essentially gets
        // control of that element. 
        this._vpaidSlot = document.createElement('div');
        this._vpaidSlot.className = 'rmp-vpaid-container';
        this._adContainer.appendChild(this._vpaidSlot);
        environmentVars.slot = this._vpaidSlot;
        environmentVars.videoSlot = this._adPlayer;
        // we assume we can autoplay (or at least muted autoplay) because this._rmpVast.currentAdPlayer 
        // has been init
        environmentVars.videoSlotCanAutoPlay = true;
        // when we call initAd we expect AdLoaded event to follow closely
        // if not we need to resume content
        this._initAdTimeout = setTimeout(function () {
          if (!_this5._vpaidAdLoaded) {
            Logger.print('info', "_initAdTimeout");
            if (_this5._rmpVast.rmpVastAdPlayer) {
              _this5._rmpVast.rmpVastAdPlayer.resumeContent();
            }
          }
          _this5._vpaidAdLoaded = false;
        }, this._params.creativeLoadTimeout * 10);
        Logger.print('info', "calling initAd on VPAID creative now");
        this._vpaidCreative.initAd(this._initialWidth, this._initialHeight, this._initialViewMode, this._desiredBitrate, creativeData, environmentVars);
      }
    }
  }, {
    key: "_onJSVPAIDLoaded",
    value: function _onJSVPAIDLoaded() {
      var _this6 = this;
      Logger.print('info', "VPAID JS loaded");
      var iframeWindow = this._vpaidIframe.contentWindow;
      if (typeof iframeWindow.getVPAIDAd === 'function') {
        this._onVPAIDAvailable();
      } else {
        this._vpaidAvailableInterval = setInterval(function () {
          if (typeof iframeWindow.getVPAIDAd === 'function') {
            _this6._onVPAIDAvailable();
          }
        }, 100);
      }
      this._vpaidScript.onload = null;
      this._vpaidScript.onerror = null;
    }
  }, {
    key: "_onJSVPAIDError",
    value: function _onJSVPAIDError() {
      Logger.print('info', "VPAID JS error loading");
      this._rmpVast.rmpVastUtils.processVastErrors(901, true);
      this._vpaidScript.onload = null;
      this._vpaidScript.onerror = null;
    }

    // _vpaidCreative getters
  }, {
    key: "getAdWidth",
    value: function getAdWidth() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdWidth === 'function') {
        return this._vpaidCreative.getAdWidth();
      }
      return -1;
    }
  }, {
    key: "getAdHeight",
    value: function getAdHeight() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdHeight === 'function') {
        return this._vpaidCreative.getAdHeight();
      }
      return -1;
    }
  }, {
    key: "getAdDuration",
    value: function getAdDuration() {
      if (this._vpaidCreative) {
        if (typeof this._vpaidCreative.getAdDuration === 'function') {
          return this._vpaidCreative.getAdDuration();
        } else if (this._vpaid1AdDuration > -1) {
          return this._vpaid1AdDuration;
        }
      }
      return -1;
    }
  }, {
    key: "getAdRemainingTime",
    value: function getAdRemainingTime() {
      if (this._vpaidRemainingTime >= 0) {
        return this._vpaidRemainingTime;
      }
      return -1;
    }
  }, {
    key: "getCreativeUrl",
    value: function getCreativeUrl() {
      if (this._vpaidCreativeUrl) {
        return this._vpaidCreativeUrl;
      }
      return '';
    }
  }, {
    key: "getAdVolume",
    value: function getAdVolume() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdVolume === 'function') {
        return this._vpaidCreative.getAdVolume();
      }
      return -1;
    }
  }, {
    key: "getAdPaused",
    value: function getAdPaused() {
      return this._vpaidPaused;
    }
  }, {
    key: "getAdExpanded",
    value: function getAdExpanded() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdExpanded === 'function') {
        return this._vpaidCreative.getAdExpanded();
      }
      return false;
    }
  }, {
    key: "getAdSkippableState",
    value: function getAdSkippableState() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdSkippableState === 'function') {
        return this._vpaidCreative.getAdSkippableState();
      }
      return false;
    }
  }, {
    key: "getAdCompanions",
    value: function getAdCompanions() {
      if (this._vpaidCreative && typeof this._vpaidCreative.getAdCompanions === 'function') {
        return this._vpaidCreative.getAdCompanions();
      }
      return '';
    }

    // _vpaidCreative methods
  }, {
    key: "resizeAd",
    value: function resizeAd(width, height, viewMode) {
      var _context, _context2;
      if (!this._vpaidCreative) {
        return;
      }
      if (!FW.isNumber(width) || !FW.isNumber(height) || typeof viewMode !== 'string') {
        return;
      }
      if (width <= 0 || height <= 0) {
        return;
      }
      var validViewMode = 'normal';
      if (viewMode === 'fullscreen') {
        validViewMode = viewMode;
      }
      Logger.print('info', concat_default()(_context = concat_default()(_context2 = "VPAID resizeAd with width ".concat(width, ", height ")).call(_context2, height, ", viewMode ")).call(_context, viewMode));
      this._vpaidCreative.resizeAd(width, height, validViewMode);
    }
  }, {
    key: "stopAd",
    value: function stopAd() {
      var _this7 = this;
      if (!this._vpaidCreative) {
        return;
      }
      Logger.print('info', "stopAd");
      // when stopAd is called we need to check a 
      // AdStopped event follows
      this._adStoppedTimeout = setTimeout(function () {
        _this7._onAdStopped();
      }, this._params.creativeLoadTimeout);
      this._vpaidCreative.stopAd();
    }
  }, {
    key: "pauseAd",
    value: function pauseAd() {
      Logger.print('info', "pauseAd");
      if (this._vpaidCreative && !this._vpaidPaused) {
        this._vpaidCreative.pauseAd();
      }
    }
  }, {
    key: "resumeAd",
    value: function resumeAd() {
      Logger.print('info', "resumeAd");
      if (this._vpaidCreative && this._vpaidPaused) {
        this._vpaidCreative.resumeAd();
      }
    }
  }, {
    key: "expandAd",
    value: function expandAd() {
      if (this._vpaidCreative) {
        this._vpaidCreative.expandAd();
      }
    }
  }, {
    key: "collapseAd",
    value: function collapseAd() {
      if (this._vpaidCreative) {
        this._vpaidCreative.collapseAd();
      }
    }
  }, {
    key: "skipAd",
    value: function skipAd() {
      var _this8 = this;
      if (!this._vpaidCreative) {
        return;
      }
      // when skipAd is called we need to check a 
      // AdSkipped event follows
      this._adSkippedTimeout = setTimeout(function () {
        _this8._onAdStopped();
      }, this._params.creativeLoadTimeout);
      this._vpaidCreative.skipAd();
    }
  }, {
    key: "setAdVolume",
    value: function setAdVolume(volume) {
      if (this._vpaidCreative && FW.isNumber(volume) && volume >= 0 && volume <= 1 && typeof this._vpaidCreative.setAdVolume === 'function') {
        this._vpaidCreative.setAdVolume(volume);
      }
    }
  }, {
    key: "init",
    value: function init(creativeUrl, vpaidSettings) {
      var _this9 = this;
      this._initialWidth = vpaidSettings.width;
      this._initialHeight = vpaidSettings.height;
      this._initialViewMode = vpaidSettings.viewMode;
      this._desiredBitrate = vpaidSettings.desiredBitrate;
      this._vpaidCreativeUrl = creativeUrl;
      if (!this._adPlayer) {
        // we use existing ad player as it is already 
        // available and initialized (no need for user interaction)
        var existingAdPlayer = null;
        if (this._adContainer) {
          existingAdPlayer = this._adContainer.querySelector('.rmp-ad-vast-video-player');
        }
        if (existingAdPlayer === null) {
          this._rmpVast.rmpVastUtils.processVastErrors(900, true);
          return;
        }
        this._adPlayer = existingAdPlayer;
      }
      // pause content player
      this._rmpVast.rmpVastContentPlayer.pause();
      // create FiF 
      this._vpaidIframe = document.createElement('iframe');
      this._vpaidIframe.sandbox = 'allow-scripts allow-same-origin';
      this._vpaidIframe.id = 'vpaid-frame';
      // do not use display: none;
      // https://bugzilla.mozilla.org/show_bug.cgi?id=548397
      FW.setStyle(this._vpaidIframe, {
        visibility: 'hidden',
        width: '0px',
        height: '0px',
        border: 'none'
      });
      // this is to adhere to Best Practices for Rich Media Ads 
      // in Asynchronous Ad Environments  http://www.iab.net/media/file/rich_media_ajax_best_practices.pdf
      var src = 'about:blank';
      this._vpaidIframe.onload = function () {
        Logger.print('info', "_vpaidIframe.onload");
        if (!_this9._vpaidIframe.contentWindow || !_this9._vpaidIframe.contentWindow.document || !_this9._vpaidIframe.contentWindow.document.body) {
          // PING error and resume content

          _this9._rmpVast.rmpVastUtils.processVastErrors(901, true);
          return;
        }
        var iframeWindow = _this9._vpaidIframe.contentWindow;
        var iframeDocument = iframeWindow.document;
        var iframeBody = iframeDocument.body;
        _this9._vpaidScript = iframeDocument.createElement('script');
        _this9._vpaidLoadTimeout = setTimeout(function () {
          Logger.print('info', "could not load VPAID JS Creative or getVPAIDAd in iframeWindow - resume content");
          _this9._vpaidScript.onload = null;
          _this9._vpaidScript.onerror = null;
          if (_this9._rmpVast.rmpVastAdPlayer) {
            _this9._rmpVast.rmpVastAdPlayer.resumeContent();
          }
        }, _this9._params.creativeLoadTimeout);
        _this9._vpaidScript.onload = _this9._onJSVPAIDLoaded.bind(_this9);
        _this9._vpaidScript.onerror = _this9._onJSVPAIDError.bind(_this9);
        iframeBody.appendChild(_this9._vpaidScript);
        _this9._vpaidScript.src = _this9._vpaidCreativeUrl;
      };
      this._vpaidIframe.src = src;
      this._adContainer.appendChild(this._vpaidIframe);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      Logger.print('info', "destroy VPAID dependencies");
      FW.clearInterval(this._vpaidAvailableInterval);
      FW.clearInterval(this._vpaidAdRemainingTimeInterval);
      FW.clearTimeout(this._vpaidLoadTimeout);
      FW.clearTimeout(this._initAdTimeout);
      FW.clearTimeout(this._startAdTimeout);
      this._unsetCallbacksForCreative();
      if (this._vpaidScript) {
        this._vpaidScript.onload = null;
        this._vpaidScript.onerror = null;
      }
      if (this._vpaidSlot) {
        FW.removeElement(this._vpaidSlot);
      }
      if (this._vpaidIframe) {
        FW.removeElement(this._vpaidIframe);
      }
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/creatives/linear.js















var LinearCreative = /*#__PURE__*/function () {
  function LinearCreative(rmpVast) {
    _classCallCheck(this, LinearCreative);
    this._rmpVast = rmpVast;
    this._params = rmpVast.params;
    this._adContainer = rmpVast.adContainer;
    this._adPlayer = rmpVast.currentAdPlayer;
    this._contentPlayer = rmpVast.currentContentPlayer;
    this._firstAdPlayerPlayRequest = true;
    this._interactionMobileUI = null;
    this._skipWaitingUI = null;
    this._skipMessageUI = null;
    this._skipIconUI = null;
    this._skipButtonUI = null;
    this._skippableAdCanBeSkipped = false;
    this._onSkipInteractionFn = null;
    this._onTimeupdateCheckSkipFn = null;
    this._onDurationChangeFn = null;
    this._onLoadedmetadataPlayFn = null;
    this._onContextMenuFn = null;
    this._onPlaybackErrorFn = null;
    this._onInteractionOpenClickThroughUrlFn = null;
    this._creativeLoadTimeoutCallback = null;
    // hls.js
    this._hlsJS = [];
    this._hlsJSIndex = 0;
    this._readingHlsJS = false;
  }
  return _createClass(LinearCreative, [{
    key: "hlsJSInstances",
    get: function get() {
      return this._hlsJS;
    }
  }, {
    key: "hlsJSIndex",
    get: function get() {
      return this._hlsJSIndex;
    },
    set: function set(value) {
      this._hlsJSIndex = value;
    }
  }, {
    key: "readingHlsJS",
    get: function get() {
      return this._readingHlsJS;
    },
    set: function set(value) {
      this._readingHlsJS = value;
    }
  }, {
    key: "skippableAdCanBeSkipped",
    get: function get() {
      return this._skippableAdCanBeSkipped;
    }
  }, {
    key: "_onDurationChange",
    value: function _onDurationChange() {
      var _this = this;
      var adPlayerDuration = -1;
      if (this._rmpVast.rmpVastAdPlayer) {
        adPlayerDuration = this._rmpVast.rmpVastAdPlayer.duration;
      }
      this._rmpVast.rmpVastUtils.createApiEvent('addurationchange');
      // progress event
      if (adPlayerDuration === -1) {
        return;
      }
      var keys = keys_default()(this._rmpVast.creative.trackingEvents);
      keys.forEach(function (eventName) {
        if (/progress-/i.test(eventName)) {
          var time = eventName.split('-');
          var time_2 = time[1];
          if (/%/i.test(time_2)) {
            var timePerCent = instance_slice_default()(time_2).call(time_2, 0, -1);
            timePerCent = adPlayerDuration * parse_float_default()(timePerCent) / 100;
            var trackingUrls = _this._rmpVast.creative.trackingEvents[eventName];
            trackingUrls.forEach(function (url) {
              _this._rmpVast.progressEvents.push({
                time: timePerCent,
                url: url
              });
            });
          } else {
            var _trackingUrls = _this._rmpVast.creative.trackingEvents[eventName];
            _trackingUrls.forEach(function (url) {
              _this._rmpVast.progressEvents.push({
                time: parse_float_default()(time_2) * 1000,
                url: url
              });
            });
          }
        }
      });
      // sort progress time ascending
      if (this._rmpVast.progressEvents.length > 0) {
        var _context;
        sort_default()(_context = this._rmpVast.progressEvents).call(_context, function (a, b) {
          return a.time - b.time;
        });
      }
    }
  }, {
    key: "_onLoadedmetadataPlay",
    value: function _onLoadedmetadataPlay() {
      FW.clearTimeout(this._creativeLoadTimeoutCallback);
      // adjust volume to make sure content player volume matches ad player volume
      if (this._adPlayer) {
        if (this._adPlayer.volume !== this._contentPlayer.volume) {
          this._adPlayer.volume = this._contentPlayer.volume;
        }
        if (this._contentPlayer.muted) {
          this._adPlayer.muted = true;
        } else {
          this._adPlayer.muted = false;
        }
      }
      // show ad container holding ad player
      FW.show(this._adContainer);
      FW.show(this._adPlayer);
      this._rmpVast.__adOnStage = true;
      // play ad player
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.play(this._firstAdPlayerPlayRequest);
        this._firstAdPlayerPlayRequest = false;
      }
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adloaded');
    }
  }, {
    key: "_onInteractionOpenClickThroughUrl",
    value: function _onInteractionOpenClickThroughUrl(event) {
      if (event) {
        event.stopPropagation();
      }
      if (!Environment.isMobile) {
        FW.openWindow(this._rmpVast.creative.clickThroughUrl);
      }
      this._rmpVast.pause();
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');
    }
  }, {
    key: "_onPlaybackError",
    value: function _onPlaybackError(event) {
      // https://www.w3.org/TR/html50/embedded-content-0.html#mediaerror
      // MEDIA_ERR_SRC_NOT_SUPPORTED is sign of fatal error
      // other errors may produce non-fatal error in the browser so we do not 
      // act upon them
      if (event && event.target) {
        var videoElement = event.target;
        if (videoElement.error && FW.isNumber(videoElement.error.code)) {
          var _context2;
          var errorCode = videoElement.error.code;
          var errorMessage = '';
          if (typeof videoElement.error.message === 'string') {
            errorMessage = videoElement.error.message;
          }
          var htmlMediaErrorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];
          Logger.print('error', concat_default()(_context2 = "Error on video element with code ".concat(errorCode.toString(), " and message ")).call(_context2, errorMessage));
          Logger.print('info', "error type is ".concat(htmlMediaErrorTypes[errorCode] ? htmlMediaErrorTypes[errorCode] : 'unknown type'));

          // MEDIA_ERR_SRC_NOT_SUPPORTED (numeric value 4)
          if (errorCode === 4) {
            this._rmpVast.rmpVastUtils.processVastErrors(401, true);
          }
        }
      }
    }
  }, {
    key: "_onContextMenu",
    value: function _onContextMenu(event) {
      if (event) {
        event.stopPropagation();
        event.preventDefault();
      }
    }
  }, {
    key: "_updateWaitingForCanBeSkippedUI",
    value: function _updateWaitingForCanBeSkippedUI(delta) {
      if (Math.round(delta) > 0) {
        this._skipWaitingUI.textContent = this._params.labels.skipMessage + ' ' + Math.round(delta) + 's';
      }
    }
  }, {
    key: "_onTimeupdateCheckSkip",
    value: function _onTimeupdateCheckSkip() {
      if (this._skipButtonUI.style.display === 'none') {
        FW.setStyle(this._skipButtonUI, {
          display: 'block'
        });
      }
      var adPlayerCurrentTime = this._adPlayer.currentTime;
      if (FW.isNumber(adPlayerCurrentTime) && adPlayerCurrentTime > 0) {
        if (adPlayerCurrentTime >= this._rmpVast.creative.skipoffset) {
          this._adPlayer.removeEventListener('timeupdate', this._onTimeupdateCheckSkipFn);
          FW.setStyle(this._skipWaitingUI, {
            display: 'none'
          });
          FW.setStyle(this._skipMessageUI, {
            display: 'block'
          });
          FW.setStyle(this._skipIconUI, {
            display: 'block'
          });
          this._skippableAdCanBeSkipped = true;
          this._rmpVast.rmpVastUtils.createApiEvent('adskippablestatechanged');
        } else if (this._rmpVast.creative.skipoffset - adPlayerCurrentTime > 0) {
          this._updateWaitingForCanBeSkippedUI(this._rmpVast.creative.skipoffset - adPlayerCurrentTime);
        }
      }
    }
  }, {
    key: "_onSkipInteraction",
    value: function _onSkipInteraction(event) {
      if (event) {
        event.stopPropagation();
        if (event.type === 'touchend') {
          event.preventDefault();
        }
      }
      if (this._skippableAdCanBeSkipped) {
        this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adskipped');
        // resume content
        if (this._rmpVast.rmpVastAdPlayer) {
          this._rmpVast.rmpVastAdPlayer.resumeContent();
        }
      }
    }
  }, {
    key: "_appendSkipUI",
    value: function _appendSkipUI() {
      var skipMessage = this._params.labels.skipMessage;
      this._skipButtonUI = document.createElement('div');
      this._skipButtonUI.className = 'rmp-ad-container-skip';
      FW.setStyle(this._skipButtonUI, {
        display: 'none'
      });
      this._rmpVast.rmpVastUtils.makeButtonAccessible(this._skipButtonUI, skipMessage);
      this._skipWaitingUI = document.createElement('div');
      this._skipWaitingUI.className = 'rmp-ad-container-skip-waiting';
      this._updateWaitingForCanBeSkippedUI(this._rmpVast.creative.skipoffset);
      FW.setStyle(this._skipWaitingUI, {
        display: 'block'
      });
      this._skipMessageUI = document.createElement('div');
      this._skipMessageUI.className = 'rmp-ad-container-skip-message';
      this._skipMessageUI.textContent = skipMessage;
      FW.setStyle(this._skipMessageUI, {
        display: 'none'
      });
      this._skipIconUI = document.createElement('div');
      this._skipIconUI.className = 'rmp-ad-container-skip-icon';
      FW.setStyle(this._skipIconUI, {
        display: 'none'
      });
      this._onSkipInteractionFn = this._onSkipInteraction.bind(this);
      FW.addEvents(['click', 'touchend'], this._skipButtonUI, this._onSkipInteractionFn);
      this._skipButtonUI.appendChild(this._skipWaitingUI);
      this._skipButtonUI.appendChild(this._skipMessageUI);
      this._skipButtonUI.appendChild(this._skipIconUI);
      this._adContainer.appendChild(this._skipButtonUI);
      this._onTimeupdateCheckSkipFn = this._onTimeupdateCheckSkip.bind(this);
      this._adPlayer.addEventListener('timeupdate', this._onTimeupdateCheckSkipFn);
    }
  }, {
    key: "_onHlsJSError",
    value: function _onHlsJSError(event, data) {
      if (data.fatal) {
        switch (data.type) {
          case Hls.ErrorTypes.NETWORK_ERROR:
            // try to recover network error
            this._hlsJS[this._hlsJSIndex].startLoad();
            break;
          case Hls.ErrorTypes.MEDIA_ERROR:
            this._hlsJS[this._hlsJSIndex].recoverMediaError();
            break;
          default:
            this._rmpVast.rmpVastUtils.processVastErrors(900, true);
            break;
        }
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._interactionMobileUI) {
        this._interactionMobileUI.removeEventListener('touchend', this._onInteractionOpenClickThroughUrlFn);
        FW.removeElement(this._interactionMobileUI);
      }
      FW.clearTimeout(this._creativeLoadTimeoutCallback);
      FW.removeElement(this._skipButtonUI);
      FW.removeEvents(['click', 'touchend'], this._skipButtonUI, this._onSkipInteractionFn);
      if (this._adPlayer) {
        this._adPlayer.removeEventListener('click', this._onInteractionOpenClickThroughUrlFn);
        this._adPlayer.removeEventListener('timeupdate', this._onTimeupdateCheckSkipFn);
        this._adPlayer.removeEventListener('durationchange', this._onDurationChangeFn);
        this._adPlayer.removeEventListener('loadedmetadata', this._onLoadedmetadataPlayFn);
        this._adPlayer.removeEventListener('contextmenu', this._onContextMenuFn);
        this._adPlayer.removeEventListener('error', this._onPlaybackErrorFn);
      }
      this._contentPlayer.removeEventListener('error', this._onPlaybackErrorFn);
    }
  }, {
    key: "update",
    value: function update(url, type) {
      var _context3,
        _this2 = this;
      Logger.print('info', concat_default()(_context3 = "update ad player for linear creative of type ".concat(type, " located at ")).call(_context3, url));
      this._onDurationChangeFn = this._onDurationChange.bind(this);
      this._adPlayer.addEventListener('durationchange', this._onDurationChangeFn, {
        once: true
      });

      // when creative is loaded play it 
      this._onLoadedmetadataPlayFn = this._onLoadedmetadataPlay.bind(this);
      this._adPlayer.addEventListener('loadedmetadata', this._onLoadedmetadataPlayFn, {
        once: true
      });

      // prevent built in menu to show on right click
      this._onContextMenuFn = this._onContextMenu.bind(this);
      this._adPlayer.addEventListener('contextmenu', this._onContextMenuFn);
      this._onPlaybackErrorFn = this._onPlaybackError.bind(this);

      // start creativeLoadTimeout
      this._creativeLoadTimeoutCallback = setTimeout(function () {
        _this2._rmpVast.rmpVastUtils.processVastErrors(402, true);
      }, this._params.creativeLoadTimeout);
      if (this._params.useHlsJS && type === 'application/vnd.apple.mpegurl' && typeof window.Hls !== 'undefined' && Hls.isSupported()) {
        this._readingHlsJS = true;
        var hlsJSConfig = {
          debug: this._params.debugHlsJS,
          capLevelToPlayerSize: true,
          testBandwidth: true,
          startLevel: -1,
          lowLatencyMode: false
        };
        this._hlsJS[this._hlsJSIndex] = new Hls(hlsJSConfig);
        this._hlsJS[this._hlsJSIndex].on(Hls.Events.ERROR, this._onHlsJSError.bind(this));
        this._hlsJS[this._hlsJSIndex].loadSource(url);
        this._hlsJS[this._hlsJSIndex].attachMedia(this._adPlayer);
      } else {
        if (typeof this._rmpVast.creative.simid === 'undefined' || this._rmpVast.creative.simid && !this._params.enableSimid) {
          this._adPlayer.addEventListener('error', this._onPlaybackErrorFn);
          this._adPlayer.src = url;
          // we need this extra load for Chrome data saver mode in mobile or desktop
          this._adPlayer.load();
        } else {
          if (this._rmpVast.rmpVastSimidPlayer) {
            this._rmpVast.rmpVastSimidPlayer.stopAd();
          }
          this._rmpVast.rmpVastSimidPlayer = new SimidPlayer(url, this._rmpVast);
          this._rmpVast.rmpVastSimidPlayer.initializeAd();
          this._rmpVast.rmpVastSimidPlayer.playAd();
        }
      }

      // clickthrough interaction
      this._onInteractionOpenClickThroughUrlFn = this._onInteractionOpenClickThroughUrl.bind(this);
      if (this._rmpVast.creative.clickThroughUrl) {
        if (Environment.isMobile) {
          // we create a <a> tag rather than using window.open 
          // because it works better in standalone mode and WebView
          this._interactionMobileUI = document.createElement('a');
          this._interactionMobileUI.className = 'rmp-ad-click-ui-mobile';
          this._interactionMobileUI.textContent = this._params.labels.textForInteractionUIOnMobile;
          this._interactionMobileUI.addEventListener('touchend', this._onInteractionOpenClickThroughUrlFn);
          this._interactionMobileUI.href = this._rmpVast.creative.clickThroughUrl;
          this._interactionMobileUI.target = '_blank';
          this._adContainer.appendChild(this._interactionMobileUI);
        } else {
          this._adPlayer.addEventListener('click', this._onInteractionOpenClickThroughUrlFn);
        }
      }

      // skippable - only where ad player is different from 
      // content player
      if (this._rmpVast.creative.isSkippableAd) {
        this._appendSkipUI();
      }
    }
  }, {
    key: "parse",
    value: function parse(creative) {
      var icons = creative.icons;
      var adParameters = creative.adParameters;
      var mediaFiles = creative.mediaFiles;
      // some linear tags may pass till here but have empty MediaFiles
      // this is against specification so we return
      if (mediaFiles.length === 0) {
        return;
      }
      if (icons.length > 0) {
        this._rmpVast.rmpVastIcons = new Icons(this._rmpVast);
        this._rmpVast.rmpVastIcons.parse(icons);
      }
      // check for AdParameters tag in case we have a VPAID creative
      this._rmpVast.adParametersData = '';
      if (adParameters && adParameters.value) {
        this._rmpVast.adParametersData = adParameters.value;
      }
      var mediaFileItems = [];
      var isVpaid = false;
      for (var i = 0; i < mediaFiles.length; i++) {
        var currentMediaFile = mediaFiles[i];
        var mediaFileValue = currentMediaFile.fileURL;
        var type = currentMediaFile.mimeType;
        if (mediaFileValue === null || type === null) {
          continue;
        }
        var newMediaFileItem = {};
        newMediaFileItem.url = mediaFileValue;
        newMediaFileItem.type = type;
        if (currentMediaFile.codec !== null) {
          newMediaFileItem.codec = currentMediaFile.codec;
        }
        // check for potential VPAID - we have a VPAID JS - we break
        // for VPAID we may not have a width, height or delivery
        var vpaidPattern = /vpaid/i;
        var jsPattern = /\/javascript/i;
        if (this._params.enableVpaid && currentMediaFile.apiFramework && vpaidPattern.test(currentMediaFile.apiFramework) && jsPattern.test(type)) {
          Logger.print('info', "VPAID creative detected");
          mediaFileItems = [newMediaFileItem];
          isVpaid = true;
          break;
        }
        newMediaFileItem.width = currentMediaFile.width;
        newMediaFileItem.height = currentMediaFile.height;
        newMediaFileItem.bitrate = currentMediaFile.bitrate;
        mediaFileItems.push(newMediaFileItem);
      }
      // we support HLS; MP4; WebM: VPAID so let us fecth for those
      var creatives = [];
      for (var j = 0; j < mediaFileItems.length; j++) {
        var currentMediaFileItem = mediaFileItems[j];
        var _type = currentMediaFileItem.type;
        var url = currentMediaFileItem.url;
        if (isVpaid && url) {
          this._rmpVast.rmpVastVpaidPlayer = new VpaidPlayer(this._rmpVast);
          this._rmpVast.rmpVastVpaidPlayer.init(url, this._params.vpaidSettings);
          this._rmpVast.creative.type = _type;
          return;
        }
        // we have HLS > use hls.js where no native support for HLS is available or native HLS otherwise (Apple devices mainly)
        if (this._rmpVast.rmpVastAdPlayer) {
          if (_type === 'application/vnd.apple.mpegurl' && (Environment.checkCanPlayType(_type) || typeof window.Hls !== 'undefined' && Hls.isSupported())) {
            this._rmpVast.rmpVastAdPlayer.append(url, _type);
            this._rmpVast.creative.type = _type;
            return;
          }
          // we have DASH and DASH is natively supported > use DASH
          if (Environment.checkCanPlayType('application/dash+xml')) {
            this._rmpVast.rmpVastAdPlayer.append(url, _type);
            this._rmpVast.creative.type = _type;
            return;
          }
        }
        // we gather MP4, WebM, OGG and remaining files
        creatives.push(currentMediaFileItem);
      }
      if (isVpaid) {
        return;
      }
      var retainedCreatives = [];
      var commonVideoFormats = ['video/webm', 'video/mp4', 'video/ogg', 'video/3gpp'];
      // first we check for the common formats below ... 
      var __filterCommonCreatives = function __filterCommonCreatives(i, creative) {
        if (creative.codec && creative.type === commonVideoFormats[i]) {
          return Environment.checkCanPlayType(creative.type, creative.codec);
        } else if (creative.type === commonVideoFormats[i]) {
          return Environment.checkCanPlayType(creative.type);
        }
        return false;
      };
      for (var k = 0; k < commonVideoFormats.length; k++) {
        retainedCreatives = filter_default()(creatives).call(creatives, __filterCommonCreatives.bind(null, k));
        if (retainedCreatives.length > 0) {
          break;
        }
      }
      // ... if none of the common format work, then we check for exotic format
      // first we check for those with codec information as it provides more accurate support indication ...
      if (retainedCreatives.length === 0) {
        var __filterCodecCreatives = function __filterCodecCreatives(codec, type, creative) {
          return creative.codec === codec && creative.type === type;
        };
        creatives.forEach(function (creative) {
          if (creative.codec && creative.type && Environment.checkCanPlayType(creative.type, creative.codec)) {
            retainedCreatives = filter_default()(creatives).call(creatives, __filterCodecCreatives.bind(null, creative.codec, creative.type));
          }
        });
      }
      // ... if codec information are not available then we go first type matching
      if (retainedCreatives.length === 0) {
        var __filterTypeCreatives = function __filterTypeCreatives(type, creative) {
          return creative.type === type;
        };
        creatives.forEach(function (creative) {
          if (creative.type && Environment.checkCanPlayType(creative.type)) {
            retainedCreatives = filter_default()(creatives).call(creatives, __filterTypeCreatives.bind(null, creative.type));
          }
        });
      }

      // still no match for supported format - we exit
      if (retainedCreatives.length === 0) {
        // None of the MediaFile provided are supported by the player
        this._rmpVast.rmpVastUtils.processVastErrors(403, true);
        return;
      }

      // sort supported creatives by width
      sort_default()(retainedCreatives).call(retainedCreatives, function (a, b) {
        return a.width - b.width;
      });
      Logger.print('info', "Vavailable linear creative follows", retainedCreatives);

      // we have files matching device capabilities
      // select the best one based on player current width
      var finalCreative;
      var validCreativesByWidth = [];
      var validCreativesByBitrate = [];
      if (retainedCreatives.length > 1) {
        var containerWidth = FW.getWidth(this._rmpVast.container) * Environment.devicePixelRatio;
        var containerHeight = FW.getHeight(this._rmpVast.container) * Environment.devicePixelRatio;
        if (containerWidth > 0 && containerHeight > 0) {
          validCreativesByWidth = filter_default()(retainedCreatives).call(retainedCreatives, function (creative) {
            return containerWidth >= creative.width && containerHeight >= creative.height;
          });
        }
        Logger.print('info', "validCreativesByWidth follow", validCreativesByWidth);

        // if no match by size 
        if (validCreativesByWidth.length === 0) {
          validCreativesByWidth = [retainedCreatives[0]];
        }

        // filter by bitrate to provide best quality
        var rmpConnection = new RmpConnection();
        var availableBandwidth = rmpConnection.bandwidthData.estimate;
        Logger.print('info', "availableBandwidth is ".concat(availableBandwidth, " Mbps"));
        if (availableBandwidth > -1 && validCreativesByWidth.length > 1) {
          // sort supported creatives by bitrates
          sort_default()(validCreativesByWidth).call(validCreativesByWidth, function (a, b) {
            return a.bitrate - b.bitrate;
          });
          // convert to kbps
          availableBandwidth = Math.round(availableBandwidth * 1000);
          validCreativesByBitrate = filter_default()(validCreativesByWidth).call(validCreativesByWidth, function (creative) {
            return availableBandwidth >= creative.bitrate;
          });
          Logger.print('info', "validCreativesByBitrate follow", validCreativesByBitrate);

          // pick max available bitrate
          finalCreative = validCreativesByBitrate[validCreativesByBitrate.length - 1];
        }
      }

      // if no match by bitrate 
      if (!finalCreative) {
        if (validCreativesByWidth.length > 0) {
          finalCreative = validCreativesByWidth[validCreativesByWidth.length - 1];
        } else {
          sort_default()(retainedCreatives).call(retainedCreatives, function (a, b) {
            return a.bitrate - b.bitrate;
          });
          finalCreative = retainedCreatives[retainedCreatives.length - 1];
        }
      }
      Logger.print('info', "selected linear creative follows", finalCreative);
      this._rmpVast.creative.mediaUrl = finalCreative.url;
      this._rmpVast.creative.height = finalCreative.height;
      this._rmpVast.creative.width = finalCreative.width;
      this._rmpVast.creative.type = finalCreative.type;
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.append(finalCreative.url, finalCreative.type);
      }
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/creatives/non-linear.js




var NonLinearCreative = /*#__PURE__*/function () {
  function NonLinearCreative(rmpVast) {
    _classCallCheck(this, NonLinearCreative);
    this._rmpVast = rmpVast;
    this._params = rmpVast.params;
    this._adContainer = rmpVast.adContainer;
    this._container = rmpVast.container;
    this._nonLinearMinSuggestedDuration = 0;
    this._firstContentPlayerPlayRequest = true;
    this._nonLinearCloseElement = null;
    this._nonLinearAElement = null;
    this._nonLinearInnerElement = null;
    this._nonLinearContainerElement = null;
    this._onNonLinearLoadSuccessFn = null;
    this._onNonLinearLoadErrorFn = null;
    this._onNonLinearClickThroughFn = null;
    this._onClickCloseNonLinearFn = null;
  }
  return _createClass(NonLinearCreative, [{
    key: "nonLinearContainerElement",
    get: function get() {
      return this._nonLinearContainerElement;
    }
  }, {
    key: "_onNonLinearLoadError",
    value: function _onNonLinearLoadError() {
      this._rmpVast.rmpVastUtils.processVastErrors(502, true);
    }
  }, {
    key: "_onNonLinearLoadSuccess",
    value: function _onNonLinearLoadSuccess() {
      Logger.print('info', "success loading non-linear creative at ".concat(this._rmpVast.creative.mediaUrl));
      this._rmpVast.__adOnStage = true;
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adloaded', 'adimpression', 'adstarted', 'adcreativeview']);
    }
  }, {
    key: "_onNonLinearClickThrough",
    value: function _onNonLinearClickThrough(event) {
      try {
        if (event) {
          event.stopPropagation();
        }
        this._rmpVast.pause();
        this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');
      } catch (error) {
        Logger.print('warning', error);
      }
    }
  }, {
    key: "_onClickCloseNonLinear",
    value: function _onClickCloseNonLinear(event) {
      if (event) {
        event.stopPropagation();
        if (event.type === 'touchend') {
          event.preventDefault();
        }
      }
      FW.setStyle(this._nonLinearContainerElement, {
        display: 'none'
      });
      this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclosed');
    }
  }, {
    key: "_appendCloseButton",
    value: function _appendCloseButton() {
      var _this = this;
      this._nonLinearCloseElement = document.createElement('div');
      this._nonLinearCloseElement.className = 'rmp-ad-non-linear-close';
      this._rmpVast.rmpVastUtils.makeButtonAccessible(this._nonLinearCloseElement, this._params.labels.closeAd);
      if (this._nonLinearMinSuggestedDuration > 0) {
        FW.setStyle(this._nonLinearCloseElement, {
          display: 'none'
        });
        setTimeout(function () {
          FW.setStyle(_this._nonLinearCloseElement, {
            display: 'block'
          });
        }, this._nonLinearMinSuggestedDuration * 1000);
      } else {
        FW.setStyle(this._nonLinearCloseElement, {
          display: 'block'
        });
      }
      this._onClickCloseNonLinearFn = this._onClickCloseNonLinear.bind(this);
      FW.addEvents(['touchend', 'click'], this._nonLinearCloseElement, this._onClickCloseNonLinearFn);
      this._nonLinearContainerElement.appendChild(this._nonLinearCloseElement);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._nonLinearInnerElement) {
        this._nonLinearInnerElement.removeEventListener('load', this._onNonLinearLoadSuccessFn);
        this._nonLinearInnerElement.removeEventListener('error', this._onNonLinearLoadErrorFn);
      }
      FW.removeEvents(['touchend', 'click'], this._nonLinearAElement, this._onNonLinearClickThroughFn);
      FW.removeEvents(['touchend', 'click'], this._nonLinearCloseElement, this._onClickCloseNonLinearFn);
    }
  }, {
    key: "update",
    value: function update() {
      // non-linear ad container
      this._nonLinearContainerElement = document.createElement('div');
      this._nonLinearContainerElement.className = 'rmp-ad-non-linear-container';
      FW.setStyle(this._nonLinearContainerElement, {
        width: this._rmpVast.creative.width.toString() + 'px',
        height: this._rmpVast.creative.height.toString() + 'px'
      });

      // a tag to handle click - a tag is best for WebView support
      this._nonLinearAElement = document.createElement('a');
      this._nonLinearAElement.className = 'rmp-ad-non-linear-anchor';
      if (this._rmpVast.creative.clickThroughUrl) {
        this._nonLinearAElement.href = this._rmpVast.creative.clickThroughUrl;
        this._nonLinearAElement.target = '_blank';
        this._onNonLinearClickThroughFn = this._onNonLinearClickThrough.bind(this);
        FW.addEvents(['touchend', 'click'], this._nonLinearAElement, this._onNonLinearClickThroughFn);
      }

      // non-linear creative image
      if (this._rmpVast.creative.nonLinearType === 'image') {
        this._nonLinearInnerElement = document.createElement('img');
      } else {
        this._nonLinearInnerElement = document.createElement('iframe');
        this._nonLinearInnerElement.sandbox = 'allow-scripts allow-same-origin';
        FW.setStyle(this._nonLinearInnerElement, {
          border: 'none',
          overflow: 'hidden'
        });
        this._nonLinearInnerElement.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture; encrypted-media');
        this._nonLinearInnerElement.setAttribute('scrolling', 'no');
        this._nonLinearInnerElement.setAttribute('sandbox', 'allow-scripts allow-presentation allow-same-origin');
      }
      this._nonLinearInnerElement.className = 'rmp-ad-non-linear-creative';
      this._onNonLinearLoadErrorFn = this._onNonLinearLoadError.bind(this);
      this._nonLinearInnerElement.addEventListener('error', this._onNonLinearLoadErrorFn);
      this._onNonLinearLoadSuccessFn = this._onNonLinearLoadSuccess.bind(this);
      this._nonLinearInnerElement.addEventListener('load', this._onNonLinearLoadSuccessFn);
      if (this._rmpVast.creative.nonLinearType === 'html') {
        this._nonLinearInnerElement.srcdoc = this._rmpVast.creative.mediaUrl;
      } else {
        this._nonLinearInnerElement.src = this._rmpVast.creative.mediaUrl;
      }

      // append to adContainer
      this._nonLinearAElement.appendChild(this._nonLinearInnerElement);
      this._nonLinearContainerElement.appendChild(this._nonLinearAElement);
      this._adContainer.appendChild(this._nonLinearContainerElement);

      // display a close button when non-linear ad has reached minSuggestedDuration
      this._appendCloseButton();
      FW.show(this._adContainer);
      this._rmpVast.rmpVastContentPlayer.play(this._firstContentPlayerPlayRequest);
      this._firstContentPlayerPlayRequest = false;
    }
  }, {
    key: "parse",
    value: function parse(variations) {
      var _this2 = this;
      Logger.print('info', "non-linear creatives follow", variations);
      var isDimensionError = false;
      var currentVariation;
      // The video player should poll each <NonLinear> element to determine 
      // which creative is offered in a format the video player can support.
      for (var i = 0; i < variations.length; i++) {
        isDimensionError = false;
        currentVariation = variations[i];
        var width = currentVariation.width;
        var height = currentVariation.height;
        // width/height attribute is required
        if (width <= 0) {
          width = 300;
        }
        if (height <= 0) {
          height = 44;
        }
        // if width of non-linear creative does not fit within current player container width 
        // we should skip this creative
        if (width > FW.getWidth(this._container) || height > FW.getHeight(this._container)) {
          isDimensionError = true;
          continue;
        }
        // get minSuggestedDuration (optional)
        this._nonLinearMinSuggestedDuration = currentVariation.minSuggestedDuration;
        var staticResource = currentVariation.staticResource;
        var iframeResource = currentVariation.iframeResource;
        var htmlResource = currentVariation.htmlResource;
        // we have a valid NonLinear/StaticResource with supported creativeType - we break
        if (staticResource !== null || iframeResource !== null || htmlResource !== null) {
          if (staticResource) {
            this._rmpVast.creative.mediaUrl = staticResource;
            this._rmpVast.creative.nonLinearType = 'image';
          } else if (iframeResource) {
            this._rmpVast.creative.mediaUrl = iframeResource;
            this._rmpVast.creative.nonLinearType = 'iframe';
          } else if (htmlResource) {
            this._rmpVast.creative.mediaUrl = htmlResource;
            this._rmpVast.creative.nonLinearType = 'html';
          }
          this._rmpVast.creative.width = width;
          this._rmpVast.creative.height = height;
          this._rmpVast.creative.type = currentVariation.type;
          Logger.print('info', "selected non-linear creative", this._rmpVast.creative);
          break;
        }
      }
      // if not supported NonLinear type ping for error
      if (!this._rmpVast.creative.mediaUrl || isDimensionError) {
        var vastErrorCode = 503;
        if (isDimensionError) {
          vastErrorCode = 501;
        }
        this._rmpVast.rmpVastUtils.processVastErrors(vastErrorCode, true);
        return;
      }
      this._rmpVast.creative.clickThroughUrl = currentVariation.nonlinearClickThroughURLTemplate;
      if (currentVariation.nonlinearClickTrackingURLTemplates.length > 0) {
        currentVariation.nonlinearClickTrackingURLTemplates.forEach(function (nonlinearClickTrackingURLTemplate) {
          if (nonlinearClickTrackingURLTemplate.url) {
            _this2._rmpVast.trackingTags.push({
              event: 'clickthrough',
              url: nonlinearClickTrackingURLTemplate.url
            });
          }
        });
      }
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.append();
      }
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/creatives/companion.js






var CompanionCreative = /*#__PURE__*/function () {
  function CompanionCreative(rmpVast) {
    _classCallCheck(this, CompanionCreative);
    this._rmpVast = rmpVast;
    this.reset();
  }
  return _createClass(CompanionCreative, [{
    key: "requiredAttribute",
    get: function get() {
      return this._requiredAttribute;
    }
  }, {
    key: "_onImgClickThrough",
    value: function _onImgClickThrough(companionClickThroughUrl, companionClickTrackingUrls, event) {
      var _this = this;
      if (event) {
        event.stopPropagation();
        if (event.type === 'touchend') {
          event.preventDefault();
        }
      }
      if (companionClickTrackingUrls) {
        companionClickTrackingUrls.forEach(function (companionClickTrackingUrl) {
          if (companionClickTrackingUrl.url) {
            _this._rmpVast.rmpVastTracking.pingURI(companionClickTrackingUrl.url);
          }
        });
      }
      FW.openWindow(companionClickThroughUrl);
    }
  }, {
    key: "reset",
    value: function reset() {
      this._requiredAttribute = '';
      this._validCompanionAds = [];
      this._companionAdsList = [];
    }
  }, {
    key: "parse",
    value: function parse(creative) {
      var _this2 = this;
      // reset variables in case wrapper
      this._validCompanionAds = [];
      this._requiredAttribute = '';
      if (creative.required) {
        this._requiredAttribute = creative.required;
      }
      var companions = creative.variations;
      // at least 1 Companion is expected to continue
      if (companions.length > 0) {
        var _loop = function _loop() {
          var _context, _context2, _context3;
          var companion = companions[i];
          var newCompanionAds = {
            width: companion.width,
            height: companion.height
          };
          var staticResourceFound = find_default()(_context = companion.staticResources).call(_context, function (staticResource) {
            if (staticResource.url) {
              return true;
            }
          });
          var iframeResourceFound = find_default()(_context2 = companion.iframeResources).call(_context2, function (iframeResource) {
            if (iframeResource) {
              return true;
            }
          });
          var htmlResourceFound = find_default()(_context3 = companion.htmlResources).call(_context3, function (htmlResource) {
            if (htmlResource) {
              return true;
            }
          });
          if (staticResourceFound && staticResourceFound.url) {
            newCompanionAds.imageUrl = staticResourceFound.url;
          }
          if (iframeResourceFound && iframeResourceFound.length > 0) {
            newCompanionAds.iframeUrl = iframeResourceFound;
          }
          if (htmlResourceFound && htmlResourceFound.length > 0) {
            newCompanionAds.htmlContent = htmlResourceFound;
          }
          // if no companion content for this <Companion> then move on to the next
          if (typeof staticResourceFound === 'undefined' && typeof iframeResourceFound === 'undefined' && typeof htmlResourceFound === 'undefined') {
            return 1; // continue
          }
          if (companion.companionClickThroughURLTemplate) {
            newCompanionAds.companionClickThroughUrl = companion.companionClickThroughURLTemplate;
          }
          if (companion.companionClickTrackingURLTemplates.length > 0) {
            newCompanionAds.companionClickTrackingUrls = companion.companionClickTrackingURLTemplates;
          }
          if (companion.altText) {
            newCompanionAds.altText = companion.altText;
          }
          if (companion.adSlotId) {
            newCompanionAds.adSlotId = companion.adSlotId;
          }
          newCompanionAds.trackingEventsUrls = [];
          if (companion.trackingEvents && companion.trackingEvents.creativeView) {
            companion.trackingEvents.creativeView.forEach(function (creativeView) {
              newCompanionAds.trackingEventsUrls.push(creativeView);
            });
          }
          _this2._validCompanionAds.push(newCompanionAds);
        };
        for (var i = 0; i < companions.length; i++) {
          if (_loop()) continue;
        }
      }
      Logger.print('info', "Parse companion ads follow", this._validCompanionAds);
    }
  }, {
    key: "getList",
    value: function getList(inputWidth, inputHeight) {
      if (this._validCompanionAds.length > 0) {
        var availableCompanionAds;
        if (typeof inputWidth === 'number' && inputWidth > 0 && typeof inputHeight === 'number' && inputHeight > 0) {
          var _context4;
          availableCompanionAds = filter_default()(_context4 = this._validCompanionAds).call(_context4, function (companionAds) {
            return inputWidth >= companionAds.width && inputHeight >= companionAds.height;
          });
        } else {
          availableCompanionAds = this._validCompanionAds;
        }
        if (availableCompanionAds.length > 0) {
          this._companionAdsList = availableCompanionAds;
          return this._companionAdsList;
        }
      }
      return [];
    }
  }, {
    key: "getItem",
    value: function getItem(index) {
      var _this3 = this;
      if (typeof this._companionAdsList[index] === 'undefined') {
        return null;
      }
      var companionAd = this._companionAdsList[index];
      var html;
      if (companionAd.imageUrl || companionAd.iframeUrl) {
        if (companionAd.imageUrl) {
          html = document.createElement('img');
        } else {
          html = document.createElement('iframe');
          html.sandbox = 'allow-scripts allow-same-origin';
        }
        if (companionAd.altText) {
          html.alt = companionAd.altText;
        }
        html.width = companionAd.width;
        html.height = companionAd.height;
        html.style.cursor = 'pointer';
      } else if (companionAd.htmlContent) {
        html = companionAd.htmlContent;
      }
      if (companionAd.imageUrl || companionAd.iframeUrl) {
        var trackingEventsUrls = companionAd.trackingEventsUrls;
        if (trackingEventsUrls.length > 0) {
          html.onload = function () {
            trackingEventsUrls.forEach(function (trackingEventsUrl) {
              _this3._rmpVast.rmpVastTracking.pingURI(trackingEventsUrl);
            });
          };
          html.onerror = function () {
            _this3._rmpVast.rmpVastTracking.error(603);
          };
        }
        var companionClickTrackingUrls = null;
        if (companionAd.companionClickTrackingUrls) {
          Logger.print('info', "Companion click tracking URIs", companionClickTrackingUrls);
          companionClickTrackingUrls = companionAd.companionClickTrackingUrls;
        }
        if (companionAd.companionClickThroughUrl) {
          var _onImgClickThroughFn = this._onImgClickThrough.bind(this, companionAd.companionClickThroughUrl, companionClickTrackingUrls);
          FW.addEvents(['touchend', 'click'], html, _onImgClickThroughFn);
        }
      }
      if (companionAd.imageUrl) {
        html.src = companionAd.imageUrl;
      } else if (companionAd.iframeUrl) {
        html.src = companionAd.iframeUrl;
      } else if (companionAd.htmlContent) {
        try {
          var parser = new DOMParser();
          html = parser.parseFromString(companionAd.htmlContent, 'text/html');
          html = html.documentElement;
        } catch (e) {
          return null;
        }
      }
      return html;
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/players/ad-player.js





var AdPlayer = /*#__PURE__*/function () {
  function AdPlayer(rmpVast) {
    _classCallCheck(this, AdPlayer);
    this._rmpVast = rmpVast;
    this._params = rmpVast.params;
    this._contentPlayer = rmpVast.currentContentPlayer;
    this._adContainer = rmpVast.adContainer;
    this._contentWrapper = rmpVast.contentWrapper;
    this._adPlayer = null;
  }
  return _createClass(AdPlayer, [{
    key: "volume",
    get: function get() {
      if (this._adPlayer) {
        return this._adPlayer.volume;
      }
      return -1;
    },
    set: function set(level) {
      if (this._adPlayer) {
        this._adPlayer.volume = level;
      }
    }
  }, {
    key: "muted",
    get: function get() {
      if (this._adPlayer) {
        return this._adPlayer.muted;
      }
      return false;
    },
    set: function set(muted) {
      if (this._adPlayer) {
        if (muted && !this._adPlayer.muted) {
          this._adPlayer.muted = true;
        } else if (!muted && this._adPlayer.muted) {
          this._adPlayer.muted = false;
        }
      }
    }
  }, {
    key: "duration",
    get: function get() {
      if (this._adPlayer && FW.isNumber(this._adPlayer.duration)) {
        return this._adPlayer.duration * 1000;
      }
      return -1;
    }
  }, {
    key: "currentTime",
    get: function get() {
      if (this._adPlayer && FW.isNumber(this._adPlayer.currentTime)) {
        return this._adPlayer.currentTime * 1000;
      }
      return -1;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      Logger.print('info', "start destroying ad player");

      // destroy icons if any 
      if (this._rmpVast.rmpVastIcons) {
        this._rmpVast.rmpVastIcons.destroy();
      }
      if (this._rmpVast.rmpVastVpaidPlayer) {
        this._rmpVast.rmpVastVpaidPlayer.destroy();
      }

      // reset non-linear creative
      if (this._rmpVast.rmpVastNonLinearCreative) {
        this._rmpVast.rmpVastNonLinearCreative.destroy();
      }

      // reset linear creative
      if (this._rmpVast.rmpVastLinearCreative) {
        this._rmpVast.rmpVastLinearCreative.destroy();
      }

      // unwire events
      this._rmpVast.rmpVastTracking.destroy();

      // hide rmp-ad-container
      FW.hide(this._adContainer);

      // unwire anti-seek logic (iOS)
      if (this._rmpVast.rmpVastContentPlayer) {
        this._rmpVast.rmpVastContentPlayer.destroy();
      }
      // flush currentAdPlayer
      try {
        if (this._adPlayer) {
          this._adPlayer.pause();
          if (this._rmpVast.rmpVastLinearCreative && this._rmpVast.rmpVastLinearCreative.readingHlsJS) {
            this._rmpVast.rmpVastLinearCreative.readingHlsJS = false;
            this._rmpVast.rmpVastLinearCreative.hlsJSInstances[this._rmpVast.rmpVastLinearCreative.hlsJSIndex].destroy();
            this._rmpVast.rmpVastLinearCreative.hlsJSIndex = this._rmpVast.rmpVastLinearCreative.hlsJSIndex++;
          } else {
            // empty buffer
            this._adPlayer.removeAttribute('src');
            this._adPlayer.load();
          }
          FW.hide(this._adPlayer);
          Logger.print('info', "flushing currentAdPlayer buffer after ad");
        }
        if (this._rmpVast.rmpVastNonLinearCreative) {
          FW.removeElement(this._rmpVast.rmpVastNonLinearCreative.nonLinearContainerElement);
        }
      } catch (error) {
        Logger.print('warning', error);
      }
      this._rmpVast.resetVariablesForNewLoadAds();
      this._rmpVast.rmpVastUtils.createApiEvent('addestroyed');
    }
  }, {
    key: "init",
    value: function init() {
      var _this = this;
      this._rmpVast.adContainer = this._adContainer = document.createElement('div');
      this._adContainer.className = 'rmp-ad-container';
      this._contentWrapper.appendChild(this._adContainer);
      FW.hide(this._adContainer);
      this._rmpVast.currentAdPlayer = this._adPlayer = document.createElement('video');
      Logger.printVideoEvents(this._adPlayer, 'ad');
      // disable native UI cast/PiP for ad player
      this._adPlayer.disableRemotePlayback = true;
      this._adPlayer.disablePictureInPicture = true;
      this._adPlayer.className = 'rmp-ad-vast-video-player';
      if (this._params.showControlsForAdPlayer) {
        this._adPlayer.controls = true;
      } else {
        this._adPlayer.controls = false;
      }

      // this.currentContentPlayer.muted may not be set because of a bug in some version of Chromium
      if (this._contentPlayer.hasAttribute('muted')) {
        this._contentPlayer.muted = true;
      }
      if (this._contentPlayer.muted) {
        this._adPlayer.muted = true;
      }
      // black poster based 64 png
      this._adPlayer.poster = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=';
      // note to myself: we use setAttribute for non-standard attribute (instead of . notation)
      this._adPlayer.setAttribute('x-webkit-airplay', 'allow');
      if (typeof this._contentPlayer.playsInline === 'boolean' && this._contentPlayer.playsInline) {
        this._adPlayer.playsInline = true;
      }
      // append to rmp-ad-container
      FW.hide(this._adPlayer);
      this._adContainer.appendChild(this._adPlayer);

      // we track ended state for content player
      this._contentPlayer.addEventListener('ended', function () {
        if (_this._rmpVast.__adOnStage) {
          return;
        }
        _this._rmpVast.contentCompleted = true;
      });
      // we need to preload as much creative data as possible
      // also on macOS and iOS Safari we need to force preload to avoid 
      // playback issues
      this._adPlayer.preload = 'auto';
      // we need to init the ad player video tag
      // according to https://developers.google.com/interactive-media-ads/docs/sdks/html5/mobile_video
      // to initialize the content element, a call to the load() method is sufficient.
      if (Environment.isMobile) {
        // on Android both this.currentContentPlayer (to resume content)
        // and this.currentAdPlayer (to start ads) needs to be init
        // on iOS only init this.currentAdPlayer (as same as this.currentContentPlayer)
        this._contentPlayer.load();
        this._adPlayer.load();
      }
      this._rmpVast.rmpVastInitialized = true;
    }
  }, {
    key: "append",
    value: function append(url, type) {
      // in case loadAds is called several times - rmpVastInitialized is already true
      // but we still need to locate the currentAdPlayer
      if (!this._adPlayer) {
        // we use existing ad player as it is already 
        // available and initialized (no need for user interaction)
        var existingAdPlayer = null;
        if (this._adContainer) {
          existingAdPlayer = this._adContainer.querySelector('.rmp-ad-vast-video-player');
        }
        if (existingAdPlayer === null) {
          this._rmpVast.rmpVastUtils.processVastErrors(900, true);
          return;
        }
        this._adPlayer = existingAdPlayer;
      }
      this._rmpVast.rmpVastContentPlayer.pause();
      if (!this._rmpVast.creative.isLinear) {
        // we do not display non-linear ads with outstream ad 
        // they won't fit the format
        if (this._params.outstream) {
          Logger.print('info', "non-linear creative detected for outstream ad mode - discarding creative");
          this._rmpVast.rmpVastUtils.processVastErrors(201, true);
          return;
        } else {
          if (this._rmpVast.rmpVastNonLinearCreative) {
            this._rmpVast.rmpVastNonLinearCreative.update();
          }
        }
      } else {
        if (url && type && this._rmpVast.rmpVastLinearCreative) {
          this._rmpVast.rmpVastLinearCreative.update(url, type);
        }
      }
      // wire tracking events
      this._rmpVast.rmpVastTracking.wire();

      // append icons - only where ad player is different from 
      // content player
      if (this._rmpVast.rmpVastIcons) {
        var iconsData = this._rmpVast.rmpVastIcons.iconsData;
        if (iconsData.length > 0) {
          this._rmpVast.rmpVastIcons.append();
        }
      }
    }
  }, {
    key: "play",
    value: function play(firstAdPlayerPlayRequest) {
      if (this._adPlayer && this._adPlayer.paused) {
        this._rmpVast.rmpVastUtils.playPromise('vast', firstAdPlayerPlayRequest);
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      if (this._adPlayer && !this._adPlayer.paused) {
        this._adPlayer.pause();
      }
    }
  }, {
    key: "resumeContent",
    value: function resumeContent() {
      Logger.print('info', "AdPlayer resumeContent requested");
      if (this._rmpVast.rmpVastAdPlayer) {
        this._rmpVast.rmpVastAdPlayer.destroy();
      }
      if (this._rmpVast.rmpVastLinearCreative) {
        this._rmpVast.rmpVastLinearCreative.readingHlsJS = false;
      }
      // if contentPlayerCompleted = true - we are in a post-roll situation
      // in that case we must not resume content once the post-roll has completed
      // you can use contentPlayerCompleted to support 
      // custom use-cases when dynamically changing source for content
      // no need to resume content for outstream ads
      if (!this._rmpVast.contentCompleted && !this._params.outstream) {
        Logger.print('info', "content player play requested after ad player resumeContent");
        this._rmpVast.rmpVastContentPlayer.play();
      }
      this._rmpVast.contentCompleted = false;
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/verification/omsdk.js






var OmSdkManager = /*#__PURE__*/function () {
  function OmSdkManager(adVerifications, rmpVast) {
    _classCallCheck(this, OmSdkManager);
    this._rmpVast = rmpVast;
    this.VastProperties = null;
    this._adEvents = null;
    this._mediaEvents = null;
    this._adSession = null;
    this._lastVideoTime = -1;
    this._adVerifications = adVerifications;
    this._onFullscreenChangeFn = null;
    this._contentPlayer = rmpVast.currentContentPlayer;
    this._adPlayer = rmpVast.currentAdPlayer;
    this._params = rmpVast.params;
    this._isSkippableAd = rmpVast.isSkippableAd;
    this._skipTimeOffset = rmpVast.skipTimeOffset;
  }
  return _createClass(OmSdkManager, [{
    key: "_destroy",
    value: function _destroy() {
      document.removeEventListener('fullscreenchange', this._onFullscreenChangeFn);
      this._adSession.finish();
    }
  }, {
    key: "_onFullscreenChange",
    value: function _onFullscreenChange() {
      var isFullscreen = document.fullscreenElement !== null;
      var playerState = isFullscreen ? 'fullscreen' : 'normal';
      this._mediaEvents.playerStateChange(playerState);
    }
  }, {
    key: "_pingVerificationNotExecuted",
    value: function _pingVerificationNotExecuted(verification, reasonCode) {
      var _this = this;
      if (typeof verification.trackingEvents !== 'undefined' && Array.isArray(verification.trackingEvents.verificationNotExecuted) && verification.trackingEvents.verificationNotExecuted.length > 0) {
        verification.trackingEvents.verificationNotExecuted.forEach(function (verificationNotExecutedURI) {
          var validatedURI = verificationNotExecutedURI;
          var reasonPattern = /\[REASON\]/gi;
          if (reasonPattern.test(validatedURI)) {
            validatedURI = validatedURI.replace(reasonPattern, reasonCode);
          }
          _this._rmpVast.rmpVastTracking.pingURI(validatedURI);
        });
      }
    }
  }, {
    key: "_adPlayerDidDispatchTimeUpdate",
    value: function _adPlayerDidDispatchTimeUpdate() {
      var _this2 = this;
      if (!this._adEvents || !this._mediaEvents || !this._adPlayer || this._adPlayer.playbackRate === 0) {
        return;
      }
      // Check if playback has crossed a quartile threshold, and report that to
      // the OMSDK.
      var adPlayerCurrentTime = this._adPlayer.currentTime;
      var adPlayerDuration = this._adPlayer.duration;
      if (adPlayerCurrentTime > -1 && adPlayerDuration > 0) {
        var currentVideoTimePerCent = adPlayerCurrentTime / adPlayerDuration;
        if (this._lastVideoTime < 0 && currentVideoTimePerCent >= 0) {
          this._adEvents.impressionOccurred();
          this._mediaEvents.start(adPlayerDuration, this._adPlayer.volume);
        } else if (this._lastVideoTime < 0.25 && currentVideoTimePerCent >= 0.25) {
          this._mediaEvents.firstQuartile();
        } else if (this._lastVideoTime < 0.5 && currentVideoTimePerCent >= 0.5) {
          this._mediaEvents.midpoint();
        } else if (this._lastVideoTime < 0.75 && currentVideoTimePerCent >= 0.75) {
          this._mediaEvents.thirdQuartile();
        } else if (this._lastVideoTime < 1 && currentVideoTimePerCent >= 1) {
          this._mediaEvents.complete();
          // to prevent ad pod to fire verification events
          this._adEvents = null;
          this._mediaEvents = null;
          // Wait 300 ms, then finish the session.
          setTimeout(function () {
            _this2._destroy();
          }, 300);
        }
        this._lastVideoTime = currentVideoTimePerCent;
      }
    }
  }, {
    key: "_adPlayerDidDispatchEvent",
    value: function _adPlayerDidDispatchEvent(event) {
      if (!this._adSession || !this._adEvents || !this._mediaEvents || !this.VastProperties) {
        return;
      }
      var vastProperties, volume;
      var videoPosition = 'preroll';
      switch (event.type) {
        case 'error':
          this._adSession.error('video', this._adPlayer.error.message);
          break;
        case 'loadeddata':
          if (this._skipTimeOffset < 0) {
            this._skipTimeOffset = 0;
          }
          if (this._params.outstream) {
            videoPosition = 'standalone';
          } else {
            var contentPlayerCurrentTime = this._contentPlayer.currentTime;
            var contentPlayerDuration = this._contentPlayer.duration;
            if (contentPlayerCurrentTime > 0 && contentPlayerCurrentTime < contentPlayerDuration) {
              videoPosition === 'midroll';
            } else if (contentPlayerCurrentTime >= contentPlayerDuration) {
              videoPosition = 'postroll';
            }
          }
          vastProperties = new this.VastProperties(this._isSkippableAd, this._skipTimeOffset, this._params.omidAutoplay, videoPosition);
          this._adEvents.loaded(vastProperties);
          break;
        case 'pause':
          this._mediaEvents.pause();
          break;
        case 'play':
          if (this._adPlayer.currentTime > 0) {
            this._mediaEvents.resume();
          }
          break;
        case 'timeupdate':
          this._adPlayerDidDispatchTimeUpdate();
          break;
        case 'volumechange':
          volume = this._adPlayer.muted ? 0 : this._adPlayer.volume;
          this._mediaEvents.volumeChange(volume);
          break;
        case 'click':
          this._mediaEvents.adUserInteraction('click');
          break;
        default:
          break;
      }
    }
  }, {
    key: "_onOMWebLoaded",
    value: function _onOMWebLoaded() {
      var _this3 = this;
      // remove executable to only have JavaScriptResource
      var validatedVerificationArray = [];
      // we only execute browserOptional="false" unless there are none 
      // in which case we will look for browserOptional="true"
      var browserOptional = [];
      for (var i = 0; i < this._adVerifications.length; i++) {
        var verification = this._adVerifications[i];
        if (typeof verification.resource !== 'string' || verification.resource === '') {
          continue;
        }
        // Ping rejection code 2
        // Verification not supported. The API framework or language type of
        // verification resources provided are not implemented or supported by
        // the player/SDK
        if (typeof verification.type !== 'undefined' && verification.type === 'executable') {
          this._pingVerificationNotExecuted(verification, '2');
          continue;
        }
        // if not OMID, we reject
        if (typeof verification.apiFramework !== 'undefined' && verification.apiFramework !== 'omid') {
          this._pingVerificationNotExecuted(verification, '2');
          continue;
        }
        // reject vendors not in omidAllowedVendors if omidAllowedVendors is not empty
        if (this._params.omidAllowedVendors.length > 0 && typeof verification.vendor !== 'undefined') {
          var _context;
          if (!includes_default()(_context = this._params.omidAllowedVendors).call(_context, verification.vendor)) {
            continue;
          }
        }
        if (typeof verification.browserOptional !== 'undefined' && verification.browserOptional === true) {
          browserOptional.push(i);
          continue;
        }
        validatedVerificationArray.push(verification);
      }
      if (validatedVerificationArray.length === 0 && browserOptional.length > 0) {
        browserOptional.forEach(function (browserOptionalItem) {
          validatedVerificationArray.push(_this3._adVerifications[browserOptionalItem]);
        });
      }
      this._adVerifications = validatedVerificationArray;
      var sessionClient;
      try {
        sessionClient = OmidSessionClient['default'];
      } catch (error) {
        Logger.print('warning', error);
        return;
      }
      var AdSession = sessionClient.AdSession;
      var Partner = sessionClient.Partner;
      var Context = sessionClient.Context;
      var VerificationScriptResource = sessionClient.VerificationScriptResource;
      var AdEvents = sessionClient.AdEvents;
      var MediaEvents = sessionClient.MediaEvents;
      this.VastProperties = sessionClient.VastProperties;
      var partner = new Partner(this._params.partnerName, this._params.partnerVersion);
      var resources = [];
      if (this._params.omidRunValidationScript) {
        // https://interactiveadvertisingbureau.github.io/Open-Measurement-SDKJS/validation.html
        var VALIDATION_SCRIPT_URL = 'https://cdn.radiantmediatechs.com/rmp/omsdk/1.3.37/omid-validation-verification-script-v1.js';
        var VENDOR_KEY = 'dummyVendor'; // you must use this value as is
        var PARAMS = stringify_default()({
          'k': 'v'
        });
        resources.push(new VerificationScriptResource(VALIDATION_SCRIPT_URL, VENDOR_KEY, PARAMS));
      } else {
        var _context2;
        // we support Access Modes Creative Access a.k.a full (we do not support Domain Access for now)
        var accessMode = 'full';
        resources = instance_map_default()(_context2 = this._adVerifications).call(_context2, function (verification) {
          return new VerificationScriptResource(verification.resource, verification.vendor, verification.parameters, accessMode);
        });
      }
      var contentUrl = document.location.href;
      var context = new Context(partner, resources, contentUrl);
      Logger.print('info', "", resources);
      if (this._params.omidUnderEvaluation) {
        context.underEvaluation = true;
      }
      var omdSdkServiceWindow = window.top;
      if (!omdSdkServiceWindow) {
        Logger.print('info', "OMSDK: invalid serviceWindow - return");
        return;
      }
      context.setServiceWindow(omdSdkServiceWindow);
      context.setVideoElement(this._adPlayer);
      Logger.print('info', "", context);
      this._adSession = new AdSession(context);
      this._adSession.setCreativeType('video');
      this._adSession.setImpressionType('beginToRender');
      if (!this._adSession.isSupported()) {
        Logger.print('info', "OMSDK: invalid serviceWindow - return");
        return;
      }
      this._adEvents = new AdEvents(this._adSession);
      this._mediaEvents = new MediaEvents(this._adSession);
      this._adSession.start();
    }
  }, {
    key: "init",
    value: function init() {
      var _this4 = this;
      var videoEventTypes = ['error', 'loadeddata', 'pause', 'play', 'timeupdate', 'volumechange', 'click'];

      // handle ad player events
      videoEventTypes.forEach(function (eventType) {
        _this4._adPlayer.addEventListener(eventType, function (event) {
          return _this4._adPlayerDidDispatchEvent(event);
        });
      });
      // handle fullscreenchange 
      this._onFullscreenChangeFn = this._onFullscreenChange.bind(this);
      document.addEventListener('fullscreenchange', this._onFullscreenChangeFn);
      // Service Script To incorporate omweb-v1.js, use a <script> tag - we are assuming it is there
      this._onOMWebLoaded();
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/splice.js
var splice = __webpack_require__(385);
var splice_default = /*#__PURE__*/__webpack_require__.n(splice);
;// CONCATENATED MODULE: ./src/js/framework/dispatcher.js





var Dispatcher = /*#__PURE__*/function () {
  function Dispatcher(eventName) {
    _classCallCheck(this, Dispatcher);
    this.eventName = eventName;
    this.callbacks = [];
  }
  return _createClass(Dispatcher, [{
    key: "registerCallback",
    value: function registerCallback(callback) {
      this.callbacks.push(callback);
    }
  }, {
    key: "unregisterCallback",
    value: function unregisterCallback(callback) {
      var _context;
      var index = index_of_default()(_context = this.callbacks).call(_context, callback);
      if (index > -1) {
        var _context2;
        splice_default()(_context2 = this.callbacks).call(_context2, index, 1);
      }
    }
  }, {
    key: "fire",
    value: function fire(data) {
      var _context3;
      var callbacks = instance_slice_default()(_context3 = this.callbacks).call(_context3, 0);
      callbacks.forEach(function (callback) {
        callback(data);
      });
    }
  }]);
}();

;// CONCATENATED MODULE: ./src/js/players/content-player.js



var ContentPlayer = /*#__PURE__*/function () {
  function ContentPlayer(rmpVast) {
    _classCallCheck(this, ContentPlayer);
    this._rmpVast = rmpVast;
    this._contentPlayer = rmpVast.currentContentPlayer;
    this._customPlaybackCurrentTime = 0;
    this._antiSeekLogicInterval = null;
  }
  return _createClass(ContentPlayer, [{
    key: "volume",
    get: function get() {
      if (this._contentPlayer) {
        return this._contentPlayer.volume;
      }
      return -1;
    },
    set: function set(level) {
      if (this._contentPlayer) {
        this._contentPlayer.volume = level;
      }
    }
  }, {
    key: "muted",
    get: function get() {
      if (this._contentPlayer) {
        return this._contentPlayer.muted;
      }
      return false;
    },
    set: function set(muted) {
      if (this._contentPlayer) {
        if (muted && !this._contentPlayer.muted) {
          this._contentPlayer.muted = true;
        } else if (!muted && this._contentPlayer.muted) {
          this._contentPlayer.muted = false;
        }
      }
    }
  }, {
    key: "currentTime",
    get: function get() {
      if (this._contentPlayer && FW.isNumber(this._contentPlayer.currentTime)) {
        return this._contentPlayer.currentTime * 1000;
      }
      return -1;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      FW.clearInterval(this._antiSeekLogicInterval);
    }
  }, {
    key: "play",
    value: function play(firstContentPlayerPlayRequest) {
      if (this._contentPlayer && this._contentPlayer.paused) {
        this._rmpVast.rmpVastUtils.playPromise('content', firstContentPlayerPlayRequest);
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      if (this._contentPlayer && !this._contentPlayer.paused) {
        this._contentPlayer.pause();
      }
    }
  }, {
    key: "seekTo",
    value: function seekTo(msSeek) {
      if (!FW.isNumber(msSeek)) {
        return;
      }
      if (msSeek >= 0 && this._contentPlayer) {
        this._contentPlayer.currentTime = msSeek / 1000;
      }
    }
  }, {
    key: "preventSeekingForCustomPlayback",
    value: function preventSeekingForCustomPlayback() {
      var _this = this;
      // after much poking it appears we cannot rely on seek events for iOS to 
      // set this up reliably - so interval it is
      if (this._contentPlayer) {
        this._antiSeekLogicInterval = setInterval(function () {
          if (_this._rmpVast.creative.isLinear && _this._rmpVast.__adOnStage) {
            var diff = Math.abs(_this._customPlaybackCurrentTime - _this._contentPlayer.currentTime);
            if (diff > 1) {
              _this._contentPlayer.currentTime = _this._customPlaybackCurrentTime;
            }
            _this._customPlaybackCurrentTime = _this._contentPlayer.currentTime;
          }
        }, 200);
      }
    }
  }]);
}();

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/object/assign.js
var object_assign = __webpack_require__(9544);
var assign_default = /*#__PURE__*/__webpack_require__.n(object_assign);
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/util/storage.js



var storage = null;

/**
 * This Object represents a default storage to be used in case no other storage is available.
 * @constant
 * @type {Object}
 */
var DEFAULT_STORAGE = {
  data: {},
  length: 0,
  getItem: function getItem(key) {
    return this.data[key];
  },
  setItem: function setItem(key, value) {
    this.data[key] = value;
    this.length = keys_default()(this.data).length;
  },
  removeItem: function removeItem(key) {
    delete this.data[key];
    this.length = keys_default()(this.data).length;
  },
  clear: function clear() {
    this.data = {};
    this.length = 0;
  }
};

/**
 * This class provides an wrapper interface to the a key-value storage.
 * It uses localStorage, sessionStorage or a custom storage if none of the two is available.
 * @export
 * @class Storage
 */
var Storage = /*#__PURE__*/function () {
  /**
   * Creates an instance of Storage.
   * @constructor
   */
  function Storage() {
    _classCallCheck(this, Storage);
    this.storage = this.initStorage();
  }

  /**
   * Provides a singleton instance of the wrapped storage.
   * @return {Object}
   */
  return _createClass(Storage, [{
    key: "initStorage",
    value: function initStorage() {
      if (storage) {
        return storage;
      }
      try {
        storage = typeof window !== 'undefined' && window !== null ? window.localStorage || window.sessionStorage : null;
      } catch (storageError) {
        storage = null;
      }
      if (!storage || this.isStorageDisabled(storage)) {
        storage = DEFAULT_STORAGE;
        storage.clear();
      }
      return storage;
    }

    /**
     * Check if storage is disabled (like in certain cases with private browsing).
     * In Safari (Mac + iOS) when private browsing is ON, localStorage is read only
     * http://spin.atomicobject.com/2013/01/23/ios-private-browsing-localstorage/
     * @param {Object} testStorage - The storage to check.
     * @return {Boolean}
     */
  }, {
    key: "isStorageDisabled",
    value: function isStorageDisabled(testStorage) {
      var testValue = '__VASTStorage__';
      try {
        testStorage.setItem(testValue, testValue);
        if (testStorage.getItem(testValue) !== testValue) {
          testStorage.removeItem(testValue);
          return true;
        }
      } catch (e) {
        return true;
      }
      testStorage.removeItem(testValue);
      return false;
    }

    /**
     * Returns the value for the given key. If the key does not exist, null is returned.
     * @param  {String} key - The key to retrieve the value.
     * @return {any}
     */
  }, {
    key: "getItem",
    value: function getItem(key) {
      return this.storage.getItem(key);
    }

    /**
     * Adds or updates the value for the given key.
     * @param  {String} key - The key to modify the value.
     * @param  {any} value - The value to be associated with the key.
     * @return {any}
     */
  }, {
    key: "setItem",
    value: function setItem(key, value) {
      return this.storage.setItem(key, value);
    }

    /**
     * Removes an item for the given key.
     * @param  {String} key - The key to remove the value.
     * @return {any}
     */
  }, {
    key: "removeItem",
    value: function removeItem(key) {
      return this.storage.removeItem(key);
    }

    /**
     * Removes all the items from the storage.
     */
  }, {
    key: "clear",
    value: function clear() {
      return this.storage.clear();
    }
  }]);
}();
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/reflect/construct.js
var construct = __webpack_require__(2574);
var construct_default = /*#__PURE__*/__webpack_require__.n(construct);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/assertThisInitialized.js
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn.js


function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }
  return _assertThisInitialized(self);
}
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/reflect/construct.js
var reflect_construct = __webpack_require__(594);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/isNativeReflectConstruct.js

function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(reflect_construct(Boolean, [], function () {}));
  } catch (t) {}
  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  })();
}
// EXTERNAL MODULE: ./node_modules/core-js-pure/full/instance/bind.js
var bind = __webpack_require__(2698);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/getPrototypeOf.js



function _getPrototypeOf(o) {
  var _context;
  _getPrototypeOf = set_prototype_of ? bind(_context = get_prototype_of).call(_context) : function _getPrototypeOf(o) {
    return o.__proto__ || get_prototype_of(o);
  };
  return _getPrototypeOf(o);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/setPrototypeOf.js


function _setPrototypeOf(o, p) {
  var _context;
  _setPrototypeOf = set_prototype_of ? bind(_context = set_prototype_of).call(_context) : function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return _setPrototypeOf(o, p);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/inherits.js



function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  define_property(subClass, "prototype", {
    writable: false
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/ad.js
function createAd() {
  var adAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    id: adAttributes.id || null,
    sequence: adAttributes.sequence || null,
    adType: adAttributes.adType || null,
    adServingId: null,
    categories: [],
    expires: null,
    viewableImpression: [],
    system: null,
    title: null,
    description: null,
    advertiser: null,
    pricing: null,
    survey: null,
    // @deprecated in VAST 4.1
    errorURLTemplates: [],
    impressionURLTemplates: [],
    creatives: [],
    extensions: [],
    adVerifications: [],
    blockedAdCategories: [],
    followAdditionalWrappers: true,
    allowMultipleAds: false,
    fallbackOnNoAd: null
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/ad_verification.js
function createAdVerification() {
  return {
    resource: null,
    vendor: null,
    browserOptional: false,
    apiFramework: null,
    type: null,
    parameters: null,
    trackingEvents: {}
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/companion_ad.js
function createCompanionAd() {
  var creativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    id: creativeAttributes.id || null,
    adType: 'companionAd',
    width: creativeAttributes.width || 0,
    height: creativeAttributes.height || 0,
    assetWidth: creativeAttributes.assetWidth || null,
    assetHeight: creativeAttributes.assetHeight || null,
    expandedWidth: creativeAttributes.expandedWidth || null,
    expandedHeight: creativeAttributes.expandedHeight || null,
    apiFramework: creativeAttributes.apiFramework || null,
    adSlotId: creativeAttributes.adSlotId || null,
    pxratio: creativeAttributes.pxratio || '1',
    renderingMode: creativeAttributes.renderingMode || 'default',
    staticResources: [],
    htmlResources: [],
    iframeResources: [],
    adParameters: null,
    altText: null,
    companionClickThroughURLTemplate: null,
    companionClickTrackingURLTemplates: [],
    trackingEvents: {}
  };
}
function isCompanionAd(ad) {
  return ad.adType === 'companionAd';
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/creative/creative.js
function createCreative() {
  var creativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    id: creativeAttributes.id || null,
    adId: creativeAttributes.adId || null,
    sequence: creativeAttributes.sequence || null,
    apiFramework: creativeAttributes.apiFramework || null,
    universalAdIds: [],
    creativeExtensions: []
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/creative/creative_companion.js

function createCreativeCompanion() {
  var creativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _createCreative = createCreative(creativeAttributes),
    id = _createCreative.id,
    adId = _createCreative.adId,
    sequence = _createCreative.sequence,
    apiFramework = _createCreative.apiFramework;
  return {
    id: id,
    adId: adId,
    sequence: sequence,
    apiFramework: apiFramework,
    type: 'companion',
    required: null,
    variations: []
  };
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/last-index-of.js
var last_index_of = __webpack_require__(6712);
var last_index_of_default = /*#__PURE__*/__webpack_require__.n(last_index_of);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js
var trim = __webpack_require__(1265);
var trim_default = /*#__PURE__*/__webpack_require__.n(trim);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-names.js
var get_own_property_names = __webpack_require__(9493);
var get_own_property_names_default = /*#__PURE__*/__webpack_require__.n(get_own_property_names);
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/pad-start.js
var pad_start = __webpack_require__(4929);
var pad_start_default = /*#__PURE__*/__webpack_require__.n(pad_start);
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/util/macros.js
var supportedMacros = ['ADCATEGORIES', 'ADCOUNT', 'ADPLAYHEAD', 'ADSERVINGID', 'ADTYPE', 'APIFRAMEWORKS', 'APPBUNDLE', 'ASSETURI', 'BLOCKEDADCATEGORIES', 'BREAKMAXADLENGTH', 'BREAKMAXADS', 'BREAKMAXDURATION', 'BREAKMINADLENGTH', 'BREAKMINDURATION', 'BREAKPOSITION', 'CLICKPOS', 'CLICKTYPE', 'CLIENTUA', 'CONTENTID', 'CONTENTPLAYHEAD',
// @deprecated VAST 4.1
'CONTENTURI', 'DEVICEIP', 'DEVICEUA', 'DOMAIN', 'EXTENSIONS', 'GDPRCONSENT', 'IFA', 'IFATYPE', 'INVENTORYSTATE', 'LATLONG', 'LIMITADTRACKING', 'MEDIAMIME', 'MEDIAPLAYHEAD', 'OMIDPARTNER', 'PAGEURL', 'PLACEMENTTYPE', 'PLAYERCAPABILITIES', 'PLAYERSIZE', 'PLAYERSTATE', 'PODSEQUENCE', 'REGULATIONS', 'SERVERSIDE', 'SERVERUA', 'TRANSACTIONID', 'UNIVERSALADID', 'VASTVERSIONS', 'VERIFICATIONVENDORS'];
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/util/util.js









function track(URLTemplates, macros, options) {
  var URLs = resolveURLTemplates(URLTemplates, macros, options);
  URLs.forEach(function (URL) {
    if (typeof window !== 'undefined' && window !== null) {
      var i = new Image();
      i.src = URL;
    }
  });
}

/**
 * Replace the provided URLTemplates with the given values
 *
 * @param {Array} URLTemplates - An array of tracking url templates.
 * @param {Object} [macros={}] - An optional Object of parameters to be used in the tracking calls.
 * @param {Object} [options={}] - An optional Object of options to be used in the tracking calls.
 */
function resolveURLTemplates(URLTemplates) {
  var macros = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var resolvedURLs = [];
  var URLArray = extractURLsFromTemplates(URLTemplates);

  // Set default value for invalid ERRORCODE
  if (macros['ERRORCODE'] && !options.isCustomCode && !/^[0-9]{3}$/.test(macros['ERRORCODE'])) {
    macros['ERRORCODE'] = 900;
  }

  // Calc random/time based macros
  macros['CACHEBUSTING'] = addLeadingZeros(Math.round(Math.random() * 1.0e8));
  macros['TIMESTAMP'] = new Date().toISOString();

  // RANDOM/random is not defined in VAST 3/4 as a valid macro tho it's used by some adServer (Auditude)
  macros['RANDOM'] = macros['random'] = macros['CACHEBUSTING'];
  for (var macro in macros) {
    macros[macro] = encodeURIComponentRFC3986(macros[macro]);
  }
  for (var URLTemplateKey in URLArray) {
    var resolveURL = URLArray[URLTemplateKey];
    if (typeof resolveURL !== 'string') {
      continue;
    }
    resolvedURLs.push(replaceUrlMacros(resolveURL, macros));
  }
  return resolvedURLs;
}

/**
 * Replace the macros tracking url with their value.
 * If no value is provided for a supported macro and it exists in the url,
 * it will be replaced by -1 as described by the VAST 4.1 iab specifications
 *
 * @param {String} url - Tracking url.
 * @param {Object} macros - Object of macros to be replaced in the tracking calls
 */
function replaceUrlMacros(url, macros) {
  url = replaceMacrosValues(url, macros);
  // match any macros from the url that was not replaced
  var remainingMacros = url.match(/[^[\]]+(?=])/g);
  if (!remainingMacros) {
    return url;
  }
  var supportedRemainingMacros = filter_default()(remainingMacros).call(remainingMacros, function (macro) {
    return index_of_default()(supportedMacros).call(supportedMacros, macro) > -1;
  });
  if (supportedRemainingMacros.length === 0) {
    return url;
  }
  supportedRemainingMacros = reduce_default()(supportedRemainingMacros).call(supportedRemainingMacros, function (accumulator, macro) {
    accumulator[macro] = -1;
    return accumulator;
  }, {});
  return replaceMacrosValues(url, supportedRemainingMacros);
}

/**
 * Replace the macros tracking url with their value.
 *
 * @param {String} url - Tracking url.
 * @param {Object} macros - Object of macros to be replaced in the tracking calls
 */
function replaceMacrosValues(url, macros) {
  var replacedMacrosUrl = url;
  for (var key in macros) {
    var value = macros[key];
    // this will match [${key}] and %%${key}%% and replace it
    replacedMacrosUrl = replacedMacrosUrl.replace(new RegExp("(?:\\[|%%)(".concat(key, ")(?:\\]|%%)"), 'g'), value);
  }
  return replacedMacrosUrl;
}

/**
 * Extract the url/s from the URLTemplates.
 *   If the URLTemplates is an array of urls
 *   If the URLTemplates object has a url property
 *   If the URLTemplates is a single string
 *
 * @param {Array|String} URLTemplates - An array|string of url templates.
 */
function extractURLsFromTemplates(URLTemplates) {
  if (Array.isArray(URLTemplates)) {
    return instance_map_default()(URLTemplates).call(URLTemplates, function (URLTemplate) {
      return URLTemplate && URLTemplate.hasOwnProperty('url') ? URLTemplate.url : URLTemplate;
    });
  }
  return URLTemplates;
}

/**
 * Filter URLTemplates elements to keep only valid and safe URL templates.
 *   To be valid, urls should:
 *   - have the same protocol as the client
 *   or
 *   - be protocol-relative urls
 *
 * @param {Array} URLTemplates - A Array of string/object containing urls templates.
 */
function filterValidUrlTemplates(URLTemplates) {
  if (Array.isArray(URLTemplates)) {
    return filter_default()(URLTemplates).call(URLTemplates, function (urlTemplate) {
      var url = urlTemplate.hasOwnProperty('url') ? urlTemplate.url : urlTemplate;
      return isValidUrl(url);
    });
  }
  return isValidUrl(URLTemplates);
}
function isValidUrl(url) {
  var regex = /^(https?:\/\/|\/\/)/;
  return regex.test(url);
}

/**
 * Returns a boolean after checking if the object exists in the array.
 *   true - if the object exists, false otherwise
 *
 * @param {Object} obj - The object who existence is to be checked.
 * @param {Array} list - List of objects.
 */
function containsTemplateObject(obj, list) {
  for (var i = 0; i < list.length; i++) {
    if (isTemplateObjectEqual(list[i], obj)) {
      return true;
    }
  }
  return false;
}

/**
 * Returns a boolean after comparing two Template objects.
 *   true - if the objects are equivalent, false otherwise
 *
 * @param {Object} obj1
 * @param {Object} obj2
 */
function isTemplateObjectEqual(obj1, obj2) {
  if (obj1 && obj2) {
    var obj1Properties = get_own_property_names_default()(obj1);
    var obj2Properties = get_own_property_names_default()(obj2);

    // If number of properties is different, objects are not equivalent
    if (obj1Properties.length !== obj2Properties.length) {
      return false;
    }
    if (obj1.id !== obj2.id || obj1.url !== obj2.url) {
      return false;
    }
    return true;
  }
  return false;
}

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent
function encodeURIComponentRFC3986(str) {
  return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {
    return "%".concat(c.charCodeAt(0).toString(16));
  });
}

/**
 * Return a string of the input number with leading zeros defined by the length param
 *
 * @param {Number} input - number to convert
 * @param {Number} length - length of the desired string
 *
 * @return {String}
 */
function addLeadingZeros(input) {
  var _context;
  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;
  return pad_start_default()(_context = input.toString()).call(_context, length, '0');
}
function isNumeric(n) {
  return !isNaN(parse_float_default()(n)) && isFinite(n);
}
function flatten(arr) {
  return reduce_default()(arr).call(arr, function (flat, toFlatten) {
    return concat_default()(flat).call(flat, Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);
  }, []);
}

/**
 * Joins two arrays of objects without duplicates
 *
 * @param {Array} arr1
 * @param {Array} arr2
 *
 * @return {Array}
 */
function joinArrayOfUniqueTemplateObjs() {
  var arr1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var arr2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var firstArr = Array.isArray(arr1) ? arr1 : [];
  var secondArr = Array.isArray(arr2) ? arr2 : [];
  var arr = concat_default()(firstArr).call(firstArr, secondArr);
  return reduce_default()(arr).call(arr, function (res, val) {
    if (!containsTemplateObject(val, res)) {
      res.push(val);
    }
    return res;
  }, []);
}

/**
 * Check if a provided value is a valid time value according to the IAB definition
 * Check if a provided value is a valid time value according to the IAB definition: Must be a positive number or -1.
 * if not implemented by ad unit or -2 if value is unknown.
 * @param {Number} time
 *
 * @return {Boolean}
 */
function isValidTimeValue(time) {
  return Number.isFinite(time) && time >= -2;
}
var util = {
  track: track,
  resolveURLTemplates: resolveURLTemplates,
  extractURLsFromTemplates: extractURLsFromTemplates,
  filterValidUrlTemplates: filterValidUrlTemplates,
  containsTemplateObject: containsTemplateObject,
  isTemplateObjectEqual: isTemplateObjectEqual,
  encodeURIComponentRFC3986: encodeURIComponentRFC3986,
  replaceUrlMacros: replaceUrlMacros,
  isNumeric: isNumeric,
  flatten: flatten,
  joinArrayOfUniqueTemplateObjs: joinArrayOfUniqueTemplateObjs,
  isValidTimeValue: isValidTimeValue,
  addLeadingZeros: addLeadingZeros
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/parser_utils.js












/**
 * This module provides support methods to the parsing classes.
 */

/**
 * Returns the first element of the given node which nodeName matches the given name.
 * @param  {Node} node - The node to use to find a match.
 * @param  {String} name - The name to look for.
 * @return {Object|undefined}
 */
function childByName(node, name) {
  var childNodes = node.childNodes;
  for (var childKey in childNodes) {
    var child = childNodes[childKey];
    if (child.nodeName === name) {
      return child;
    }
  }
}

/**
 * Returns all the elements of the given node which nodeName match the given name.
 * @param  {Node} node - The node to use to find the matches.
 * @param  {String} name - The name to look for.
 * @return {Array}
 */
function childrenByName(node, name) {
  var children = [];
  var childNodes = node.childNodes;
  for (var childKey in childNodes) {
    var child = childNodes[childKey];
    if (child.nodeName === name) {
      children.push(child);
    }
  }
  return children;
}

/**
 * Converts relative vastAdTagUri.
 * @param  {String} vastAdTagUrl - The url to resolve.
 * @param  {String} originalUrl - The original url.
 * @return {String}
 */
function resolveVastAdTagURI(vastAdTagUrl, originalUrl) {
  if (!originalUrl) {
    return vastAdTagUrl;
  }
  if (index_of_default()(vastAdTagUrl).call(vastAdTagUrl, '//') === 0) {
    var _context;
    var _location = location,
      protocol = _location.protocol;
    return concat_default()(_context = "".concat(protocol)).call(_context, vastAdTagUrl);
  }
  if (index_of_default()(vastAdTagUrl).call(vastAdTagUrl, '://') === -1) {
    var _context2;
    // Resolve relative URLs (mainly for unit testing)
    var baseURL = instance_slice_default()(originalUrl).call(originalUrl, 0, last_index_of_default()(originalUrl).call(originalUrl, '/'));
    return concat_default()(_context2 = "".concat(baseURL, "/")).call(_context2, vastAdTagUrl);
  }
  return vastAdTagUrl;
}

/**
 * Converts a boolean string into a Boolean.
 * @param  {String} booleanString - The boolean string to convert.
 * @return {Boolean}
 */
function parseBoolean(booleanString) {
  var _context3;
  return index_of_default()(_context3 = ['true', 'TRUE', 'True', '1']).call(_context3, booleanString) !== -1;
}

/**
 * Parses a node text (for legacy support).
 * @param  {Object} node - The node to parse the text from.
 * @return {String}
 */
function parseNodeText(node) {
  var _context4;
  return node && trim_default()(_context4 = node.textContent || node.text || '').call(_context4);
}

/**
 * Copies an attribute from a node to another.
 * @param  {String} attributeName - The name of the attribute to clone.
 * @param  {Object} nodeSource - The source node to copy the attribute from.
 * @param  {Object} nodeDestination - The destination node to copy the attribute at.
 */
function copyNodeAttribute(attributeName, nodeSource, nodeDestination) {
  var attributeValue = nodeSource.getAttribute(attributeName);
  if (attributeValue) {
    nodeDestination.setAttribute(attributeName, attributeValue);
  }
}

/**
 * Converts element attributes into an object, where object key is attribute name
 * and object value is attribute value
 * @param {Element} element
 * @returns {Object}
 */
function parseAttributes(element) {
  var nodeAttributes = element.attributes;
  var attributes = {};
  for (var i = 0; i < nodeAttributes.length; i++) {
    attributes[nodeAttributes[i].nodeName] = nodeAttributes[i].nodeValue;
  }
  return attributes;
}

/**
 * Parses a String duration into a Number.
 * @param  {String} durationString - The dureation represented as a string.
 * @return {Number}
 */
function parseDuration(durationString) {
  if (durationString === null || typeof durationString === 'undefined') {
    return -1;
  }
  // Some VAST doesn't have an HH:MM:SS duration format but instead jus the number of seconds
  if (util.isNumeric(durationString)) {
    return parse_int_default()(durationString);
  }
  var durationComponents = durationString.split(':');
  if (durationComponents.length !== 3) {
    return -1;
  }
  var secondsAndMS = durationComponents[2].split('.');
  var seconds = parse_int_default()(secondsAndMS[0]);
  if (secondsAndMS.length === 2) {
    seconds += parse_float_default()("0.".concat(secondsAndMS[1]));
  }
  var minutes = parse_int_default()(durationComponents[1] * 60);
  var hours = parse_int_default()(durationComponents[0] * 60 * 60);
  if (isNaN(hours) || isNaN(minutes) || isNaN(seconds) || minutes > 60 * 60 || seconds > 60) {
    return -1;
  }
  return hours + minutes + seconds;
}

/**
 * Splits an Array of ads into an Array of Arrays of ads.
 * Each subarray contains either one ad or multiple ads (an AdPod)
 * @param  {Array} ads - An Array of ads to split
 * @return {Array}
 */
function splitVAST(ads) {
  var splittedVAST = [];
  var lastAdPod = null;
  ads.forEach(function (ad, i) {
    if (ad.sequence) {
      ad.sequence = parse_int_default()(ad.sequence, 10);
    }
    // The current Ad may be the next Ad of an AdPod
    if (ad.sequence > 1) {
      var lastAd = ads[i - 1];
      // check if the current Ad is exactly the next one in the AdPod
      if (lastAd && lastAd.sequence === ad.sequence - 1) {
        lastAdPod && lastAdPod.push(ad);
        return;
      }
      // If the ad had a sequence attribute but it was not part of a correctly formed
      // AdPod, let's remove the sequence attribute
      delete ad.sequence;
    }
    lastAdPod = [ad];
    splittedVAST.push(lastAdPod);
  });
  return splittedVAST;
}

/**
 * Parses the attributes and assign them to object
 * @param  {Object} attributes attribute
 * @param  {Object} verificationObject with properties which can be assigned
 */
function assignAttributes(attributes, verificationObject) {
  if (attributes) {
    for (var attrKey in attributes) {
      var attribute = attributes[attrKey];
      if (attribute.nodeName && attribute.nodeValue && verificationObject.hasOwnProperty(attribute.nodeName)) {
        var value = attribute.nodeValue;
        if (typeof verificationObject[attribute.nodeName] === 'boolean') {
          value = parseBoolean(value);
        }
        verificationObject[attribute.nodeName] = value;
      }
    }
  }
}

/**
 * Merges the data between an unwrapped ad and his wrapper.
 * @param  {Ad} unwrappedAd - The 'unwrapped' Ad.
 * @param  {Ad} wrapper - The wrapper Ad.
 * @return {void}
 */
function mergeWrapperAdData(unwrappedAd, wrapper) {
  var _context5, _context6, _context7, _context9, _wrapper$creatives;
  unwrappedAd.errorURLTemplates = concat_default()(_context5 = wrapper.errorURLTemplates).call(_context5, unwrappedAd.errorURLTemplates);
  unwrappedAd.impressionURLTemplates = concat_default()(_context6 = wrapper.impressionURLTemplates).call(_context6, unwrappedAd.impressionURLTemplates);
  unwrappedAd.extensions = concat_default()(_context7 = wrapper.extensions).call(_context7, unwrappedAd.extensions);
  if (wrapper.viewableImpression.length > 0) {
    var _context8;
    unwrappedAd.viewableImpression = concat_default()(_context8 = []).call(_context8, _toConsumableArray(unwrappedAd.viewableImpression), _toConsumableArray(wrapper.viewableImpression));
  }

  // values from the child wrapper will be overridden
  unwrappedAd.followAdditionalWrappers = wrapper.followAdditionalWrappers;
  unwrappedAd.allowMultipleAds = wrapper.allowMultipleAds;
  unwrappedAd.fallbackOnNoAd = wrapper.fallbackOnNoAd;
  var wrapperCompanions = filter_default()(_context9 = wrapper.creatives || []).call(_context9, function (creative) {
    return creative && creative.type === 'companion';
  });
  var wrapperCompanionClickTracking = reduce_default()(wrapperCompanions).call(wrapperCompanions, function (result, creative) {
    (creative.variations || []).forEach(function (variation) {
      (variation.companionClickTrackingURLTemplates || []).forEach(function (companionClickTrackingURLTemplate) {
        if (!util.containsTemplateObject(companionClickTrackingURLTemplate, result)) {
          result.push(companionClickTrackingURLTemplate);
        }
      });
    });
    return result;
  }, []);
  unwrappedAd.creatives = concat_default()(wrapperCompanions).call(wrapperCompanions, unwrappedAd.creatives);
  var wrapperHasVideoClickTracking = wrapper.videoClickTrackingURLTemplates && wrapper.videoClickTrackingURLTemplates.length;
  var wrapperHasVideoCustomClick = wrapper.videoCustomClickURLTemplates && wrapper.videoCustomClickURLTemplates.length;
  unwrappedAd.creatives.forEach(function (creative) {
    // merge tracking events
    if (wrapper.trackingEvents && wrapper.trackingEvents[creative.type]) {
      for (var eventName in wrapper.trackingEvents[creative.type]) {
        var _context10;
        var urls = wrapper.trackingEvents[creative.type][eventName];
        if (!Array.isArray(creative.trackingEvents[eventName])) {
          creative.trackingEvents[eventName] = [];
        }
        creative.trackingEvents[eventName] = concat_default()(_context10 = creative.trackingEvents[eventName]).call(_context10, urls);
      }
    }
    if (creative.type === 'linear') {
      // merge video click tracking url
      if (wrapperHasVideoClickTracking) {
        var _context11;
        creative.videoClickTrackingURLTemplates = concat_default()(_context11 = creative.videoClickTrackingURLTemplates).call(_context11, wrapper.videoClickTrackingURLTemplates);
      }

      // merge video custom click url
      if (wrapperHasVideoCustomClick) {
        var _context12;
        creative.videoCustomClickURLTemplates = concat_default()(_context12 = creative.videoCustomClickURLTemplates).call(_context12, wrapper.videoCustomClickURLTemplates);
      }

      // VAST 2.0 support - Use Wrapper/linear/clickThrough when Inline/Linear/clickThrough is null
      if (wrapper.videoClickThroughURLTemplate && (creative.videoClickThroughURLTemplate === null || typeof creative.videoClickThroughURLTemplate === 'undefined')) {
        creative.videoClickThroughURLTemplate = wrapper.videoClickThroughURLTemplate;
      }
    }

    // pass wrapper companion trackers to all companions
    if (creative.type === 'companion' && wrapperCompanionClickTracking.length) {
      (creative.variations || []).forEach(function (variation) {
        variation.companionClickTrackingURLTemplates = util.joinArrayOfUniqueTemplateObjs(variation.companionClickTrackingURLTemplates, wrapperCompanionClickTracking);
      });
    }
  });
  if (wrapper.adVerifications) {
    var _context13;
    // As specified by VAST specs unwrapped ads should contains wrapper adVerification script
    unwrappedAd.adVerifications = concat_default()(_context13 = unwrappedAd.adVerifications).call(_context13, wrapper.adVerifications);
  }
  if (wrapper.blockedAdCategories) {
    var _context14;
    unwrappedAd.blockedAdCategories = concat_default()(_context14 = unwrappedAd.blockedAdCategories).call(_context14, wrapper.blockedAdCategories);
  }

  // Merge Wrapper's creatives containing icon elements
  if ((_wrapper$creatives = wrapper.creatives) !== null && _wrapper$creatives !== void 0 && _wrapper$creatives.length) {
    var _context15;
    // As specified by VAST specs, wrapper should not contain any mediafiles
    var wrapperCreativesWithIconsNode = filter_default()(_context15 = wrapper.creatives).call(_context15, function (creative) {
      var _creative$icons;
      return ((_creative$icons = creative.icons) === null || _creative$icons === void 0 ? void 0 : _creative$icons.length) && !creative.mediaFiles.length;
    });
    if (wrapperCreativesWithIconsNode.length) {
      var _context16;
      unwrappedAd.creatives = concat_default()(_context16 = unwrappedAd.creatives).call(_context16, wrapperCreativesWithIconsNode);
    }
  }
}
var parserUtils = {
  childByName: childByName,
  childrenByName: childrenByName,
  resolveVastAdTagURI: resolveVastAdTagURI,
  parseBoolean: parseBoolean,
  parseNodeText: parseNodeText,
  copyNodeAttribute: copyNodeAttribute,
  parseAttributes: parseAttributes,
  parseDuration: parseDuration,
  splitVAST: splitVAST,
  assignAttributes: assignAttributes,
  mergeWrapperAdData: mergeWrapperAdData
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/creative_companion_parser.js







/**
 * This module provides methods to parse a VAST CompanionAd Element.
 */

/**
 * Parses a CompanionAd.
 * @param  {Object} creativeElement - The VAST CompanionAd element to parse.
 * @param  {Object} creativeAttributes - The attributes of the CompanionAd (optional).
 * @return {Object} creative - The creative object.
 */
function parseCreativeCompanion(creativeElement, creativeAttributes) {
  var _context;
  var creative = createCreativeCompanion(creativeAttributes);
  creative.required = creativeElement.getAttribute('required') || null;
  creative.variations = instance_map_default()(_context = parserUtils.childrenByName(creativeElement, 'Companion')).call(_context, function (companionResource) {
    var _context2, _context3, _context4, _context5;
    var companionAd = createCompanionAd(parserUtils.parseAttributes(companionResource));
    companionAd.htmlResources = reduce_default()(_context2 = parserUtils.childrenByName(companionResource, 'HTMLResource')).call(_context2, function (urls, resource) {
      var url = parserUtils.parseNodeText(resource);
      return url ? concat_default()(urls).call(urls, url) : urls;
    }, []);
    companionAd.iframeResources = reduce_default()(_context3 = parserUtils.childrenByName(companionResource, 'IFrameResource')).call(_context3, function (urls, resource) {
      var url = parserUtils.parseNodeText(resource);
      return url ? concat_default()(urls).call(urls, url) : urls;
    }, []);
    companionAd.staticResources = reduce_default()(_context4 = parserUtils.childrenByName(companionResource, 'StaticResource')).call(_context4, function (urls, resource) {
      var url = parserUtils.parseNodeText(resource);
      return url ? concat_default()(urls).call(urls, {
        url: url,
        creativeType: resource.getAttribute('creativeType') || null
      }) : urls;
    }, []);
    companionAd.altText = parserUtils.parseNodeText(parserUtils.childByName(companionResource, 'AltText')) || null;
    var trackingEventsElement = parserUtils.childByName(companionResource, 'TrackingEvents');
    if (trackingEventsElement) {
      parserUtils.childrenByName(trackingEventsElement, 'Tracking').forEach(function (trackingElement) {
        var eventName = trackingElement.getAttribute('event');
        var trackingURLTemplate = parserUtils.parseNodeText(trackingElement);
        if (eventName && trackingURLTemplate) {
          if (!Array.isArray(companionAd.trackingEvents[eventName])) {
            companionAd.trackingEvents[eventName] = [];
          }
          companionAd.trackingEvents[eventName].push(trackingURLTemplate);
        }
      });
    }
    companionAd.companionClickTrackingURLTemplates = instance_map_default()(_context5 = parserUtils.childrenByName(companionResource, 'CompanionClickTracking')).call(_context5, function (clickTrackingElement) {
      return {
        id: clickTrackingElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(clickTrackingElement)
      };
    });
    companionAd.companionClickThroughURLTemplate = parserUtils.parseNodeText(parserUtils.childByName(companionResource, 'CompanionClickThrough')) || null;
    var adParametersElement = parserUtils.childByName(companionResource, 'AdParameters');
    if (adParametersElement) {
      companionAd.adParameters = {
        value: parserUtils.parseNodeText(adParametersElement),
        xmlEncoded: adParametersElement.getAttribute('xmlEncoded') || null
      };
    }
    return companionAd;
  });
  return creative;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/creative/creative_linear.js

function createCreativeLinear() {
  var creativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _createCreative = createCreative(creativeAttributes),
    id = _createCreative.id,
    adId = _createCreative.adId,
    sequence = _createCreative.sequence,
    apiFramework = _createCreative.apiFramework;
  return {
    id: id,
    adId: adId,
    sequence: sequence,
    apiFramework: apiFramework,
    type: 'linear',
    duration: 0,
    skipDelay: null,
    mediaFiles: [],
    mezzanine: null,
    interactiveCreativeFile: null,
    closedCaptionFiles: [],
    videoClickThroughURLTemplate: null,
    videoClickTrackingURLTemplates: [],
    videoCustomClickURLTemplates: [],
    adParameters: null,
    icons: [],
    trackingEvents: {}
  };
}
function isCreativeLinear(ad) {
  return ad.type === 'linear';
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/closed_caption_file.js
function createClosedCaptionFile() {
  var closedCaptionAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    type: closedCaptionAttributes.type || null,
    language: closedCaptionAttributes.language || null,
    fileURL: null
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/icon.js
function createIcon() {
  return {
    program: null,
    height: 0,
    width: 0,
    xPosition: 0,
    yPosition: 0,
    apiFramework: null,
    offset: null,
    duration: 0,
    type: null,
    staticResource: null,
    htmlResource: null,
    iframeResource: null,
    pxratio: '1',
    iconClickThroughURLTemplate: null,
    iconClickTrackingURLTemplates: [],
    iconViewTrackingURLTemplate: null,
    iconClickFallbackImages: []
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/interactive_creative_file.js

function createInteractiveCreativeFile() {
  var interactiveCreativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    type: interactiveCreativeAttributes.type || null,
    apiFramework: interactiveCreativeAttributes.apiFramework || null,
    variableDuration: parserUtils.parseBoolean(interactiveCreativeAttributes.variableDuration),
    fileURL: null
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/media_file.js
function createMediaFile() {
  return {
    id: null,
    fileURL: null,
    fileSize: 0,
    deliveryType: 'progressive',
    mimeType: null,
    mediaType: null,
    codec: null,
    bitrate: 0,
    minBitrate: 0,
    maxBitrate: 0,
    width: 0,
    height: 0,
    apiFramework: null,
    // @deprecated in VAST 4.1. <InteractiveCreativeFile> should be used instead.
    scalable: null,
    maintainAspectRatio: null
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/mezzanine.js
function createMezzanine() {
  return {
    id: null,
    fileURL: null,
    delivery: null,
    codec: null,
    type: null,
    width: 0,
    height: 0,
    fileSize: 0,
    mediaType: '2D'
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/creative_linear_parser.js










/**
 * This module provides methods to parse a VAST Linear Element.
 */

/**
 * Parses a Linear element.
 * @param  {Object} creativeElement - The VAST Linear element to parse.
 * @param  {any} creativeAttributes - The attributes of the Linear (optional).
 * @return {Object} creative - The creativeLinear object.
 */
function parseCreativeLinear(creativeElement, creativeAttributes) {
  var offset;
  var creative = createCreativeLinear(creativeAttributes);
  creative.duration = parserUtils.parseDuration(parserUtils.parseNodeText(parserUtils.childByName(creativeElement, 'Duration')));
  var skipOffset = creativeElement.getAttribute('skipoffset');
  if (typeof skipOffset === 'undefined' || skipOffset === null) {
    creative.skipDelay = null;
  } else if (skipOffset.charAt(skipOffset.length - 1) === '%' && creative.duration !== -1) {
    var percent = parse_int_default()(skipOffset, 10);
    creative.skipDelay = creative.duration * (percent / 100);
  } else {
    creative.skipDelay = parserUtils.parseDuration(skipOffset);
  }
  var videoClicksElement = parserUtils.childByName(creativeElement, 'VideoClicks');
  if (videoClicksElement) {
    var videoClickThroughElement = parserUtils.childByName(videoClicksElement, 'ClickThrough');
    if (videoClickThroughElement) {
      creative.videoClickThroughURLTemplate = {
        id: videoClickThroughElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(videoClickThroughElement)
      };
    } else {
      creative.videoClickThroughURLTemplate = null;
    }
    parserUtils.childrenByName(videoClicksElement, 'ClickTracking').forEach(function (clickTrackingElement) {
      creative.videoClickTrackingURLTemplates.push({
        id: clickTrackingElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(clickTrackingElement)
      });
    });
    parserUtils.childrenByName(videoClicksElement, 'CustomClick').forEach(function (customClickElement) {
      creative.videoCustomClickURLTemplates.push({
        id: customClickElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(customClickElement)
      });
    });
  }
  var adParamsElement = parserUtils.childByName(creativeElement, 'AdParameters');
  if (adParamsElement) {
    creative.adParameters = {
      value: parserUtils.parseNodeText(adParamsElement),
      xmlEncoded: adParamsElement.getAttribute('xmlEncoded') || null
    };
  }
  parserUtils.childrenByName(creativeElement, 'TrackingEvents').forEach(function (trackingEventsElement) {
    parserUtils.childrenByName(trackingEventsElement, 'Tracking').forEach(function (trackingElement) {
      var eventName = trackingElement.getAttribute('event');
      var trackingURLTemplate = parserUtils.parseNodeText(trackingElement);
      if (eventName && trackingURLTemplate) {
        if (eventName === 'progress') {
          offset = trackingElement.getAttribute('offset');
          if (!offset) {
            return;
          }
          if (offset.charAt(offset.length - 1) === '%') {
            eventName = "progress-".concat(offset);
          } else {
            eventName = "progress-".concat(Math.round(parserUtils.parseDuration(offset)));
          }
        }
        if (!Array.isArray(creative.trackingEvents[eventName])) {
          creative.trackingEvents[eventName] = [];
        }
        creative.trackingEvents[eventName].push(trackingURLTemplate);
      }
    });
  });
  parserUtils.childrenByName(creativeElement, 'MediaFiles').forEach(function (mediaFilesElement) {
    parserUtils.childrenByName(mediaFilesElement, 'MediaFile').forEach(function (mediaFileElement) {
      creative.mediaFiles.push(parseMediaFile(mediaFileElement));
    });
    var interactiveCreativeElement = parserUtils.childByName(mediaFilesElement, 'InteractiveCreativeFile');
    if (interactiveCreativeElement) {
      creative.interactiveCreativeFile = parseInteractiveCreativeFile(interactiveCreativeElement);
    }
    var closedCaptionElements = parserUtils.childByName(mediaFilesElement, 'ClosedCaptionFiles');
    if (closedCaptionElements) {
      parserUtils.childrenByName(closedCaptionElements, 'ClosedCaptionFile').forEach(function (closedCaptionElement) {
        var closedCaptionFile = createClosedCaptionFile(parserUtils.parseAttributes(closedCaptionElement));
        closedCaptionFile.fileURL = parserUtils.parseNodeText(closedCaptionElement);
        creative.closedCaptionFiles.push(closedCaptionFile);
      });
    }
    var mezzanineElement = parserUtils.childByName(mediaFilesElement, 'Mezzanine');
    var requiredAttributes = getRequiredAttributes(mezzanineElement, ['delivery', 'type', 'width', 'height']);
    if (requiredAttributes) {
      var mezzanine = createMezzanine();
      mezzanine.id = mezzanineElement.getAttribute('id');
      mezzanine.fileURL = parserUtils.parseNodeText(mezzanineElement);
      mezzanine.delivery = requiredAttributes.delivery;
      mezzanine.codec = mezzanineElement.getAttribute('codec');
      mezzanine.type = requiredAttributes.type;
      mezzanine.width = parse_int_default()(requiredAttributes.width, 10);
      mezzanine.height = parse_int_default()(requiredAttributes.height, 10);
      mezzanine.fileSize = parse_int_default()(mezzanineElement.getAttribute('fileSize'), 10);
      mezzanine.mediaType = mezzanineElement.getAttribute('mediaType') || '2D';
      creative.mezzanine = mezzanine;
    }
  });
  var iconsElement = parserUtils.childByName(creativeElement, 'Icons');
  if (iconsElement) {
    parserUtils.childrenByName(iconsElement, 'Icon').forEach(function (iconElement) {
      creative.icons.push(parseIcon(iconElement));
    });
  }
  return creative;
}

/**
 * Parses the MediaFile element from VAST.
 * @param  {Object} mediaFileElement - The VAST MediaFile element.
 * @return {Object} - Parsed mediaFile object.
 */
function parseMediaFile(mediaFileElement) {
  var mediaFile = createMediaFile();
  mediaFile.id = mediaFileElement.getAttribute('id');
  mediaFile.fileURL = parserUtils.parseNodeText(mediaFileElement);
  mediaFile.deliveryType = mediaFileElement.getAttribute('delivery');
  mediaFile.codec = mediaFileElement.getAttribute('codec');
  mediaFile.mimeType = mediaFileElement.getAttribute('type');
  mediaFile.mediaType = mediaFileElement.getAttribute('mediaType') || '2D';
  mediaFile.apiFramework = mediaFileElement.getAttribute('apiFramework');
  mediaFile.fileSize = parse_int_default()(mediaFileElement.getAttribute('fileSize') || 0);
  mediaFile.bitrate = parse_int_default()(mediaFileElement.getAttribute('bitrate') || 0);
  mediaFile.minBitrate = parse_int_default()(mediaFileElement.getAttribute('minBitrate') || 0);
  mediaFile.maxBitrate = parse_int_default()(mediaFileElement.getAttribute('maxBitrate') || 0);
  mediaFile.width = parse_int_default()(mediaFileElement.getAttribute('width') || 0);
  mediaFile.height = parse_int_default()(mediaFileElement.getAttribute('height') || 0);
  var scalable = mediaFileElement.getAttribute('scalable');
  if (scalable && typeof scalable === 'string') {
    mediaFile.scalable = parserUtils.parseBoolean(scalable);
  }
  var maintainAspectRatio = mediaFileElement.getAttribute('maintainAspectRatio');
  if (maintainAspectRatio && typeof maintainAspectRatio === 'string') {
    mediaFile.maintainAspectRatio = parserUtils.parseBoolean(maintainAspectRatio);
  }
  return mediaFile;
}

/**
 * Parses the InteractiveCreativeFile element from VAST MediaFiles node.
 * @param  {Object} interactiveCreativeElement - The VAST InteractiveCreativeFile element.
 * @return {Object} - Parsed interactiveCreativeFile object.
 */
function parseInteractiveCreativeFile(interactiveCreativeElement) {
  var interactiveCreativeFile = createInteractiveCreativeFile(parserUtils.parseAttributes(interactiveCreativeElement));
  interactiveCreativeFile.fileURL = parserUtils.parseNodeText(interactiveCreativeElement);
  return interactiveCreativeFile;
}

/**
 * Parses the Icon element from VAST.
 * @param  {Object} iconElement - The VAST Icon element.
 * @return {Object} - Parsed icon object.
 */
function parseIcon(iconElement) {
  var icon = createIcon(iconElement);
  icon.program = iconElement.getAttribute('program');
  icon.height = parse_int_default()(iconElement.getAttribute('height') || 0);
  icon.width = parse_int_default()(iconElement.getAttribute('width') || 0);
  icon.xPosition = parseXPosition(iconElement.getAttribute('xPosition'));
  icon.yPosition = parseYPosition(iconElement.getAttribute('yPosition'));
  icon.apiFramework = iconElement.getAttribute('apiFramework');
  icon.pxratio = iconElement.getAttribute('pxratio') || '1';
  icon.offset = parserUtils.parseDuration(iconElement.getAttribute('offset'));
  icon.duration = parserUtils.parseDuration(iconElement.getAttribute('duration'));
  parserUtils.childrenByName(iconElement, 'HTMLResource').forEach(function (htmlElement) {
    icon.type = htmlElement.getAttribute('creativeType') || 'text/html';
    icon.htmlResource = parserUtils.parseNodeText(htmlElement);
  });
  parserUtils.childrenByName(iconElement, 'IFrameResource').forEach(function (iframeElement) {
    icon.type = iframeElement.getAttribute('creativeType') || 0;
    icon.iframeResource = parserUtils.parseNodeText(iframeElement);
  });
  parserUtils.childrenByName(iconElement, 'StaticResource').forEach(function (staticElement) {
    icon.type = staticElement.getAttribute('creativeType') || 0;
    icon.staticResource = parserUtils.parseNodeText(staticElement);
  });
  var iconClicksElement = parserUtils.childByName(iconElement, 'IconClicks');
  if (iconClicksElement) {
    icon.iconClickThroughURLTemplate = parserUtils.parseNodeText(parserUtils.childByName(iconClicksElement, 'IconClickThrough'));
    parserUtils.childrenByName(iconClicksElement, 'IconClickTracking').forEach(function (iconClickTrackingElement) {
      icon.iconClickTrackingURLTemplates.push({
        id: iconClickTrackingElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(iconClickTrackingElement)
      });
    });
    var iconClickFallbackImagesElement = parserUtils.childByName(iconClicksElement, 'IconClickFallbackImages');
    if (iconClickFallbackImagesElement) {
      parserUtils.childrenByName(iconClickFallbackImagesElement, 'IconClickFallbackImage').forEach(function (iconClickFallbackImageElement) {
        icon.iconClickFallbackImages.push({
          url: parserUtils.parseNodeText(iconClickFallbackImageElement) || null,
          width: iconClickFallbackImageElement.getAttribute('width') || null,
          height: iconClickFallbackImageElement.getAttribute('height') || null
        });
      });
    }
  }
  icon.iconViewTrackingURLTemplate = parserUtils.parseNodeText(parserUtils.childByName(iconElement, 'IconViewTracking'));
  return icon;
}

/**
 * Parses an horizontal position into a String ('left' or 'right') or into a Number.
 * @param  {String} xPosition - The x position to parse.
 * @return {String|Number}
 */
function parseXPosition(xPosition) {
  var _context;
  if (index_of_default()(_context = ['left', 'right']).call(_context, xPosition) !== -1) {
    return xPosition;
  }
  return parse_int_default()(xPosition || 0);
}

/**
 * Parses an vertical position into a String ('top' or 'bottom') or into a Number.
 * @param  {String} yPosition - The x position to parse.
 * @return {String|Number}
 */
function parseYPosition(yPosition) {
  var _context2;
  if (index_of_default()(_context2 = ['top', 'bottom']).call(_context2, yPosition) !== -1) {
    return yPosition;
  }
  return parse_int_default()(yPosition || 0);
}

/**
 * Getting required attributes from element
 * @param  {Object} element - DOM element
 * @param  {Array} attributes - list of attributes
 * @return {Object|null} null if a least one element not present
 */
function getRequiredAttributes(element, attributes) {
  var values = {};
  var error = false;
  attributes.forEach(function (name) {
    if (!element || !element.getAttribute(name)) {
      error = true;
    } else {
      values[name] = element.getAttribute(name);
    }
  });
  return error ? null : values;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/creative/creative_non_linear.js

function createCreativeNonLinear() {
  var creativeAttributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _createCreative = createCreative(creativeAttributes),
    id = _createCreative.id,
    adId = _createCreative.adId,
    sequence = _createCreative.sequence,
    apiFramework = _createCreative.apiFramework;
  return {
    id: id,
    adId: adId,
    sequence: sequence,
    apiFramework: apiFramework,
    type: 'nonlinear',
    variations: [],
    trackingEvents: {}
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/non_linear_ad.js
function createNonLinearAd() {
  return {
    id: null,
    width: 0,
    height: 0,
    expandedWidth: 0,
    expandedHeight: 0,
    scalable: true,
    maintainAspectRatio: true,
    minSuggestedDuration: 0,
    apiFramework: 'static',
    adType: 'nonLinearAd',
    type: null,
    staticResource: null,
    htmlResource: null,
    iframeResource: null,
    nonlinearClickThroughURLTemplate: null,
    nonlinearClickTrackingURLTemplates: [],
    adParameters: null
  };
}
function isNonLinearAd(ad) {
  return ad.adType === 'nonLinearAd';
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/creative_non_linear_parser.js




/**
 * This module provides methods to parse a VAST NonLinear Element.
 */

/**
 * Parses a NonLinear element.
 * @param  {any} creativeElement - The VAST NonLinear element to parse.
 * @param  {any} creativeAttributes - The attributes of the NonLinear (optional).
 * @return {Object} creative - The CreativeNonLinear object.
 */
function parseCreativeNonLinear(creativeElement, creativeAttributes) {
  var creative = createCreativeNonLinear(creativeAttributes);
  parserUtils.childrenByName(creativeElement, 'TrackingEvents').forEach(function (trackingEventsElement) {
    var eventName, trackingURLTemplate;
    parserUtils.childrenByName(trackingEventsElement, 'Tracking').forEach(function (trackingElement) {
      eventName = trackingElement.getAttribute('event');
      trackingURLTemplate = parserUtils.parseNodeText(trackingElement);
      if (eventName && trackingURLTemplate) {
        if (!Array.isArray(creative.trackingEvents[eventName])) {
          creative.trackingEvents[eventName] = [];
        }
        creative.trackingEvents[eventName].push(trackingURLTemplate);
      }
    });
  });
  parserUtils.childrenByName(creativeElement, 'NonLinear').forEach(function (nonlinearResource) {
    var nonlinearAd = createNonLinearAd();
    nonlinearAd.id = nonlinearResource.getAttribute('id') || null;
    nonlinearAd.width = nonlinearResource.getAttribute('width');
    nonlinearAd.height = nonlinearResource.getAttribute('height');
    nonlinearAd.expandedWidth = nonlinearResource.getAttribute('expandedWidth');
    nonlinearAd.expandedHeight = nonlinearResource.getAttribute('expandedHeight');
    nonlinearAd.scalable = parserUtils.parseBoolean(nonlinearResource.getAttribute('scalable'));
    nonlinearAd.maintainAspectRatio = parserUtils.parseBoolean(nonlinearResource.getAttribute('maintainAspectRatio'));
    nonlinearAd.minSuggestedDuration = parserUtils.parseDuration(nonlinearResource.getAttribute('minSuggestedDuration'));
    nonlinearAd.apiFramework = nonlinearResource.getAttribute('apiFramework');
    parserUtils.childrenByName(nonlinearResource, 'HTMLResource').forEach(function (htmlElement) {
      nonlinearAd.type = htmlElement.getAttribute('creativeType') || 'text/html';
      nonlinearAd.htmlResource = parserUtils.parseNodeText(htmlElement);
    });
    parserUtils.childrenByName(nonlinearResource, 'IFrameResource').forEach(function (iframeElement) {
      nonlinearAd.type = iframeElement.getAttribute('creativeType') || 0;
      nonlinearAd.iframeResource = parserUtils.parseNodeText(iframeElement);
    });
    parserUtils.childrenByName(nonlinearResource, 'StaticResource').forEach(function (staticElement) {
      nonlinearAd.type = staticElement.getAttribute('creativeType') || 0;
      nonlinearAd.staticResource = parserUtils.parseNodeText(staticElement);
    });
    var adParamsElement = parserUtils.childByName(nonlinearResource, 'AdParameters');
    if (adParamsElement) {
      nonlinearAd.adParameters = {
        value: parserUtils.parseNodeText(adParamsElement),
        xmlEncoded: adParamsElement.getAttribute('xmlEncoded') || null
      };
    }
    nonlinearAd.nonlinearClickThroughURLTemplate = parserUtils.parseNodeText(parserUtils.childByName(nonlinearResource, 'NonLinearClickThrough'));
    parserUtils.childrenByName(nonlinearResource, 'NonLinearClickTracking').forEach(function (clickTrackingElement) {
      nonlinearAd.nonlinearClickTrackingURLTemplates.push({
        id: clickTrackingElement.getAttribute('id') || null,
        url: parserUtils.parseNodeText(clickTrackingElement)
      });
    });
    creative.variations.push(nonlinearAd);
  });
  return creative;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/extension.js

function createExtension() {
  return {
    name: null,
    value: null,
    attributes: {},
    children: []
  };
}
function isEmptyExtension(extension) {
  return extension.value === null && keys_default()(extension.attributes).length === 0 && extension.children.length === 0;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/extensions_parser.js




/**
 * Parses an array of Extension elements.
 * @param  {Node[]} extensions - The array of extensions to parse.
 * @param  {String} type - The type of extensions to parse.(Ad|Creative)
 * @return {AdExtension[]|CreativeExtension[]} - The nodes parsed to extensions
 */
function parseExtensions(extensions) {
  var exts = [];
  extensions.forEach(function (extNode) {
    var ext = _parseExtension(extNode);
    if (ext) {
      exts.push(ext);
    }
  });
  return exts;
}

/**
 * Parses an extension child node
 * @param {Node} extNode - The extension node to parse
 * @return {AdExtension|CreativeExtension|null} - The node parsed to extension
 */
function _parseExtension(extNode) {
  var _context;
  // Ignore comments
  if (extNode.nodeName === '#comment') return null;
  var ext = createExtension();
  var extNodeAttrs = extNode.attributes;
  var childNodes = extNode.childNodes;
  ext.name = extNode.nodeName;

  // Parse attributes
  if (extNode.attributes) {
    for (var extNodeAttrKey in extNodeAttrs) {
      if (extNodeAttrs.hasOwnProperty(extNodeAttrKey)) {
        var extNodeAttr = extNodeAttrs[extNodeAttrKey];
        if (extNodeAttr.nodeName && extNodeAttr.nodeValue) {
          ext.attributes[extNodeAttr.nodeName] = extNodeAttr.nodeValue;
        }
      }
    }
  }

  // Parse all children
  for (var childNodeKey in childNodes) {
    if (childNodes.hasOwnProperty(childNodeKey)) {
      var parsedChild = _parseExtension(childNodes[childNodeKey]);
      if (parsedChild) {
        ext.children.push(parsedChild);
      }
    }
  }

  /*
    Only parse value of Nodes with only eather no children or only a cdata or text
    to avoid useless parsing that would result to a concatenation of all children
  */
  if (ext.children.length === 0 || ext.children.length === 1 && index_of_default()(_context = ['#cdata-section', '#text']).call(_context, ext.children[0].name) >= 0) {
    var txt = parserUtils.parseNodeText(extNode);
    if (txt !== '') {
      ext.value = txt;
    }

    // Remove the children if it's a cdata or simply text to avoid useless children
    ext.children = [];
  }

  // Only return not empty objects to not pollute extentions
  return isEmptyExtension(ext) ? null : ext;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/creatives_parser.js






/**
 * Parses the creatives from the Creatives Node.
 * @param  {any} creativeNodes - The creative nodes to parse.
 * @return {Array<Creative>} - An array of Creative objects.
 */
function parseCreatives(creativeNodes) {
  var creatives = [];
  creativeNodes.forEach(function (creativeElement) {
    var creativeAttributes = {
      id: creativeElement.getAttribute('id') || null,
      adId: parseCreativeAdIdAttribute(creativeElement),
      sequence: creativeElement.getAttribute('sequence') || null,
      apiFramework: creativeElement.getAttribute('apiFramework') || null
    };
    var universalAdIds = [];
    var universalAdIdElements = parserUtils.childrenByName(creativeElement, 'UniversalAdId');
    universalAdIdElements.forEach(function (universalAdIdElement) {
      var universalAdId = {
        idRegistry: universalAdIdElement.getAttribute('idRegistry') || 'unknown',
        value: parserUtils.parseNodeText(universalAdIdElement)
      };
      universalAdIds.push(universalAdId);
    });
    var creativeExtensions;
    var creativeExtensionsElement = parserUtils.childByName(creativeElement, 'CreativeExtensions');
    if (creativeExtensionsElement) {
      creativeExtensions = parseExtensions(parserUtils.childrenByName(creativeExtensionsElement, 'CreativeExtension'));
    }
    for (var creativeTypeElementKey in creativeElement.childNodes) {
      var creativeTypeElement = creativeElement.childNodes[creativeTypeElementKey];
      var parsedCreative = void 0;
      switch (creativeTypeElement.nodeName) {
        case 'Linear':
          parsedCreative = parseCreativeLinear(creativeTypeElement, creativeAttributes);
          break;
        case 'NonLinearAds':
          parsedCreative = parseCreativeNonLinear(creativeTypeElement, creativeAttributes);
          break;
        case 'CompanionAds':
          parsedCreative = parseCreativeCompanion(creativeTypeElement, creativeAttributes);
          break;
      }
      if (parsedCreative) {
        if (universalAdIds) {
          parsedCreative.universalAdIds = universalAdIds;
        }
        if (creativeExtensions) {
          parsedCreative.creativeExtensions = creativeExtensions;
        }
        creatives.push(parsedCreative);
      }
    }
  });
  return creatives;
}

/**
 * Parses the creative adId Attribute.
 * @param  {any} creativeElement - The creative element to retrieve the adId from.
 * @return {String|null}
 */
function parseCreativeAdIdAttribute(creativeElement) {
  return creativeElement.getAttribute('AdID') ||
  // VAST 2 spec
  creativeElement.getAttribute('adID') ||
  // VAST 3 spec
  creativeElement.getAttribute('adId') ||
  // VAST 4 spec
  null;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/util/requiredValues.js
var requiredValues = {
  Wrapper: {
    subElements: ['VASTAdTagURI', 'Impression']
  },
  BlockedAdCategories: {
    attributes: ['authority']
  },
  InLine: {
    subElements: ['AdSystem', 'AdTitle', 'Impression', 'AdServingId', 'Creatives']
  },
  Category: {
    attributes: ['authority']
  },
  Pricing: {
    attributes: ['model', 'currency']
  },
  Verification: {
    oneOfinLineResources: ['JavaScriptResource', 'ExecutableResource'],
    attributes: ['vendor']
  },
  UniversalAdId: {
    attributes: ['idRegistry']
  },
  JavaScriptResource: {
    attributes: ['apiFramework', 'browserOptional']
  },
  ExecutableResource: {
    attributes: ['apiFramework', 'type']
  },
  Tracking: {
    attributes: ['event']
  },
  Creatives: {
    subElements: ['Creative']
  },
  Creative: {
    subElements: ['UniversalAdId']
  },
  Linear: {
    subElements: ['MediaFiles', 'Duration']
  },
  MediaFiles: {
    subElements: ['MediaFile']
  },
  MediaFile: {
    attributes: ['delivery', 'type', 'width', 'height']
  },
  Mezzanine: {
    attributes: ['delivery', 'type', 'width', 'height']
  },
  NonLinear: {
    oneOfinLineResources: ['StaticResource', 'IFrameResource', 'HTMLResource'],
    attributes: ['width', 'height']
  },
  Companion: {
    oneOfinLineResources: ['StaticResource', 'IFrameResource', 'HTMLResource'],
    attributes: ['width', 'height']
  },
  StaticResource: {
    attributes: ['creativeType']
  },
  Icons: {
    subElements: ['Icon']
  },
  Icon: {
    oneOfinLineResources: ['StaticResource', 'IFrameResource', 'HTMLResource']
  }
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/parser_verification.js




/**
 * Verify node required values and also verify recursively all his child nodes.
 * Trigger warnings if a node required value is missing.
 * @param  {Node} node - The node element.
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VASTParser#VAST-warning
 * @param  {undefined|Boolean} [isAdInline] - Passed recursively to itself. True if the node is contained inside a inLine tag.
 */
function verifyRequiredValues(node, emit, isAdInline) {
  if (!node || !node.nodeName) {
    return;
  }
  if (node.nodeName === 'InLine') {
    isAdInline = true;
  }
  verifyRequiredAttributes(node, emit);
  if (hasSubElements(node)) {
    verifyRequiredSubElements(node, emit, isAdInline);
    for (var i = 0; i < node.children.length; i++) {
      verifyRequiredValues(node.children[i], emit, isAdInline);
    }
  } else if (parserUtils.parseNodeText(node).length === 0) {
    emitMissingValueWarning({
      name: node.nodeName,
      parentName: node.parentNode.nodeName
    }, emit);
  }
}

/**
 * Verify and trigger warnings if node required attributes are not set.
 * @param  {Node} node - The node element.
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VASTParser#VAST-warning
 */
function verifyRequiredAttributes(node, emit) {
  if (!requiredValues[node.nodeName] || !requiredValues[node.nodeName].attributes) {
    return;
  }
  var requiredAttributes = requiredValues[node.nodeName].attributes;
  var missingAttributes = filter_default()(requiredAttributes).call(requiredAttributes, function (attributeName) {
    return !node.getAttribute(attributeName);
  });
  if (missingAttributes.length > 0) {
    emitMissingValueWarning({
      name: node.nodeName,
      parentName: node.parentNode.nodeName,
      attributes: missingAttributes
    }, emit);
  }
}

/**
 * Verify and trigger warnings if node required sub element are not set.
 * @param  {Node} node - The node element
 * @param  {Boolean} isAdInline - True if node is contained in a inline
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VASTParser#VAST-warning
 */
function verifyRequiredSubElements(node, emit, isAdInline) {
  var required = requiredValues[node.nodeName];
  // Do not verify subelement if node is a child of wrapper, but verify it if node is the Wrapper itself
  // Wrapper child have no required subElement. (Only InLine does)
  var isInWrapperButNotWrapperItself = !isAdInline && node.nodeName !== 'Wrapper';
  if (!required || isInWrapperButNotWrapperItself) {
    return;
  }
  if (required.subElements) {
    var requiredSubElements = required.subElements;
    var missingSubElements = filter_default()(requiredSubElements).call(requiredSubElements, function (subElementName) {
      return !parserUtils.childByName(node, subElementName);
    });
    if (missingSubElements.length > 0) {
      emitMissingValueWarning({
        name: node.nodeName,
        parentName: node.parentNode.nodeName,
        subElements: missingSubElements
      }, emit);
    }
  }

  // When InLine format is used some nodes (i.e <NonLinear>, <Companion>, or <Icon>)
  // require at least one of the following resources: StaticResource, IFrameResource, HTMLResource
  if (!isAdInline || !required.oneOfinLineResources) {
    return;
  }
  var resourceFound = required.oneOfinLineResources.some(function (resource) {
    return parserUtils.childByName(node, resource);
  });
  if (!resourceFound) {
    emitMissingValueWarning({
      name: node.nodeName,
      parentName: node.parentNode.nodeName,
      oneOfResources: required.oneOfinLineResources
    }, emit);
  }
}

/**
 * Check if a node has sub elements.
 * @param  {Node} node - The node element.
 * @returns {Boolean}
 */
function hasSubElements(node) {
  return node.children && node.children.length !== 0;
}

/**
 * Trigger Warning if a element is empty or has missing attributes/subelements/resources
 * @param  {Object} missingElement - Object containing missing elements and values
 * @param  {String} missingElement.name - The name of element containing missing values
 * @param  {String} missingElement.parentName - The parent name of element containing missing values
 * @param  {Array} missingElement.attributes - The array of missing attributes
 * @param  {Array} missingElement.subElements - The array of missing sub elements
 * @param  {Array} missingElement.oneOfResources - The array of resources in which at least one must be provided by the element
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VastParser#VAST-warning
 */
function emitMissingValueWarning(_ref, emit) {
  var name = _ref.name,
    parentName = _ref.parentName,
    attributes = _ref.attributes,
    subElements = _ref.subElements,
    oneOfResources = _ref.oneOfResources;
  var message = "Element '".concat(name, "'");
  if (attributes) {
    message += " missing required attribute(s) '".concat(attributes.join(', '), "' ");
  } else if (subElements) {
    message += " missing required sub element(s) '".concat(subElements.join(', '), "' ");
  } else if (oneOfResources) {
    message += " must provide one of the following '".concat(oneOfResources.join(', '), "' ");
  } else {
    message += " is empty";
  }
  emit('VAST-warning', {
    message: message,
    parentElement: parentName,
    specVersion: 4.1
  });
}
var parserVerification = {
  verifyRequiredValues: verifyRequiredValues,
  hasSubElements: hasSubElements,
  emitMissingValueWarning: emitMissingValueWarning,
  verifyRequiredAttributes: verifyRequiredAttributes,
  verifyRequiredSubElements: verifyRequiredSubElements
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/ad_parser.js











/**
 * This module provides methods to parse a VAST Ad Element.
 */

/**
 * Parses an Ad element (can either be a Wrapper or an InLine).
 * @param  {Object} adElement - The VAST Ad element to parse.
 * @param  {Function} emit - Emit function used to trigger Warning event
 * @param  {Object} options - An optional Object of parameters to be used in the parsing process.
 * @emits  VASTParser#VAST-warning
 * @return {Object|undefined} - Object containing the ad and if it is wrapper/inline
 */
function parseAd(adElement, emit) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
    allowMultipleAds = _ref.allowMultipleAds,
    followAdditionalWrappers = _ref.followAdditionalWrappers;
  var childNodes = adElement.childNodes;
  for (var adTypeElementKey in childNodes) {
    var _context;
    var adTypeElement = childNodes[adTypeElementKey];
    if (index_of_default()(_context = ['Wrapper', 'InLine']).call(_context, adTypeElement.nodeName) === -1) {
      continue;
    }
    if (adTypeElement.nodeName === 'Wrapper' && followAdditionalWrappers === false) {
      continue;
    }
    parserUtils.copyNodeAttribute('id', adElement, adTypeElement);
    parserUtils.copyNodeAttribute('sequence', adElement, adTypeElement);
    parserUtils.copyNodeAttribute('adType', adElement, adTypeElement);
    if (adTypeElement.nodeName === 'Wrapper') {
      return {
        ad: parseWrapper(adTypeElement, emit),
        type: 'WRAPPER'
      };
    } else if (adTypeElement.nodeName === 'InLine') {
      return {
        ad: parseInLine(adTypeElement, emit, {
          allowMultipleAds: allowMultipleAds
        }),
        type: 'INLINE'
      };
    }
  }
}

/**
 * Parses an Inline
 * @param  {Object} adElement Element - The VAST Inline element to parse.
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @param  {Object} options - An optional Object of parameters to be used in the parsing process.
 * @emits  VASTParser#VAST-warning
 * @return {Object} ad - The ad object.
 */
function parseInLine(adElement, emit) {
  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
    allowMultipleAds = _ref2.allowMultipleAds;
  // if allowMultipleAds is set to false by wrapper attribute
  // only the first stand-alone Ad (with no sequence values) in the
  // requested VAST response is allowed so we won't parse ads with sequence
  if (allowMultipleAds === false && adElement.getAttribute('sequence')) {
    return null;
  }
  return parseAdElement(adElement, emit);
}

/**
 * Parses an ad type (Inline or Wrapper)
 * @param  {Object} adTypeElement - The VAST Inline or Wrapper element to parse.
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VASTParser#VAST-warning
 * @return {Object} ad - The ad object.
 */
function parseAdElement(adTypeElement, emit) {
  var adVerificationsFromExtensions = [];
  if (emit) {
    parserVerification.verifyRequiredValues(adTypeElement, emit);
  }
  var childNodes = adTypeElement.childNodes;
  var ad = createAd(parserUtils.parseAttributes(adTypeElement));
  for (var nodeKey in childNodes) {
    var node = childNodes[nodeKey];
    switch (node.nodeName) {
      case 'Error':
        ad.errorURLTemplates.push(parserUtils.parseNodeText(node));
        break;
      case 'Impression':
        ad.impressionURLTemplates.push({
          id: node.getAttribute('id') || null,
          url: parserUtils.parseNodeText(node)
        });
        break;
      case 'Creatives':
        ad.creatives = parseCreatives(parserUtils.childrenByName(node, 'Creative'));
        break;
      case 'Extensions':
        {
          var extNodes = parserUtils.childrenByName(node, 'Extension');
          ad.extensions = parseExtensions(extNodes);

          /*
            OMID specify adVerifications should be in extensions for VAST < 4.0
            To avoid to put them on two different places in two different format we reparse it
            from extensions the same way than for an AdVerifications node.
          */
          if (!ad.adVerifications.length) {
            adVerificationsFromExtensions = _parseAdVerificationsFromExtensions(extNodes);
          }
          break;
        }
      case 'AdVerifications':
        ad.adVerifications = _parseAdVerifications(parserUtils.childrenByName(node, 'Verification'));
        break;
      case 'AdSystem':
        ad.system = {
          value: parserUtils.parseNodeText(node),
          version: node.getAttribute('version') || null
        };
        break;
      case 'AdTitle':
        ad.title = parserUtils.parseNodeText(node);
        break;
      case 'AdServingId':
        ad.adServingId = parserUtils.parseNodeText(node);
        break;
      case 'Category':
        ad.categories.push({
          authority: node.getAttribute('authority') || null,
          value: parserUtils.parseNodeText(node)
        });
        break;
      case 'Expires':
        ad.expires = parse_int_default()(parserUtils.parseNodeText(node), 10);
        break;
      case 'ViewableImpression':
        ad.viewableImpression.push(_parseViewableImpression(node));
        break;
      case 'Description':
        ad.description = parserUtils.parseNodeText(node);
        break;
      case 'Advertiser':
        ad.advertiser = {
          id: node.getAttribute('id') || null,
          value: parserUtils.parseNodeText(node)
        };
        break;
      case 'Pricing':
        ad.pricing = {
          value: parserUtils.parseNodeText(node),
          model: node.getAttribute('model') || null,
          currency: node.getAttribute('currency') || null
        };
        break;
      case 'Survey':
        ad.survey = {
          value: parserUtils.parseNodeText(node),
          type: node.getAttribute('type') || null
        };
        break;
      case 'BlockedAdCategories':
        ad.blockedAdCategories.push({
          authority: node.getAttribute('authority') || null,
          value: parserUtils.parseNodeText(node)
        });
        break;
    }
  }
  if (adVerificationsFromExtensions.length) {
    var _context2;
    ad.adVerifications = concat_default()(_context2 = ad.adVerifications).call(_context2, adVerificationsFromExtensions);
  }
  return ad;
}

/**
 * Parses a Wrapper element without resolving the wrapped urls.
 * @param  {Object} wrapperElement - The VAST Wrapper element to be parsed.
 * @param  {Function} emit - Emit function used to trigger Warning event.
 * @emits  VASTParser#VAST-warning
 * @return {Ad}
 */
function parseWrapper(wrapperElement, emit) {
  var ad = parseAdElement(wrapperElement, emit);
  var followAdditionalWrappersValue = wrapperElement.getAttribute('followAdditionalWrappers');
  var allowMultipleAdsValue = wrapperElement.getAttribute('allowMultipleAds');
  var fallbackOnNoAdValue = wrapperElement.getAttribute('fallbackOnNoAd');
  ad.followAdditionalWrappers = followAdditionalWrappersValue ? parserUtils.parseBoolean(followAdditionalWrappersValue) : true;
  ad.allowMultipleAds = allowMultipleAdsValue ? parserUtils.parseBoolean(allowMultipleAdsValue) : false;
  ad.fallbackOnNoAd = fallbackOnNoAdValue ? parserUtils.parseBoolean(fallbackOnNoAdValue) : null;
  var wrapperURLElement = parserUtils.childByName(wrapperElement, 'VASTAdTagURI');
  if (wrapperURLElement) {
    ad.nextWrapperURL = parserUtils.parseNodeText(wrapperURLElement);
  } else {
    wrapperURLElement = parserUtils.childByName(wrapperElement, 'VASTAdTagURL');
    if (wrapperURLElement) {
      ad.nextWrapperURL = parserUtils.parseNodeText(parserUtils.childByName(wrapperURLElement, 'URL'));
    }
  }
  ad.creatives.forEach(function (wrapperCreativeElement) {
    var _context3;
    if (index_of_default()(_context3 = ['linear', 'nonlinear']).call(_context3, wrapperCreativeElement.type) !== -1) {
      // TrackingEvents Linear / NonLinear
      if (wrapperCreativeElement.trackingEvents) {
        if (!ad.trackingEvents) {
          ad.trackingEvents = {};
        }
        if (!ad.trackingEvents[wrapperCreativeElement.type]) {
          ad.trackingEvents[wrapperCreativeElement.type] = {};
        }
        var _loop = function _loop(eventName) {
          var urls = wrapperCreativeElement.trackingEvents[eventName];
          if (!Array.isArray(ad.trackingEvents[wrapperCreativeElement.type][eventName])) {
            ad.trackingEvents[wrapperCreativeElement.type][eventName] = [];
          }
          urls.forEach(function (url) {
            ad.trackingEvents[wrapperCreativeElement.type][eventName].push(url);
          });
        };
        for (var eventName in wrapperCreativeElement.trackingEvents) {
          _loop(eventName);
        }
      }
      // ClickTracking
      if (wrapperCreativeElement.videoClickTrackingURLTemplates) {
        if (!Array.isArray(ad.videoClickTrackingURLTemplates)) {
          ad.videoClickTrackingURLTemplates = [];
        } // tmp property to save wrapper tracking URLs until they are merged
        wrapperCreativeElement.videoClickTrackingURLTemplates.forEach(function (item) {
          ad.videoClickTrackingURLTemplates.push(item);
        });
      }
      // ClickThrough
      if (wrapperCreativeElement.videoClickThroughURLTemplate) {
        ad.videoClickThroughURLTemplate = wrapperCreativeElement.videoClickThroughURLTemplate;
      }
      // CustomClick
      if (wrapperCreativeElement.videoCustomClickURLTemplates) {
        if (!Array.isArray(ad.videoCustomClickURLTemplates)) {
          ad.videoCustomClickURLTemplates = [];
        } // tmp property to save wrapper tracking URLs until they are merged
        wrapperCreativeElement.videoCustomClickURLTemplates.forEach(function (item) {
          ad.videoCustomClickURLTemplates.push(item);
        });
      }
    }
  });
  if (ad.nextWrapperURL) {
    return ad;
  }
}

/**
 * Parses the AdVerifications Element.
 * @param  {Array} verifications - The array of verifications to parse.
 * @return {Array<Object>}
 */
function _parseAdVerifications(verifications) {
  var ver = [];
  verifications.forEach(function (verificationNode) {
    var verification = createAdVerification();
    var childNodes = verificationNode.childNodes;
    parserUtils.assignAttributes(verificationNode.attributes, verification);
    for (var nodeKey in childNodes) {
      var node = childNodes[nodeKey];
      switch (node.nodeName) {
        case 'JavaScriptResource':
        case 'ExecutableResource':
          verification.resource = parserUtils.parseNodeText(node);
          parserUtils.assignAttributes(node.attributes, verification);
          break;
        case 'VerificationParameters':
          verification.parameters = parserUtils.parseNodeText(node);
          break;
      }
    }
    var trackingEventsElement = parserUtils.childByName(verificationNode, 'TrackingEvents');
    if (trackingEventsElement) {
      parserUtils.childrenByName(trackingEventsElement, 'Tracking').forEach(function (trackingElement) {
        var eventName = trackingElement.getAttribute('event');
        var trackingURLTemplate = parserUtils.parseNodeText(trackingElement);
        if (eventName && trackingURLTemplate) {
          if (!Array.isArray(verification.trackingEvents[eventName])) {
            verification.trackingEvents[eventName] = [];
          }
          verification.trackingEvents[eventName].push(trackingURLTemplate);
        }
      });
    }
    ver.push(verification);
  });
  return ver;
}

/**
 * Parses the AdVerifications Element from extension for versions < 4.0
 * @param  {Array<Node>} extensions - The array of extensions to parse.
 * @return {Array<Object>}
 */
function _parseAdVerificationsFromExtensions(extensions) {
  var adVerificationsNode = null,
    adVerifications = [];

  // Find the first (and only) AdVerifications node from extensions
  extensions.some(function (extension) {
    return adVerificationsNode = parserUtils.childByName(extension, 'AdVerifications');
  });

  // Parse it if we get it
  if (adVerificationsNode) {
    adVerifications = _parseAdVerifications(parserUtils.childrenByName(adVerificationsNode, 'Verification'));
  }
  return adVerifications;
}

/**
 * Parses the ViewableImpression Element.
 * @param  {Object} viewableImpressionNode - The ViewableImpression node element.
 * @return {Object} viewableImpression - The viewableImpression object
 */
function _parseViewableImpression(viewableImpressionNode) {
  var _context4, _context5, _context6;
  var regroupNodesUrl = function regroupNodesUrl(urls, node) {
    var url = parserUtils.parseNodeText(node);
    url && urls.push(url);
    return urls;
  };
  return {
    id: viewableImpressionNode.getAttribute('id') || null,
    viewable: reduce_default()(_context4 = parserUtils.childrenByName(viewableImpressionNode, 'Viewable')).call(_context4, regroupNodesUrl, []),
    notViewable: reduce_default()(_context5 = parserUtils.childrenByName(viewableImpressionNode, 'NotViewable')).call(_context5, regroupNodesUrl, []),
    viewUndetermined: reduce_default()(_context6 = parserUtils.childrenByName(viewableImpressionNode, 'ViewUndetermined')).call(_context6, regroupNodesUrl, [])
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/util/event_emitter.js







var EventEmitter = /*#__PURE__*/function () {
  function EventEmitter() {
    _classCallCheck(this, EventEmitter);
    this._handlers = [];
  }

  /**
   * Adds the event name and handler function to the end of the handlers array.
   * No checks are made to see if the handler has already been added.
   * Multiple calls passing the same combination of event name and handler will result in the handler being added,
   * and called, multiple times.
   * @param {String} event
   * @param {Function} handler
   * @returns {EventEmitter}
   */
  return _createClass(EventEmitter, [{
    key: "on",
    value: function on(event, handler) {
      if (typeof handler !== 'function') {
        throw new TypeError("The handler argument must be of type Function. Received type ".concat(_typeof(handler)));
      }
      if (!event) {
        throw new TypeError("The event argument must be of type String. Received type ".concat(_typeof(event)));
      }
      this._handlers.push({
        event: event,
        handler: handler
      });
      return this;
    }

    /**
     * Adds a one-time handler function for the named event.
     * The next time event is triggered, this handler is removed and then invoked.
     * @param {String} event
     * @param {Function} handler
     * @returns {EventEmitter}
     */
  }, {
    key: "once",
    value: function once(event, handler) {
      return this.on(event, onceWrap(this, event, handler));
    }

    /**
     * Removes all instances for the specified handler from the handler array for the named event.
     * @param {String} event
     * @param {Function} handler
     * @returns {EventEmitter}
     */
  }, {
    key: "off",
    value: function off(event, handler) {
      var _context;
      this._handlers = filter_default()(_context = this._handlers).call(_context, function (item) {
        return item.event !== event || item.handler !== handler;
      });
      return this;
    }

    /**
     * Synchronously calls each of the handlers registered for the named event,
     * in the order they were registered, passing the supplied arguments to each.
     * @param {String} event
     * @param  {...any} args list of arguments that will be used by the event handler
     * @returns {Boolean} true if the event had handlers, false otherwise.
     */
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      var called = false;
      this._handlers.forEach(function (item) {
        if (item.event === '*') {
          var _context2;
          called = true;
          item.handler.apply(item, concat_default()(_context2 = [event]).call(_context2, args));
        }
        if (item.event === event) {
          called = true;
          item.handler.apply(item, args);
        }
      });
      return called;
    }

    /**
     * Removes all listeners, or those of the specified named event.
     * @param {String} event
     * @returns {EventEmitter}
     */
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      var _context3;
      if (!event) {
        this._handlers = [];
        return this;
      }
      this._handlers = filter_default()(_context3 = this._handlers).call(_context3, function (item) {
        return item.event !== event;
      });
      return this;
    }

    /**
     * Returns the number of listeners listening to the named event.
     * @param {String} event
     * @returns {Number}
     */
  }, {
    key: "listenerCount",
    value: function listenerCount(event) {
      var _context4;
      return filter_default()(_context4 = this._handlers).call(_context4, function (item) {
        return item.event === event;
      }).length;
    }

    /**
     * Returns a copy of the array of listeners for the named event including those created by .once().
     * @param {String} event
     * @returns {Function[]}
     */
  }, {
    key: "listeners",
    value: function listeners(event) {
      var _context5;
      return reduce_default()(_context5 = this._handlers).call(_context5, function (listeners, item) {
        if (item.event === event) {
          listeners.push(item.handler);
        }
        return listeners;
      }, []);
    }

    /**
     * Returns an array listing the events for which the emitter has registered handlers.
     * @returns {String[]}
     */
  }, {
    key: "eventNames",
    value: function eventNames() {
      var _context6;
      return instance_map_default()(_context6 = this._handlers).call(_context6, function (item) {
        return item.event;
      });
    }
  }]);
}();
function onceWrap(target, event, handler) {
  var state = {
    fired: false,
    wrapFn: undefined
  };
  function onceWrapper() {
    if (!state.fired) {
      target.off(event, state.wrapFn);
      state.fired = true;
      handler.bind(target).apply(void 0, arguments);
    }
  }
  state.wrapFn = onceWrapper;
  return onceWrapper;
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/urlhandlers/mock_node_url_handler.js
// This mock module is loaded in stead of the original NodeURLHandler module
// when bundling the library for environments which are not node.
// This allows us to avoid bundling useless node components and have a smaller build.
function get(url, options, cb) {
  cb(new Error('Please bundle the library for node to use the node urlHandler'));
}
var nodeURLHandler = {
  get: get
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/urlhandlers/consts.js
var DEFAULT_TIMEOUT = 120000;
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/urlhandlers/xhr_url_handler.js



function xhr() {
  try {
    var request = new window.XMLHttpRequest();
    if ('withCredentials' in request) {
      // check CORS support
      return request;
    }
    return null;
  } catch (err) {
    return null;
  }
}
function supported() {
  return !!xhr();
}
function handleLoad(request, cb) {
  if (request.status === 200) {
    cb(null, request.responseXML, {
      byteLength: request.response.length,
      statusCode: request.status
    });
  } else {
    handleFail(request, cb, false);
  }
}
function handleFail(request, cb, isTimeout) {
  var _context, _context2;
  var statusCode = !isTimeout ? request.status : 408; // Request timeout
  var msg = isTimeout ? concat_default()(_context = "XHRURLHandler: Request timed out after ".concat(request.timeout, " ms (")).call(_context, statusCode, ")") : concat_default()(_context2 = "XHRURLHandler: ".concat(request.statusText, " (")).call(_context2, statusCode, ")");
  cb(new Error(msg), null, {
    statusCode: statusCode
  });
}
function xhr_url_handler_get(url, options, cb) {
  if (window.location.protocol === 'https:' && index_of_default()(url).call(url, 'http://') === 0) {
    return cb(new Error('XHRURLHandler: Cannot go from HTTPS to HTTP.'));
  }
  try {
    var request = xhr();
    request.open('GET', url);
    request.timeout = options.timeout || DEFAULT_TIMEOUT;
    request.withCredentials = options.withCredentials || false;
    request.overrideMimeType && request.overrideMimeType('text/xml');
    request.onload = function () {
      return handleLoad(request, cb);
    };
    request.onerror = function () {
      return handleFail(request, cb, false);
    };
    request.onabort = function () {
      return handleFail(request, cb, false);
    };
    request.ontimeout = function () {
      return handleFail(request, cb, true);
    };
    request.send();
  } catch (error) {
    cb(new Error('XHRURLHandler: Unexpected error'));
  }
}
var XHRURLHandler = {
  get: xhr_url_handler_get,
  supported: supported
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/url_handler.js


function url_handler_get(url, options, cb) {
  // Allow skip of the options param
  if (!cb) {
    if (typeof options === 'function') {
      cb = options;
    }
    options = {};
  }
  if (typeof window === 'undefined' || window === null) {
    return nodeURLHandler.get(url, options, cb);
  } else if (XHRURLHandler.supported()) {
    return XHRURLHandler.get(url, options, cb);
  }
  return cb(new Error('Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler'));
}
var urlHandler = {
  get: url_handler_get
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/vast_response.js
function createVASTResponse(_ref) {
  var ads = _ref.ads,
    errorURLTemplates = _ref.errorURLTemplates,
    version = _ref.version;
  return {
    ads: ads || [],
    errorURLTemplates: errorURLTemplates || [],
    version: version || null
  };
}
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/bitrate.js
/*
  We decided to put the estimated bitrate separated from classes to persist it between different instances of vast client/parser
*/

var estimatedBitrateCount = 0;
var estimatedBitrate = 0;

/**
 * Calculate average estimated bitrate from the previous values and new entries
 * @param {Number} byteLength - The length of the response in bytes.
 * @param {Number} duration - The duration of the request in ms.
 */
var updateEstimatedBitrate = function updateEstimatedBitrate(byteLength, duration) {
  if (!byteLength || !duration || byteLength <= 0 || duration <= 0) {
    return;
  }

  // We want the bitrate in kb/s, byteLength are in bytes and duration in ms, just need to convert the byteLength because kb/s = b/ms
  var bitrate = byteLength * 8 / duration;
  estimatedBitrate = (estimatedBitrate * estimatedBitrateCount + bitrate) / ++estimatedBitrateCount;
};
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/parser/vast_parser.js












function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? construct_default()(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }








var DEFAULT_MAX_WRAPPER_DEPTH = 10;
var DEFAULT_EVENT_DATA = {
  ERRORCODE: 900,
  extensions: []
};

/**
 * This class provides methods to fetch and parse a VAST document.
 * @export
 * @class VASTParser
 * @extends EventEmitter
 */
var VASTParser = /*#__PURE__*/function (_EventEmitter) {
  /**
   * Creates an instance of VASTParser.
   * @constructor
   */
  function VASTParser() {
    var _this;
    _classCallCheck(this, VASTParser);
    _this = _callSuper(this, VASTParser);
    _this.remainingAds = [];
    _this.errorURLTemplates = [];
    _this.rootErrorURLTemplates = [];
    _this.maxWrapperDepth = null;
    _this.URLTemplateFilters = [];
    _this.fetchingOptions = {};
    _this.parsingOptions = {};
    return _this;
  }

  /**
   * Adds a filter function to the array of filters which are called before fetching a VAST document.
   * @param  {function} filter - The filter function to be added at the end of the array.
   * @return {void}
   */
  _inherits(VASTParser, _EventEmitter);
  return _createClass(VASTParser, [{
    key: "addURLTemplateFilter",
    value: function addURLTemplateFilter(filter) {
      if (typeof filter === 'function') {
        this.URLTemplateFilters.push(filter);
      }
    }

    /**
     * Removes the last element of the url templates filters array.
     * @return {void}
     */
  }, {
    key: "removeURLTemplateFilter",
    value: function removeURLTemplateFilter() {
      this.URLTemplateFilters.pop();
    }

    /**
     * Returns the number of filters of the url templates filters array.
     * @return {Number}
     */
  }, {
    key: "countURLTemplateFilters",
    value: function countURLTemplateFilters() {
      return this.URLTemplateFilters.length;
    }

    /**
     * Removes all the filter functions from the url templates filters array.
     * @return {void}
     */
  }, {
    key: "clearURLTemplateFilters",
    value: function clearURLTemplateFilters() {
      this.URLTemplateFilters = [];
    }

    /**
     * Tracks the error provided in the errorCode parameter and emits a VAST-error event for the given error.
     * @param  {Array} urlTemplates - An Array of url templates to use to make the tracking call.
     * @param  {Object} errorCode - An Object containing the error data.
     * @param  {Object} data - One (or more) Object containing additional data.
     * @emits  VASTParser#VAST-error
     * @return {void}
     */
  }, {
    key: "trackVastError",
    value: function trackVastError(urlTemplates, errorCode) {
      var _context;
      for (var _len = arguments.length, data = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        data[_key - 2] = arguments[_key];
      }
      this.emit('VAST-error', assign_default().apply(Object, concat_default()(_context = [{}, DEFAULT_EVENT_DATA, errorCode]).call(_context, data)));
      util.track(urlTemplates, errorCode);
    }

    /**
     * Returns an array of errorURLTemplates for the VAST being parsed.
     * @return {Array}
     */
  }, {
    key: "getErrorURLTemplates",
    value: function getErrorURLTemplates() {
      var _context2;
      return concat_default()(_context2 = this.rootErrorURLTemplates).call(_context2, this.errorURLTemplates);
    }

    /**
     * Returns the estimated bitrate calculated from all previous requests
     * @returns The average of all estimated bitrates in kb/s.
     */
  }, {
    key: "getEstimatedBitrate",
    value: function getEstimatedBitrate() {
      return estimatedBitrate;
    }

    /**
     * Fetches a VAST document for the given url.
     * Returns a Promise which resolves,rejects according to the result of the request.
     * @param  {String} url - The url to request the VAST document.
     * @param {Number} wrapperDepth - How many times the current url has been wrapped.
     * @param {String} previousUrl - Url of the previous VAST.
     * @param {Object} wrapperAd - Previously parsed ad node (Wrapper) related to this fetching.
     * @emits  VASTParser#VAST-resolving
     * @emits  VASTParser#VAST-resolved
     * @return {Promise}
     */
  }, {
    key: "fetchVAST",
    value: function fetchVAST(url) {
      var _this2 = this;
      var wrapperDepth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var previousUrl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var wrapperAd = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
      return new (core_js_stable_promise_default())(function (resolve, reject) {
        // Process url with defined filter
        _this2.URLTemplateFilters.forEach(function (filter) {
          url = filter(url);
        });
        var timeBeforeGet = Date.now();
        _this2.emit('VAST-resolving', {
          url: url,
          previousUrl: previousUrl,
          wrapperDepth: wrapperDepth,
          maxWrapperDepth: _this2.maxWrapperDepth,
          timeout: _this2.fetchingOptions.timeout,
          wrapperAd: wrapperAd
        });
        _this2.urlHandler.get(url, _this2.fetchingOptions, function (error, xml) {
          var details = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
          var deltaTime = Math.round(Date.now() - timeBeforeGet);
          var info = assign_default()({
            url: url,
            previousUrl: previousUrl,
            wrapperDepth: wrapperDepth,
            error: error,
            duration: deltaTime
          }, details);
          _this2.emit('VAST-resolved', info);
          updateEstimatedBitrate(details.byteLength, deltaTime);
          if (error) {
            reject(error);
          } else {
            resolve(xml);
          }
        });
      });
    }

    /**
     * Inits the parsing properties of the class with the custom values provided as options.
     * @param {Object} options - The options to initialize a parsing sequence
     */
  }, {
    key: "initParsingStatus",
    value: function initParsingStatus() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.errorURLTemplates = [];
      this.fetchingOptions = {
        timeout: options.timeout || DEFAULT_TIMEOUT,
        withCredentials: options.withCredentials
      };
      this.maxWrapperDepth = options.wrapperLimit || DEFAULT_MAX_WRAPPER_DEPTH;
      this.parsingOptions = {
        allowMultipleAds: options.allowMultipleAds
      };
      this.remainingAds = [];
      this.rootErrorURLTemplates = [];
      this.rootURL = '';
      this.urlHandler = options.urlHandler || options.urlhandler || urlHandler;
      this.vastVersion = null;
      updateEstimatedBitrate(options.byteLength, options.requestDuration);
    }

    /**
     * Resolves the next group of ads. If all is true resolves all the remaining ads.
     * @param  {Boolean} all - If true all the remaining ads are resolved
     * @return {Promise}
     */
  }, {
    key: "getRemainingAds",
    value: function getRemainingAds(all) {
      var _this3 = this;
      if (this.remainingAds.length === 0) {
        return core_js_stable_promise_default().reject(new Error('No more ads are available for the given VAST'));
      }
      var ads = all ? util.flatten(this.remainingAds) : this.remainingAds.shift();
      this.errorURLTemplates = [];
      return this.resolveAds(ads, {
        wrapperDepth: 0,
        url: this.rootURL
      }).then(function (resolvedAds) {
        return _this3.buildVASTResponse(resolvedAds);
      });
    }

    /**
     * Fetches and parses a VAST for the given url.
     * Returns a Promise which resolves with a fully parsed VASTResponse or rejects with an Error.
     * @param  {String} url - The url to request the VAST document.
     * @param  {Object} options - An optional Object of parameters to be used in the parsing process.
     * @emits  VASTParser#VAST-resolving
     * @emits  VASTParser#VAST-resolved
     * @emits  VASTParser#VAST-warning
     * @return {Promise}
     */
  }, {
    key: "getAndParseVAST",
    value: function getAndParseVAST(url) {
      var _this4 = this;
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.initParsingStatus(options);
      this.URLTemplateFilters.forEach(function (filter) {
        url = filter(url);
      });
      this.rootURL = url;
      return this.fetchVAST(url).then(function (xml) {
        options.previousUrl = url;
        options.isRootVAST = true;
        options.url = url;
        return _this4.parse(xml, options).then(function (ads) {
          return _this4.buildVASTResponse(ads);
        });
      });
    }

    /**
     * Parses the given xml Object into a VASTResponse.
     * Returns a Promise which resolves with a fully parsed VASTResponse or rejects with an Error.
     * @param  {Object} vastXml - An object representing a vast xml document.
     * @param  {Object} options - An optional Object of parameters to be used in the parsing process.
     * @emits  VASTParser#VAST-resolving
     * @emits  VASTParser#VAST-resolved
     * @emits  VASTParser#VAST-warning
     * @return {Promise}
     */
  }, {
    key: "parseVAST",
    value: function parseVAST(vastXml) {
      var _this5 = this;
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.initParsingStatus(options);
      options.isRootVAST = true;
      return this.parse(vastXml, options).then(function (ads) {
        return _this5.buildVASTResponse(ads);
      });
    }

    /**
     * Builds a VASTResponse which can be returned.
     * @param  {Array} ads - An Array of unwrapped ads
     * @return {Object}
     */
  }, {
    key: "buildVASTResponse",
    value: function buildVASTResponse(ads) {
      var response = createVASTResponse({
        ads: ads,
        errorURLTemplates: this.getErrorURLTemplates(),
        version: this.vastVersion
      });
      this.completeWrapperResolving(response);
      return response;
    }

    /**
     * Parses the given xml Object into an array of ads
     * Returns the array or throws an `Error` if an invalid VAST XML is provided
     * @param  {Object} vastXml - An object representing an xml document.
     * @param  {Object} options - An optional Object of parameters to be used in the parsing process.
     * @emits  VASTParser#VAST-warning
     * @emits VASTParser#VAST-ad-parsed
     * @return {Array}
     * @throws {Error} `vastXml` must be a valid VAST XMLDocument
     */
  }, {
    key: "parseVastXml",
    value: function parseVastXml(vastXml, _ref) {
      var _ref$isRootVAST = _ref.isRootVAST,
        isRootVAST = _ref$isRootVAST === void 0 ? false : _ref$isRootVAST,
        _ref$url = _ref.url,
        url = _ref$url === void 0 ? null : _ref$url,
        _ref$wrapperDepth = _ref.wrapperDepth,
        wrapperDepth = _ref$wrapperDepth === void 0 ? 0 : _ref$wrapperDepth,
        allowMultipleAds = _ref.allowMultipleAds,
        followAdditionalWrappers = _ref.followAdditionalWrappers;
      // check if is a valid VAST document
      if (!vastXml || !vastXml.documentElement || vastXml.documentElement.nodeName !== 'VAST') {
        this.emit('VAST-ad-parsed', {
          type: 'ERROR',
          url: url,
          wrapperDepth: wrapperDepth
        });
        throw new Error('Invalid VAST XMLDocument');
      }
      var ads = [];
      var childNodes = vastXml.documentElement.childNodes;

      /* Only parse the version of the Root VAST for now because we don't know yet how to
       * handle some cases like multiple wrappers in the same vast
       */
      var vastVersion = vastXml.documentElement.getAttribute('version');
      if (isRootVAST) {
        if (vastVersion) this.vastVersion = vastVersion;
      }

      // Fill the VASTResponse object with ads and errorURLTemplates
      for (var nodeKey in childNodes) {
        var node = childNodes[nodeKey];
        if (node.nodeName === 'Error') {
          var errorURLTemplate = parserUtils.parseNodeText(node);

          // Distinguish root VAST url templates from ad specific ones
          isRootVAST ? this.rootErrorURLTemplates.push(errorURLTemplate) : this.errorURLTemplates.push(errorURLTemplate);
        } else if (node.nodeName === 'Ad') {
          // allowMultipleAds was introduced in VAST 3
          // for retrocompatibility set it to true
          if (this.vastVersion && parse_float_default()(this.vastVersion) < 3) {
            allowMultipleAds = true;
          } else if (allowMultipleAds === false && ads.length > 1) {
            // if wrapper allowMultipleAds is set to false only the first stand-alone Ad
            // (with no sequence values) in the requested VAST response is allowed
            break;
          }
          var result = parseAd(node, this.emit.bind(this), {
            allowMultipleAds: allowMultipleAds,
            followAdditionalWrappers: followAdditionalWrappers
          });
          if (result.ad) {
            ads.push(result.ad);
            this.emit('VAST-ad-parsed', {
              type: result.type,
              url: url,
              wrapperDepth: wrapperDepth,
              adIndex: ads.length - 1,
              vastVersion: vastVersion
            });
          } else {
            // VAST version of response not supported.
            this.trackVastError(this.getErrorURLTemplates(), {
              ERRORCODE: 101
            });
          }
        }
      }
      return ads;
    }

    /**
     * Parses the given xml Object into an array of unwrapped ads.
     * Returns a Promise which resolves with the array or rejects with an error according to the result of the parsing.
     * @param {Object} vastXml - An object representing an xml document.
     * @param {Object} options - An optional Object of parameters to be used in the parsing process.
     * @emits VASTParser#VAST-resolving
     * @emits VASTParser#VAST-resolved
     * @emits VASTParser#VAST-warning
     * @return {Promise}
     */
  }, {
    key: "parse",
    value: function parse(vastXml) {
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref2$url = _ref2.url,
        url = _ref2$url === void 0 ? null : _ref2$url,
        _ref2$resolveAll = _ref2.resolveAll,
        resolveAll = _ref2$resolveAll === void 0 ? true : _ref2$resolveAll,
        _ref2$wrapperSequence = _ref2.wrapperSequence,
        wrapperSequence = _ref2$wrapperSequence === void 0 ? null : _ref2$wrapperSequence,
        _ref2$previousUrl = _ref2.previousUrl,
        previousUrl = _ref2$previousUrl === void 0 ? null : _ref2$previousUrl,
        _ref2$wrapperDepth = _ref2.wrapperDepth,
        wrapperDepth = _ref2$wrapperDepth === void 0 ? 0 : _ref2$wrapperDepth,
        _ref2$isRootVAST = _ref2.isRootVAST,
        isRootVAST = _ref2$isRootVAST === void 0 ? false : _ref2$isRootVAST,
        followAdditionalWrappers = _ref2.followAdditionalWrappers,
        allowMultipleAds = _ref2.allowMultipleAds;
      var ads = [];
      // allowMultipleAds was introduced in VAST 3 as wrapper attribute
      // for retrocompatibility set it to true for vast pre-version 3
      if (this.vastVersion && parse_float_default()(this.vastVersion) < 3 && isRootVAST) {
        allowMultipleAds = true;
      }
      try {
        ads = this.parseVastXml(vastXml, {
          isRootVAST: isRootVAST,
          url: url,
          wrapperDepth: wrapperDepth,
          allowMultipleAds: allowMultipleAds,
          followAdditionalWrappers: followAdditionalWrappers
        });
      } catch (e) {
        return core_js_stable_promise_default().reject(e);
      }

      /* Keep wrapper sequence value to not break AdPod when wrapper contain only one Ad.
      e.g,for a AdPod containing :
      - Inline with sequence=1
      - Inline with sequence=2
      - Wrapper with sequence=3 wrapping a Inline with sequence=1
      once parsed we will obtain :
      - Inline sequence 1,
      - Inline sequence 2,
      - Inline sequence 3
      */
      if (ads.length === 1 && wrapperSequence !== undefined && wrapperSequence !== null) {
        ads[0].sequence = wrapperSequence;
      }

      // Split the VAST in case we don't want to resolve everything at the first time
      if (resolveAll === false) {
        this.remainingAds = parserUtils.splitVAST(ads);
        // Remove the first element from the remaining ads array, since we're going to resolve that element
        ads = this.remainingAds.shift();
      }
      return this.resolveAds(ads, {
        wrapperDepth: wrapperDepth,
        previousUrl: previousUrl,
        url: url
      });
    }

    /**
     * Resolves an Array of ads, recursively calling itself with the remaining ads if a no ad
     * response is returned for the given array.
     * @param {Array} ads - An array of ads to resolve
     * @param {Object} options - An options Object containing resolving parameters
     * @return {Promise}
     */
  }, {
    key: "resolveAds",
    value: function resolveAds() {
      var _this6 = this;
      var ads = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var _ref3 = arguments.length > 1 ? arguments[1] : undefined,
        wrapperDepth = _ref3.wrapperDepth,
        previousUrl = _ref3.previousUrl,
        url = _ref3.url;
      var resolveWrappersPromises = [];
      previousUrl = url;
      ads.forEach(function (ad) {
        var resolveWrappersPromise = _this6.resolveWrappers(ad, wrapperDepth, previousUrl);
        resolveWrappersPromises.push(resolveWrappersPromise);
      });
      return core_js_stable_promise_default().all(resolveWrappersPromises).then(function (unwrappedAds) {
        var resolvedAds = util.flatten(unwrappedAds);
        if (!resolvedAds && _this6.remainingAds.length > 0) {
          var remainingAdsToResolve = _this6.remainingAds.shift();
          return _this6.resolveAds(remainingAdsToResolve, {
            wrapperDepth: wrapperDepth,
            previousUrl: previousUrl,
            url: url
          });
        }
        return resolvedAds;
      });
    }

    /**
     * Resolves the wrappers for the given ad in a recursive way.
     * Returns a Promise which resolves with the unwrapped ad or rejects with an error.
     * @param {Object} ad - An ad object to be unwrapped.
     * @param {Number} wrapperDepth - The reached depth in the wrapper resolving chain.
     * @param {String} previousUrl - The previous vast url.
     * @return {Promise}
     */
  }, {
    key: "resolveWrappers",
    value: function resolveWrappers(ad, wrapperDepth, previousUrl) {
      var _this7 = this;
      return new (core_js_stable_promise_default())(function (resolve) {
        var _this7$parsingOptions;
        // Going one level deeper in the wrapper chain
        wrapperDepth++;
        // We already have a resolved VAST ad, no need to resolve wrapper
        if (!ad.nextWrapperURL) {
          delete ad.nextWrapperURL;
          return resolve(ad);
        }
        if (wrapperDepth >= _this7.maxWrapperDepth) {
          // Wrapper limit reached, as defined by the video player.
          // Too many Wrapper responses have been received with no InLine response.
          ad.errorCode = 302;
          delete ad.nextWrapperURL;
          return resolve(ad);
        }

        // Get full URL
        ad.nextWrapperURL = parserUtils.resolveVastAdTagURI(ad.nextWrapperURL, previousUrl);
        _this7.URLTemplateFilters.forEach(function (filter) {
          ad.nextWrapperURL = filter(ad.nextWrapperURL);
        });

        // If allowMultipleAds is set inside the parameter 'option' of public method
        // override the vast value by the one provided
        var allowMultipleAds = (_this7$parsingOptions = _this7.parsingOptions.allowMultipleAds) !== null && _this7$parsingOptions !== void 0 ? _this7$parsingOptions : ad.allowMultipleAds;
        // sequence doesn't carry over in wrapper element
        var wrapperSequence = ad.sequence;
        _this7.fetchVAST(ad.nextWrapperURL, wrapperDepth, previousUrl, ad).then(function (xml) {
          return _this7.parse(xml, {
            url: ad.nextWrapperURL,
            previousUrl: previousUrl,
            wrapperSequence: wrapperSequence,
            wrapperDepth: wrapperDepth,
            followAdditionalWrappers: ad.followAdditionalWrappers,
            allowMultipleAds: allowMultipleAds
          }).then(function (unwrappedAds) {
            delete ad.nextWrapperURL;
            if (unwrappedAds.length === 0) {
              // No ads returned by the wrappedResponse, discard current <Ad><Wrapper> creatives
              ad.creatives = [];
              return resolve(ad);
            }
            unwrappedAds.forEach(function (unwrappedAd) {
              if (unwrappedAd) {
                parserUtils.mergeWrapperAdData(unwrappedAd, ad);
              }
            });
            resolve(unwrappedAds);
          });
        }).catch(function (err) {
          // Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element.
          // (URI was either unavailable or reached a timeout as defined by the video player.)
          ad.errorCode = 301;
          ad.errorMessage = err.message;
          resolve(ad);
        });
      });
    }

    /**
     * Takes care of handling errors when the wrappers are resolved.
     * @param {Object} vastResponse - A resolved VASTResponse.
     */
  }, {
    key: "completeWrapperResolving",
    value: function completeWrapperResolving(vastResponse) {
      // We've to wait for all <Ad> elements to be parsed before handling error so we can:
      // - Send computed extensions data
      // - Ping all <Error> URIs defined across VAST files

      // No Ad case - The parser never bump into an <Ad> element
      if (vastResponse.ads.length === 0) {
        this.trackVastError(vastResponse.errorURLTemplates, {
          ERRORCODE: 303
        });
      } else {
        for (var index = vastResponse.ads.length - 1; index >= 0; index--) {
          // - Error encountered while parsing
          // - No Creative case - The parser has dealt with soma <Ad><Wrapper> or/and an <Ad><Inline> elements
          // but no creative was found
          var ad = vastResponse.ads[index];
          if (ad.errorCode || ad.creatives.length === 0) {
            var _context3, _context4;
            this.trackVastError(concat_default()(_context3 = ad.errorURLTemplates).call(_context3, vastResponse.errorURLTemplates), {
              ERRORCODE: ad.errorCode || 303
            }, {
              ERRORMESSAGE: ad.errorMessage || ''
            }, {
              extensions: ad.extensions
            }, {
              system: ad.system
            });
            splice_default()(_context4 = vastResponse.ads).call(_context4, index, 1);
          }
        }
      }
    }
  }]);
}(EventEmitter);
;// CONCATENATED MODULE: ./src/assets/@dailymotion/vast-client/src/vast_client.js








/**
 * This class provides methods to fetch and parse a VAST document using VASTParser.
 * In addition it provides options to skip consecutive calls based on constraints.
 * @export
 * @class VASTClient
 */
var VASTClient = /*#__PURE__*/function () {
  /**
   * Creates an instance of VASTClient.
   * @param  {Number} cappingFreeLunch - The number of first calls to skip.
   * @param  {Number} cappingMinimumTimeInterval - The minimum time interval between two consecutive calls.
   * @param  {Storage} customStorage - A custom storage to use instead of the default one.
   * @constructor
   */
  function VASTClient(cappingFreeLunch, cappingMinimumTimeInterval, customStorage) {
    _classCallCheck(this, VASTClient);
    this.cappingFreeLunch = cappingFreeLunch || 0;
    this.cappingMinimumTimeInterval = cappingMinimumTimeInterval || 0;
    this.defaultOptions = {
      withCredentials: false,
      timeout: 0
    };
    this.vastParser = new VASTParser();
    this.storage = customStorage || new Storage();

    // Init values if not already set
    if (this.lastSuccessfulAd === undefined) {
      this.lastSuccessfulAd = 0;
    }
    if (this.totalCalls === undefined) {
      this.totalCalls = 0;
    }
    if (this.totalCallsTimeout === undefined) {
      this.totalCallsTimeout = 0;
    }
  }
  return _createClass(VASTClient, [{
    key: "getParser",
    value: function getParser() {
      return this.vastParser;
    }
  }, {
    key: "lastSuccessfulAd",
    get: function get() {
      return this.storage.getItem('vast-client-last-successful-ad');
    },
    set: function set(value) {
      this.storage.setItem('vast-client-last-successful-ad', value);
    }
  }, {
    key: "totalCalls",
    get: function get() {
      return this.storage.getItem('vast-client-total-calls');
    },
    set: function set(value) {
      this.storage.setItem('vast-client-total-calls', value);
    }
  }, {
    key: "totalCallsTimeout",
    get: function get() {
      return this.storage.getItem('vast-client-total-calls-timeout');
    },
    set: function set(value) {
      this.storage.setItem('vast-client-total-calls-timeout', value);
    }

    /**
     * Returns a boolean indicating if there are more ads to resolve for the current parsing.
     * @return {Boolean}
     */
  }, {
    key: "hasRemainingAds",
    value: function hasRemainingAds() {
      return this.vastParser.remainingAds.length > 0;
    }

    /**
     * Resolves the next group of ads. If all is true resolves all the remaining ads.
     * @param  {Boolean} all - If true all the remaining ads are resolved
     * @return {Promise}
     */
  }, {
    key: "getNextAds",
    value: function getNextAds(all) {
      return this.vastParser.getRemainingAds(all);
    }

    /**
     * Gets a parsed VAST document for the given url, applying the skipping rules defined.
     * Returns a Promise which resolves with a fully parsed VASTResponse or rejects with an Error.
     * @param  {String} url - The url to use to fecth the VAST document.
     * @param  {Object} options - An optional Object of parameters to be applied in the process.
     * @return {Promise}
     */
  }, {
    key: "get",
    value: function get(url) {
      var _this = this;
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var now = Date.now();
      options = assign_default()({}, this.defaultOptions, options);

      // By default the client resolves only the first Ad or AdPod
      if (!options.hasOwnProperty('resolveAll')) {
        options.resolveAll = false;
      }

      // Check totalCallsTimeout (first call + 1 hour), if older than now,
      // reset totalCalls number, by this way the client will be eligible again
      // for freelunch capping
      if (this.totalCallsTimeout < now) {
        this.totalCalls = 1;
        this.totalCallsTimeout = now + 60 * 60 * 1000;
      } else {
        this.totalCalls++;
      }
      return new (core_js_stable_promise_default())(function (resolve, reject) {
        if (_this.cappingFreeLunch >= _this.totalCalls) {
          var _context;
          return reject(new Error(concat_default()(_context = "VAST call canceled \u2013 FreeLunch capping not reached yet ".concat(_this.totalCalls, "/")).call(_context, _this.cappingFreeLunch)));
        }
        var timeSinceLastCall = now - _this.lastSuccessfulAd;

        // Check timeSinceLastCall to be a positive number. If not, this mean the
        // previous was made in the future. We reset lastSuccessfulAd value
        if (timeSinceLastCall < 0) {
          _this.lastSuccessfulAd = 0;
        } else if (timeSinceLastCall < _this.cappingMinimumTimeInterval) {
          return reject(new Error("VAST call canceled \u2013 (".concat(_this.cappingMinimumTimeInterval, ")ms minimum interval reached")));
        }
        _this.vastParser.getAndParseVAST(url, options).then(function (response) {
          return resolve(response);
        }).catch(function (err) {
          return reject(err);
        });
      });
    }
  }]);
}();
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(5072);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js
var styleDomAPI = __webpack_require__(7825);
var styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js
var insertBySelector = __webpack_require__(7659);
var insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js
var setAttributesWithoutAttributes = __webpack_require__(5056);
var setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js
var insertStyleElement = __webpack_require__(8159);
var insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js
var styleTagTransform = __webpack_require__(3494);
var styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/less-loader/dist/cjs.js!./src/less/rmp-vast.less
var rmp_vast = __webpack_require__(382);
;// CONCATENATED MODULE: ./src/less/rmp-vast.less

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (styleTagTransform_default());
options.setAttributes = (setAttributesWithoutAttributes_default());
options.insert = insertBySelector_default().bind(null, "head");
options.domAPI = (styleDomAPI_default());
options.insertStyleElement = (insertStyleElement_default());

var update = injectStylesIntoStyleTag_default()(rmp_vast/* default */.A, options);




       /* harmony default export */ var less_rmp_vast = (rmp_vast/* default */.A && rmp_vast/* default */.A.locals ? rmp_vast/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./src/js/index.js










/**
 * @license Copyright (c) 2015-2024 Radiant Media Player | https://www.radiantmediaplayer.com
 * rmp-vast
 * GitHub: https://github.com/radiantmediaplayer/rmp-vast
 * MIT License: https://github.com/radiantmediaplayer/rmp-vast/blob/master/LICENSE
 */

















/**
 * The class to instantiate RmpVast
 * @export
 * @class RmpVast
*/
var RmpVast = /*#__PURE__*/function () {
  /**
   * @constructor
   * @param {string}  id - the id for the player container. Required parameter.
   * @typedef {object} VpaidSettings
   * @property {number} [width]
   * @property {number} [height]
   * @property {string} [viewMode]
   * @property {number} [desiredBitrate]
   * @typedef {object} Labels
   * @property {string} [skipMessage]
   * @property {string} [closeAd]
   * @property {string} [textForInteractionUIOnMobile] 
   * @typedef {object} RmpVastParams
   * @property {number} [ajaxTimeout] - timeout in ms for an AJAX request to load a VAST tag from the ad server.
   *  Default 8000.
   * @property {number} [creativeLoadTimeout] - timeout in ms to load linear media creative from the server. 
   *  Default 10000.
   * @property {boolean} [ajaxWithCredentials] - AJAX request to load VAST tag from ad server should or should not be 
   *  made with credentials. Default: false.
   * @property {number} [maxNumRedirects] - the number of VAST wrappers the player should follow before triggering an
   *  error. Default: 4. Capped at 30 to avoid infinite wrapper loops.
   * @property {boolean} [outstream] - Enables outstream ad mode. Default: false.
   * @property {boolean} [showControlsForAdPlayer] - Shows Ad player HTML5 default video controls. Default: false.
   * @property {boolean} [vastXmlInput] - Instead of a VAST URI, we provide directly to rmp-vast VAST XML. Default: false.
   * @property {boolean} [enableVpaid] - Enables VPAID support or not. Default: true.
   * @property {VpaidSettings} [vpaidSettings] - Information required to display VPAID creatives - note that it is up 
   *  to the parent application of rmp-vast to provide those informations
   * @property {boolean} [useHlsJS] - Enables hls.js usage to display creatives delivered in HLS format on all devices. Include hls.js library (./externals/hls/hls.min.js) in your page before usage. Default: true.
   * @property {boolean} [debugHlsJS] - Enables debug log when hls.js is used to stream creatives. Default: false.
   * @property {boolean} [omidSupport] - Enables OMID (OM Web SDK) support in rmp-vast. Default: false.
   * @property {string[]} [omidAllowedVendors] - List of allowed vendors for ad verification. Vendors not listed will 
   *  be rejected. Default: [].
   * @property {boolean} [omidUnderEvaluation] - When in development/testing/staging set this to true. Default: false.
   * @property {boolean} [omidAutoplay] - The content player will autoplay or not. The possibility of autoplay is not 
   *  determined by rmp-vast, this information needs to be passed to rmp-vast (see this 
   *  script for example). Default: false (means a click to play is required).
   * @property {string} [partnerName] - partnerName for OMID. Default: 'rmp-vast'.
   * @property {string} [partnerVersion] - partnerVersion for OMID. Default: current rmp-vast version 'x.x.x'.
   * @property {Labels} [labels] - Information required to properly display VPAID creatives - note that it is up to the 
   *  parent application of rmp-vast to provide those informations
   * @property {object} [macros] - 
   * @param {RmpVastParams} [params] - An object representing various parameters that can be passed to a rmp-vast 
   *  instance and that will affect the player inner-workings. Optional parameter.
   */
  function RmpVast(id, params) {
    _classCallCheck(this, RmpVast);
    // reset instance variables - once per session
    this._initInstanceVariables();
    if (typeof id !== 'string' || id === '') {
      Logger.print('error', "Invalid id to create new instance - exit");
      return;
    }
    this.id = id;
    this.container = document.getElementById(this.id);
    this.contentWrapper = this.container.querySelector('.rmp-content');
    this.currentContentPlayer = this.container.querySelector('.rmp-video');
    if (this.container === null || this.contentWrapper === null || this.currentContentPlayer === null) {
      Logger.print('error', "Invalid DOM layout - missing container or content wrapper or content player - exit");
      return;
    }
    Logger.print('info', "Creating new RmpVast instance");
    this.rmpVastContentPlayer = new ContentPlayer(this);
    this.rmpVastUtils = new Utils(this);
    this.rmpVastTracking = new Tracking(this);
    this.rmpVastCompanionCreative = new CompanionCreative(this);
    Logger.printVideoEvents(this.currentContentPlayer, 'content');
    // reset loadAds variables - this is reset at addestroyed 
    // so that next loadAds is cleared
    this.resetVariablesForNewLoadAds();
    // handle fullscreen events
    this.rmpVastUtils.handleFullscreen();
    // filter input params
    this.rmpVastUtils.filterParams(params);
    Logger.print('info', "Filtered params follow", this.params);
  }
  return _createClass(RmpVast, [{
    key: "_initInstanceVariables",
    value: function _initInstanceVariables() {
      this.adContainer = null;
      this.contentWrapper = null;
      this.container = null;
      this.rmpVastContentPlayer = null;
      this.rmpVastAdPlayer = null;
      this.rmpVastUtils = null;
      this.rmpVastTracking = null;
      this.rmpVastCompanionCreative = null;
      this.currentContentSrc = '';
      this.currentContentCurrentTime = -1;
      this.params = {};
      this.events = {};
      this.id = null;
      this.isInFullscreen = false;
      this.contentCompleted = false;
      this.currentContentPlayer = null;
      this.currentAdPlayer = null;
      this.rmpVastInitialized = false;
      // adpod
      this.adPod = false;
      this.adPodLength = 0;
      this.adSequence = 0;
    }
  }, {
    key: "resetVariablesForNewLoadAds",
    value: function resetVariablesForNewLoadAds() {
      if (this.attachViewableObserverFn) {
        this.off('adstarted', this.attachViewableObserverFn);
      }
      this.rmpVastTracking.reset();
      this.rmpVastCompanionCreative.reset();
      this.trackingTags = [];
      this.vastErrorTags = [];
      this.adErrorTags = [];
      this.needsSeekAdjust = false;
      this.seekAdjustAttached = false;
      this.ad = {};
      this.creative = {};
      this.attachViewableObserverFn = null;
      this.viewableObserver = null;
      this.viewablePreviousRatio = 0.5;
      this.regulationsInfo = {};
      this.requireCategory = false;
      this.progressEvents = [];
      this.rmpVastLinearCreative = null;
      this.rmpVastNonLinearCreative = null;
      this.rmpVastVpaidPlayer = null;
      this.adParametersData = '';
      this.rmpVastSimidPlayer = null;
      this.rmpVastIcons = null;
      // for public getters
      this.__adTagUrl = '';
      this.__vastErrorCode = -1;
      this.__adErrorType = '';
      this.__adErrorMessage = '';
      this.__adOnStage = false;
    }

    /** 
     * Dispatch an event to the custom event system
     * @type {(eventName: string, data: object) => void} 
     */
  }, {
    key: "dispatch",
    value: function dispatch(eventName, data) {
      var event = this.events[eventName];
      if (event) {
        var validatedData = {
          type: eventName
        };
        if (data) {
          validatedData.data = data;
        }
        event.fire(validatedData);
      }
    }

    /** 
     * @private
     */
  }, {
    key: "_on",
    value: function _on(eventName, callback) {
      // First we grab the event from this.events
      var event = this.events[eventName];
      // If the event does not exist then we should create it!
      if (!event) {
        event = new Dispatcher(eventName);
        this.events[eventName] = event;
      }
      // Now we add the callback to the event
      event.registerCallback(callback);
    }

    /** 
     * Listen to an event from the custom event system
     * @type {(eventName: string, callback: function) => void} 
     */
  }, {
    key: "on",
    value: function on(eventName, callback) {
      var _this = this;
      if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {
        return;
      }
      var split = eventName.split(' ');
      split.forEach(function (eventItem) {
        _this._on(eventItem, callback);
      });
    }

    /** 
     * @private
     */
  }, {
    key: "_one",
    value: function _one(eventName, callback) {
      var _this2 = this;
      var newCallback = function newCallback(e) {
        _this2.off(eventName, newCallback);
        callback(e);
      };
      this.on(eventName, newCallback);
    }

    /** 
     * Listen once to an event from the custom event system
     * @type {(eventName: string, callback: function) => void} 
     */
  }, {
    key: "one",
    value: function one(eventName, callback) {
      var _this3 = this;
      if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {
        return;
      }
      var split = eventName.split(' ');
      split.forEach(function (eventItem) {
        _this3._one(eventItem, callback);
      });
    }

    /** 
     * @private
     */
  }, {
    key: "_off",
    value: function _off(eventName, callback) {
      var _context;
      // First get the correct event
      var event = this.events[eventName];
      // Check that the event exists and it has the callback registered
      if (event && index_of_default()(_context = event.callbacks).call(_context, callback) > -1) {
        // if it is registered then unregister it!
        event.unregisterCallback(callback);
        // if the event has no callbacks left, delete the event
        if (event.callbacks.length === 0) {
          delete this.events[eventName];
        }
      }
    }

    /** 
     * Unregister an event from the custom event system
     * @type {(eventName: string, callback: function) => void} 
     */
  }, {
    key: "off",
    value: function off(eventName, callback) {
      var _this4 = this;
      if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {
        return;
      }
      var split = eventName.split(' ');
      split.forEach(function (eventItem) {
        _this4._off(eventItem, callback);
      });
    }

    /** 
     * @private
     */
  }, {
    key: "_addTrackingEvents",
    value: function _addTrackingEvents(trackingEvents) {
      var _this5 = this;
      var keys = keys_default()(trackingEvents);
      keys.forEach(function (key) {
        trackingEvents[key].forEach(function (url) {
          _this5.trackingTags.push({
            event: key,
            url: url
          });
        });
      });
    }

    /** 
     * @private
     */
  }, {
    key: "_handleIntersect",
    value: function _handleIntersect(entries) {
      var _this6 = this;
      entries.forEach(function (entry) {
        if (entry.intersectionRatio > _this6.viewablePreviousRatio) {
          _this6.viewableObserver.unobserve(_this6.container);
          _this6.rmpVastTracking.dispatchTrackingAndApiEvent('adviewable');
        }
        _this6.viewablePreviousRatio = entry.intersectionRatio;
      });
    }

    /** 
     * @private
     */
  }, {
    key: "_attachViewableObserver",
    value: function _attachViewableObserver() {
      this.off('adstarted', this.attachViewableObserverFn);
      if (typeof window.IntersectionObserver !== 'undefined') {
        var options = {
          root: null,
          rootMargin: '0px',
          threshold: [0.5]
        };
        this.viewableObserver = new IntersectionObserver(this._handleIntersect.bind(this), options);
        this.viewableObserver.observe(this.container);
      } else {
        this.rmpVastTracking.dispatchTrackingAndApiEvent('adviewundetermined');
      }
    }

    /** 
     * @private
     */
  }, {
    key: "_initViewableImpression",
    value: function _initViewableImpression() {
      var _this7 = this;
      if (this.viewableObserver) {
        this.viewableObserver.unobserve(this.container);
      }
      this.ad.viewableImpression.forEach(function (viewableImpression) {
        if (viewableImpression.viewable.length > 0) {
          viewableImpression.viewable.forEach(function (url) {
            _this7.trackingTags.push({
              event: 'viewable',
              url: url
            });
          });
        }
        if (viewableImpression.notViewable.length > 0) {
          viewableImpression.notViewable.forEach(function (url) {
            _this7.trackingTags.push({
              event: 'notviewable',
              url: url
            });
          });
        }
        if (viewableImpression.viewUndetermined.length > 0) {
          viewableImpression.viewUndetermined.forEach(function (url) {
            _this7.trackingTags.push({
              event: 'viewundetermined',
              url: url
            });
          });
        }
      });
      this.attachViewableObserverFn = this._attachViewableObserver.bind(this);
      this.on('adstarted', this.attachViewableObserverFn);
    }

    /** 
     * @private
     */
  }, {
    key: "_loopAds",
    value: (function () {
      var _loopAds2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ads) {
        var _this8 = this;
        var _loop, i;
        return _regeneratorRuntime().wrap(function _callee$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop(i) {
                return _regeneratorRuntime().wrap(function _loop$(_context2) {
                  while (1) switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.next = 2;
                      return new (core_js_stable_promise_default())(function (resolve) {
                        var currentAd = ads[i];
                        Logger.print('info', "currentAd follows", currentAd);
                        _this8.ad.id = currentAd.id;
                        _this8.ad.adServingId = currentAd.adServingId;
                        _this8.ad.categories = currentAd.categories;
                        if (_this8.requireCategory) {
                          if (_this8.ad.categories.length === 0 || !_this8.ad.categories[0].authority) {
                            _this8.rmpVastUtils.processVastErrors(204, true);
                            resolve();
                          }
                        }
                        _this8.ad.blockedAdCategories = currentAd.blockedAdCategories;
                        if (_this8.requireCategory) {
                          var haltDueToBlockedAdCategories = false;
                          _this8.ad.blockedAdCategories.forEach(function (blockedAdCategory) {
                            var blockedAdCategoryAuthority = blockedAdCategory.authority;
                            var blockedAdCategoryValue = blockedAdCategory.value;
                            _this8.ad.categories.forEach(function (category) {
                              var categoriesAuthority = category.authority;
                              var categoriesValue = category.value;
                              if (blockedAdCategoryAuthority === categoriesAuthority && blockedAdCategoryValue === categoriesValue) {
                                _this8.rmpVastUtils.processVastErrors(205, true);
                                haltDueToBlockedAdCategories = true;
                              }
                            });
                          });
                          if (haltDueToBlockedAdCategories) {
                            resolve();
                          }
                        }
                        _this8.ad.adType = currentAd.adType;
                        _this8.ad.title = currentAd.title;
                        _this8.ad.description = currentAd.description;
                        _this8.ad.system = currentAd.system;
                        _this8.ad.advertiser = currentAd.advertiser;
                        _this8.ad.pricing = currentAd.pricing;
                        _this8.ad.survey = currentAd.survey;
                        _this8.ad.sequence = currentAd.sequence;
                        find_default()(ads).call(ads, function (ad) {
                          _this8.adPod = false;
                          if (ad.sequence && ad.sequence > 1) {
                            _this8.adPod = true;
                            return true;
                          }
                        });
                        // this is to fix a weird bug in vast-client-js - sometimes it returns sequence === null for some items when
                        // adpod is made of redirects
                        if (_this8.adPod) {
                          var max = reduce_default()(ads).call(ads, function (prev, current) {
                            return prev.sequence > current.sequence ? prev : current;
                          }).sequence;
                          ads.forEach(function (ad) {
                            if (ad.sequence === null) {
                              ad.sequence = max + 1;
                              max++;
                            }
                          });
                          _this8.adSequence++;
                          if (_this8.adPodLength === 0) {
                            var adPodLength = 0;
                            ads.forEach(function (ad) {
                              if (ad.sequence) {
                                adPodLength++;
                              }
                            });
                            _this8.adPodLength = adPodLength;
                            Logger.print('info', "AdPod detected with length ".concat(_this8.adPodLength), currentAd);
                          }
                          _this8.one('addestroyed', function () {
                            if (_this8.adSequence === _this8.adPodLength) {
                              _this8.adPodLength = 0;
                              _this8.adSequence = 0;
                              _this8.adPod = false;
                              _this8.rmpVastUtils.createApiEvent('adpodcompleted');
                            }
                            resolve();
                          });
                        }
                        _this8.ad.viewableImpression = currentAd.viewableImpression;
                        if (_this8.ad.viewableImpression.length > 0) {
                          _this8._initViewableImpression();
                        }
                        currentAd.errorURLTemplates.forEach(function (errorURLTemplate) {
                          _this8.adErrorTags.push({
                            event: 'error',
                            url: errorURLTemplate
                          });
                        });
                        currentAd.impressionURLTemplates.forEach(function (impression) {
                          if (impression.url) {
                            _this8.trackingTags.push({
                              event: 'impression',
                              url: impression.url
                            });
                          }
                        });

                        // parse companion
                        var creatives = currentAd.creatives;
                        Logger.print('info', "Parsed creatives follow", creatives);
                        find_default()(creatives).call(creatives, function (creative) {
                          if (creative.type === 'companion') {
                            Logger.print('info', "Creative type companion detected");
                            _this8.rmpVastCompanionCreative.parse(creative);
                            return true;
                          }
                        });
                        for (var k = 0; k < creatives.length; k++) {
                          var creative = creatives[k];
                          // companion >> continue
                          if (creative.type === 'companion') {
                            continue;
                          }
                          _this8.creative.id = creative.id;
                          _this8.creative.universalAdIds = creative.universalAdIds;
                          _this8.creative.adId = creative.adId;
                          _this8.creative.trackingEvents = creative.trackingEvents;
                          switch (creative.type) {
                            case 'linear':
                              _this8.creative.duration = creative.duration;
                              _this8.creative.skipDelay = creative.skipDelay;
                              if (_this8.creative.skipDelay) {
                                _this8.creative.skipoffset = creative.skipDelay;
                                _this8.creative.isSkippableAd = true;
                              }
                              if (creative.videoClickThroughURLTemplate && creative.videoClickThroughURLTemplate.url) {
                                _this8.creative.clickThroughUrl = creative.videoClickThroughURLTemplate.url;
                              }
                              if (creative.videoClickTrackingURLTemplates.length > 0) {
                                creative.videoClickTrackingURLTemplates.forEach(function (videoClickTrackingURLTemplate) {
                                  if (videoClickTrackingURLTemplate.url) {
                                    _this8.trackingTags.push({
                                      event: 'clickthrough',
                                      url: videoClickTrackingURLTemplate.url
                                    });
                                  }
                                });
                              }
                              _this8.creative.isLinear = true;
                              if (creative.interactiveCreativeFile && /simid/i.test(creative.interactiveCreativeFile.apiFramework) && /text\/html/i.test(creative.interactiveCreativeFile.type)) {
                                _this8.creative.simid = {
                                  fileURL: creative.interactiveCreativeFile.fileURL,
                                  variableDuration: creative.interactiveCreativeFile.variableDuration
                                };
                                if (creative.adParameters && creative.adParameters.value) {
                                  _this8.creative.simid.adParameters = creative.adParameters.value;
                                }
                              }
                              _this8._addTrackingEvents(creative.trackingEvents);
                              _this8.rmpVastLinearCreative = new LinearCreative(_this8);
                              _this8.rmpVastLinearCreative.parse(creative);
                              if (_this8.params.omidSupport && currentAd.adVerifications.length > 0) {
                                var omSdkManager = new OmSdkManager(currentAd.adVerifications, _this8);
                                omSdkManager.init();
                              }
                              break;
                            case 'nonlinear':
                              _this8.creative.isLinear = false;
                              _this8._addTrackingEvents(creative.trackingEvents);
                              _this8.rmpVastNonLinearCreative = new NonLinearCreative(_this8);
                              _this8.rmpVastNonLinearCreative.parse(creative.variations);
                              break;
                            default:
                              break;
                          }
                        }
                      });
                    case 2:
                    case "end":
                      return _context2.stop();
                  }
                }, _loop);
              });
              i = 0;
            case 2:
              if (!(i < ads.length)) {
                _context3.next = 7;
                break;
              }
              return _context3.delegateYield(_loop(i), "t0", 4);
            case 4:
              i++;
              _context3.next = 2;
              break;
            case 7:
            case "end":
              return _context3.stop();
          }
        }, _callee);
      }));
      function _loopAds(_x) {
        return _loopAds2.apply(this, arguments);
      }
      return _loopAds;
    }()
    /** 
     * @private
     */
    )
  }, {
    key: "_handleParsedVast",
    value: function _handleParsedVast(response) {
      var _this9 = this;
      Logger.print('info', "VAST response follows", response);

      // error at VAST/Error level
      if (response.errorURLTemplates.length > 0) {
        response.errorURLTemplates.forEach(function (errorURLTemplate) {
          _this9.vastErrorTags.push({
            event: 'error',
            url: errorURLTemplate
          });
        });
      }
      // VAST/Ad 
      if (response.ads.length === 0) {
        this.rmpVastUtils.processVastErrors(303, true);
        return;
      } else {
        this._loopAds(response.ads);
      }
    }

    /** 
     * @private
     */
  }, {
    key: "_getVastTag",
    value: function _getVastTag(vastData) {
      var _this10 = this;
      // we check for required VAST input and API here
      // as we need to have this.currentContentSrc available for iOS
      if (typeof vastData !== 'string' || vastData === '') {
        this.rmpVastUtils.processVastErrors(1001, false);
        return;
      }
      if (typeof DOMParser === 'undefined') {
        this.rmpVastUtils.processVastErrors(1002, false);
        return;
      }
      this.rmpVastUtils.createApiEvent('adtagstartloading');
      if (!this.params.vastXmlInput) {
        var vastClient = new VASTClient();
        var options = {
          timeout: this.params.ajaxTimeout,
          withCredentials: this.params.ajaxWithCredentials,
          wrapperLimit: this.params.maxNumRedirects,
          resolveAll: false,
          allowMultipleAds: true
        };
        this.__adTagUrl = vastData;
        Logger.print('info', "Try to load VAST tag at: ".concat(this.__adTagUrl));
        vastClient.get(this.__adTagUrl, options).then(function (response) {
          _this10.rmpVastUtils.createApiEvent('adtagloaded');
          _this10._handleParsedVast(response);
        }).catch(function (error) {
          Logger.print('warning', error);
          // PING 900 Undefined Error.
          _this10.rmpVastUtils.processVastErrors(900, true);
        });
      } else {
        // input is not a VAST URI but raw VAST XML -> we parse it and proceed
        var vastXml;
        try {
          vastXml = new DOMParser().parseFromString(vastData, 'text/xml');
        } catch (error) {
          Logger.print('warning', error);
          // PING 900 Undefined Error.
          this.rmpVastUtils.processVastErrors(900, true);
          return;
        }
        var vastParser = new VASTParser();
        vastParser.parseVAST(vastXml).then(function (response) {
          _this10.rmpVastUtils.createApiEvent('adtagloaded');
          _this10._handleParsedVast(response);
        }).catch(function (error) {
          Logger.print('warning', error);
          // PING 900 Undefined Error.
          _this10.rmpVastUtils.processVastErrors(900, true);
        });
      }
    }

    /** 
     * @param {string} vastData - the URI to the VAST resource to be loaded - or raw VAST XML if params.vastXmlInput is true
     * @param {object} [regulationsInfo] - data for regulations as
     * @param {string} [regulationsInfo.regulations] - coppa|gdpr for REGULATIONS macro
     * @param {string} [regulationsInfo.limitAdTracking] - 0|1 for LIMITADTRACKING macro
     * @param {string} [regulationsInfo.gdprConsent] - Base64-encoded Cookie Value of IAB GDPR consent info for 
     *  GDPRCONSENT macro
     * @param {boolean} [requireCategory] - for enforcement of VAST 4 Ad Categories
     * @return {void}
     */
  }, {
    key: "loadAds",
    value: function loadAds(vastData, regulationsInfo, requireCategory) {
      Logger.print('info', "loadAds method starts");

      // if player is not initialized - this must be done now
      if (!this.rmpVastInitialized) {
        this.initialize();
      }
      if (_typeof(regulationsInfo) === 'object') {
        var regulationRegExp = /coppa|gdpr/ig;
        if (regulationsInfo.regulations && regulationRegExp.test(regulationsInfo.regulations)) {
          this.regulationsInfo.regulations = regulationsInfo.regulations;
        }
        var limitAdTrackingRegExp = /0|1/ig;
        if (regulationsInfo.limitAdTracking && limitAdTrackingRegExp.test(regulationsInfo.limitAdTracking)) {
          this.regulationsInfo.limitAdTracking = regulationsInfo.limitAdTracking;
        }
        // Base64-encoded Cookie Value of IAB GDPR consent info
        if (regulationsInfo.gdprConsent) {
          this.regulationsInfo.gdprConsent = regulationsInfo.gdprConsent;
        }
      }
      if (requireCategory) {
        this.requireCategory = true;
      }
      var finalVastData = vastData;
      if (!this.params.vastXmlInput) {
        // we have a VAST URI replaceMacros
        finalVastData = this.rmpVastTracking.replaceMacros(vastData, false);
      }

      // if an ad is already on stage we need to clear it first before we can accept another ad request
      if (this.__adOnStage) {
        Logger.print('info', "Creative already on stage calling stopAds before loading new ad");
        this.one('addestroyed', this.loadAds.bind(this, finalVastData));
        this.stopAds();
        return;
      }
      this._getVastTag(finalVastData);
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "play",
    value: function play() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          this.rmpVastVpaidPlayer.resumeAd();
        } else if (this.rmpVastAdPlayer) {
          this.rmpVastAdPlayer.play();
        }
      } else {
        this.rmpVastContentPlayer.play();
      }
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "pause",
    value: function pause() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          this.rmpVastVpaidPlayer.pauseAd();
        } else if (this.rmpVastAdPlayer) {
          this.rmpVastAdPlayer.pause();
        }
      } else {
        this.rmpVastContentPlayer.pause();
      }
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "stopAds",
    value: function stopAds() {
      if (this.__adOnStage) {
        if (this.rmpVastVpaidPlayer) {
          this.rmpVastVpaidPlayer.stopAd();
        } else if (this.rmpVastSimidPlayer) {
          this.rmpVastSimidPlayer.stopAd();
        } else if (this.rmpVastAdPlayer) {
          // this will destroy ad
          this.rmpVastAdPlayer.resumeContent();
        }
      }
    }

    /** 
     * The difference between stopAds and destroy is that after calling destroy you may not call loadAds again
     * You will need to create a new RmpVast instance. 
     * @type {() => void} 
     */
  }, {
    key: "destroy",
    value: function destroy() {
      this.rmpVastUtils.destroyFullscreen();
      if (this.rmpVastAdPlayer) {
        this.rmpVastAdPlayer.destroy();
      }
      this._initInstanceVariables();
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "skipAd",
    value: function skipAd() {
      if (this.__adOnStage && this.adSkippableState) {
        if (this.rmpVastVpaidPlayer) {
          this.rmpVastVpaidPlayer.skipAd();
        } else if (this.rmpVastSimidPlayer) {
          this.rmpVastSimidPlayer.skipAd();
        } else if (this.rmpVastAdPlayer) {
          // this will destroy ad
          this.rmpVastAdPlayer.resumeContent();
        }
      }
    }

    /** 
    * @typedef {object} Environment
    * @property {number} devicePixelRatio
    * @property {number} maxTouchPoints
    * @property {boolean} isIpadOS
    * @property {array} isIos
    * @property {array} isAndroid
    * @property {boolean} isMacOSSafari
    * @property {boolean} isFirefox
    * @property {boolean} isMobile
    * @property {boolean} hasNativeFullscreenSupport
    * @return {Environment}
    */
  }, {
    key: "environment",
    get: function get() {
      return Environment;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "adPaused",
    get: function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getAdPaused();
        } else if (this.currentAdPlayer) {
          return this.currentAdPlayer.paused;
        }
      }
      return false;
    }

    /** 
     * @type {(level: number) => void} 
     */
  }, {
    key: "volume",
    get:
    /** 
     * @type {() => number} 
     */
    function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getAdVolume();
        } else if (this.rmpVastAdPlayer) {
          return this.rmpVastAdPlayer.volume;
        }
      }
      return this.rmpVastContentPlayer.volume;
    }

    /** 
     * @type {(muted: boolean) => void} 
     */,
    set: function set(level) {
      if (!FW.isNumber(level)) {
        return;
      }
      var validatedLevel = 0;
      if (level < 0) {
        validatedLevel = 0;
      } else if (level > 1) {
        validatedLevel = 1;
      } else {
        validatedLevel = level;
      }
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          this.rmpVastVpaidPlayer.setAdVolume(validatedLevel);
        }
        if (this.rmpVastAdPlayer) {
          this.rmpVastAdPlayer.volume = validatedLevel;
        }
      }
      this.rmpVastContentPlayer.volume = validatedLevel;
    }
  }, {
    key: "muted",
    get:
    /** 
     * @type {() => boolean} 
     */
    function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          if (this.rmpVastVpaidPlayer.getAdVolume() === 0) {
            return true;
          }
          return false;
        } else if (this.rmpVastAdPlayer) {
          return this.rmpVastAdPlayer.muted;
        }
      }
      return this.rmpVastContentPlayer.muted;
    }

    /** 
     * @type {() => string} 
     */,
    set: function set(muted) {
      if (typeof muted !== 'boolean') {
        return;
      }
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          if (muted) {
            this.rmpVastVpaidPlayer.setAdVolume(0);
          } else {
            this.rmpVastVpaidPlayer.setAdVolume(1);
          }
        } else if (this.rmpVastAdPlayer) {
          this.rmpVastAdPlayer.muted = muted;
        }
      }
      this.rmpVastContentPlayer.muted = muted;
    }
  }, {
    key: "adTagUrl",
    get: function get() {
      return this.__adTagUrl;
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adMediaUrl",
    get: function get() {
      if (this.__adOnStage) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getCreativeUrl();
        } else {
          if (this.creative && this.creative.mediaUrl) {
            return this.creative.mediaUrl;
          }
        }
      }
      return '';
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "adLinear",
    get: function get() {
      if (this.creative && this.creative.isLinear) {
        return true;
      }
      return false;
    }

    /** 
     * @typedef {object} AdSystem
     * @property {string} value
     * @property {string} version
     * @return {AdSystem}
     */
  }, {
    key: "adSystem",
    get: function get() {
      // <AdSystem version="2.0" ><![CDATA[AdServer]]></AdSystem>
      // {value: String, version: String}
      if (this.ad && this.ad.system) {
        return {
          value: this.ad.system.value || '',
          version: this.ad.system.version || ''
        };
      }
      return {
        value: '',
        version: ''
      };
    }

    /** 
     * @typedef {object} universalAdId
     * @property {string} idRegistry
     * @property {string} value
     * @return {universalAdId[]}
     */
  }, {
    key: "adUniversalAdIds",
    get: function get() {
      // <UniversalAdId idRegistry="daily-motion-L">Linear-12345</UniversalAdId>
      // [{idRegistry: String, value: String}]
      if (this.creative && this.creative.universalAdIds) {
        return this.creative.universalAdIds;
      }
      return [];
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adContentType",
    get: function get() {
      if (this.creative && this.creative.type) {
        return this.creative.type;
      }
      return '';
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adTitle",
    get: function get() {
      if (this.ad && this.ad.title) {
        return this.ad.title;
      }
      return '';
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adDescription",
    get: function get() {
      if (this.ad && this.ad.description) {
        return this.ad.description;
      }
      return '';
    }

    /** 
     * @typedef {object} Advertiser
     * @property {string} id
     * @property {string} value
     * @return {Advertiser}
     */
  }, {
    key: "adAdvertiser",
    get: function get() {
      // <Advertiser id='advertiser-desc'><![CDATA[Advertiser name]]></Advertiser>
      // {id: String, value: String}
      if (this.ad && this.ad.advertiser && this.ad.advertiser !== null) {
        return this.ad.advertiser;
      }
      return {
        id: '',
        value: ''
      };
    }

    /** 
     * @typedef {object} Pricing
     * @property {string} value
     * @property {string} model
     * @property {string} currency
     * @return {Pricing}
     */
  }, {
    key: "adPricing",
    get: function get() {
      // <Pricing model="CPM" currency="USD" ><![CDATA[1.09]]></Pricing>
      // {value: String, model: String, currency: String}
      if (this.ad && this.ad.pricing && this.ad.pricing !== null) {
        return this.ad.pricing;
      }
      return {
        value: '',
        model: '',
        currency: ''
      };
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adSurvey",
    get: function get() {
      if (this.ad && this.ad.survey) {
        return this.ad.survey;
      }
      return {
        value: '',
        type: ''
      };
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adAdServingId",
    get: function get() {
      if (this.ad && this.ad.adServingId) {
        return this.ad.adServingId;
      }
      return '';
    }

    /** 
     * @typedef {object} Category
     * @property {string} authority
     * @property {string} value
     * @return {Category[]}
     */
  }, {
    key: "adCategories",
    get: function get() {
      // <Category authority=”iabtechlab.com”>232</Category> 
      if (this.ad && this.ad.categories && this.ad.categories.length > 0) {
        return this.ad.categories;
      }
      return [];
    }

    /** 
     * @typedef {object} BlockedAdCategory
     * @property {string} authority
     * @property {string} value
     * @return {BlockedAdCategory[]}
     */
  }, {
    key: "adBlockedAdCategories",
    get: function get() {
      // <BlockedAdCategories authority=”iabtechlab.com”>232</BlockedAdCategories> 
      if (this.ad && this.ad.blockedAdCategories && this.ad.blockedAdCategories.length > 0) {
        return this.ad.blockedAdCategories;
      }
      return [];
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adDuration",
    get: function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          var duration = this.rmpVastVpaidPlayer.getAdDuration();
          if (duration > 0) {
            duration = duration * 1000;
          }
          return duration;
        } else if (this.rmpVastAdPlayer) {
          return this.rmpVastAdPlayer.duration;
        }
      }
      return -1;
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adCurrentTime",
    get: function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          var remainingTime = this.rmpVastVpaidPlayer.getAdRemainingTime();
          var duration = this.rmpVastVpaidPlayer.getAdDuration();
          if (remainingTime === -1 || duration === -1 || remainingTime > duration) {
            return -1;
          }
          return (duration - remainingTime) * 1000;
        } else if (this.rmpVastAdPlayer) {
          return this.rmpVastAdPlayer.currentTime;
        }
      }
      return -1;
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adRemainingTime",
    get: function get() {
      if (this.__adOnStage && this.creative && this.creative.isLinear) {
        if (this.rmpVastVpaidPlayer) {
          var adRemainingTime = this.rmpVastVpaidPlayer.getAdRemainingTime();
          if (adRemainingTime > 0) {
            adRemainingTime = adRemainingTime * 1000;
          }
          return adRemainingTime;
        } else if (this.rmpVastAdPlayer) {
          var currentTime = this.rmpVastAdPlayer.currentTime;
          var duration = this.rmpVastAdPlayer.duration;
          if (currentTime === -1 || duration === -1 || currentTime > duration) {
            return -1;
          }
          return duration - currentTime;
        }
      }
      return -1;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "adOnStage",
    get: function get() {
      return this.__adOnStage;
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adMediaWidth",
    get: function get() {
      if (this.__adOnStage) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getAdWidth();
        } else if (this.creative && this.creative.width) {
          return this.creative.width;
        }
      }
      return -1;
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adMediaHeight",
    get: function get() {
      if (this.__adOnStage) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getAdHeight();
        } else if (this.creative && this.creative.height) {
          return this.creative.height;
        }
      }
      return -1;
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "clickThroughUrl",
    get: function get() {
      if (this.creative && this.creative.clickThroughUrl) {
        return this.creative.clickThroughUrl;
      }
      return '';
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "skipTimeOffset",
    get: function get() {
      if (this.creative && this.creative.skipoffset) {
        return this.creative.skipoffset;
      }
      return -1;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "isSkippableAd",
    get: function get() {
      if (this.creative && this.creative.isSkippableAd) {
        return true;
      }
      return false;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "contentPlayerCompleted",
    get: function get() {
      return this.contentCompleted;
    }

    /** 
     * @param {boolean} value
     * @return {void}
     */,
    set: function set(value) {
      if (typeof value === 'boolean') {
        this.contentCompleted = value;
      }
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adErrorMessage",
    get: function get() {
      return this.__adErrorMessage;
    }

    /** 
     * @type {() => number} 
     */
  }, {
    key: "adVastErrorCode",
    get: function get() {
      return this.__vastErrorCode;
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "adErrorType",
    get: function get() {
      return this.__adErrorType;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "adSkippableState",
    get: function get() {
      if (this.__adOnStage) {
        if (this.rmpVastVpaidPlayer) {
          return this.rmpVastVpaidPlayer.getAdSkippableState();
        } else if (this.rmpVastSimidPlayer) {
          return true;
        } else {
          if (this.isSkippableAd && this.rmpVastLinearCreative) {
            return this.rmpVastLinearCreative.skippableAdCanBeSkipped;
          }
        }
      }
      return false;
    }

    /** 
     * @return {HTMLMediaElement|null}
     */
  }, {
    key: "adPlayer",
    get: function get() {
      return this.currentAdPlayer;
    }

    /** 
     * @return {HTMLMediaElement|null}
     */
  }, {
    key: "contentPlayer",
    get: function get() {
      return this.currentContentPlayer;
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "initialized",
    get: function get() {
      return this.rmpVastInitialized;
    }

    /** 
     * @typedef {object} AdPod
     * @property {number} adPodCurrentIndex
     * @property {number} adPodLength
     * @return {AdPod}
     */
  }, {
    key: "adPodInfo",
    get: function get() {
      if (this.adPod && this.adPodLength) {
        var result = {};
        result.adPodCurrentIndex = this.adSequence;
        result.adPodLength = this.adPodLength;
        return result;
      }
      return {
        adPodCurrentIndex: -1,
        adPodLength: 0
      };
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "companionAdsRequiredAttribute",
    get: function get() {
      return this.rmpVastCompanionCreative.requiredAttribute;
    }

    /** 
     * @param {number} inputWidth
     * @param {number} inputHeight
     * @typedef {object} Companion
     * @property {string} adSlotId
     * @property {string} altText
     * @property {string} companionClickThroughUrl
     * @property {string} companionClickTrackingUrl
     * @property {number} height
     * @property {number} width
     * @property {string} imageUrl
     * @property {string[]} trackingEventsUri
     * @return {Companion[]}
     */
  }, {
    key: "getCompanionAdsList",
    value: function getCompanionAdsList(inputWidth, inputHeight) {
      return this.rmpVastCompanionCreative.getList(inputWidth, inputHeight);
    }

    /** 
     * @param {number} index
     * @return {HTMLElement|null}
     */
  }, {
    key: "getCompanionAd",
    value: function getCompanionAd(index) {
      return this.rmpVastCompanionCreative.getItem(index);
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "initialize",
    value: function initialize() {
      if (!this.rmpVastInitialized) {
        Logger.print('info', "Upon user interaction - player needs to be initialized");
        this.rmpVastAdPlayer = new AdPlayer(this);
        this.rmpVastAdPlayer.init();
      }
    }

    // VPAID methods
    /** 
     * @type {(width: number, height: number, viewMode: string) => void} 
     */
  }, {
    key: "resizeAd",
    value: function resizeAd(width, height, viewMode) {
      if (this.rmpVastVpaidPlayer) {
        this.rmpVastVpaidPlayer.resizeAd(width, height, viewMode);
      }
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "expandAd",
    value: function expandAd() {
      if (this.rmpVastVpaidPlayer) {
        this.rmpVastVpaidPlayer.expandAd();
      }
    }

    /** 
     * @type {() => void} 
     */
  }, {
    key: "collapseAd",
    value: function collapseAd() {
      if (this.rmpVastVpaidPlayer) {
        this.rmpVastVpaidPlayer.collapseAd();
      }
    }

    /** 
     * @type {() => boolean} 
     */
  }, {
    key: "adExpanded",
    get: function get() {
      if (this.rmpVastVpaidPlayer) {
        this.rmpVastVpaidPlayer.getAdExpanded();
      }
      return false;
    }

    /** 
     * @type {() => string} 
     */
  }, {
    key: "vpaidCompanionAds",
    get: function get() {
      if (this.rmpVastVpaidPlayer) {
        this.rmpVastVpaidPlayer.getAdCompanions();
      }
      return '';
    }
  }]);
}();

}();
window.RmpVast = __webpack_exports__["default"];
/******/ })()
;
//# sourceMappingURL=rmp-vast.js.map